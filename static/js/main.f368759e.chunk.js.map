{"version":3,"sources":["components/App/logo4x.png","components/MainPage/MainPage.jsx","components/ModalForms/TemplateFolder/AddTemplateElement.jsx","components/ModalForms/TemplateFolder/AddTemplateFolder.jsx","components/ModalForms/Folder/ExportFolder.jsx","components/Toolbar/ToolbarTemplateFolder.jsx","components/TemplatePage/TemplatePage.jsx","components/ModalForms/Folder/AddElement.jsx","components/ModalForms/Folder/AddFolder.jsx","components/ModalForms/Folder/DeleteFolder.jsx","components/ModalForms/Folder/EditFolder.jsx","components/ModalForms/Folder/ImportFolder.jsx","components/Toolbar/ToolbarFolder.jsx","components/FolderPage/FolderPage.jsx","components/ModalForms/Element/AddCharacteristics.jsx","components/ModalForms/Element/AddTemplateElement.jsx","components/ModalForms/Element/DeleteElement.jsx","components/ModalForms/Element/EditElement.jsx","components/ModalForms/Element/ExportElement.jsx","components/ModalForms/Element/AddRelation.jsx","components/Toolbar/ToolbarElement.jsx","components/ElementPage/ElementPage.jsx","components/ModalForms/TemplateElement/DeleteTemplateElement.jsx","components/Toolbar/ToolBarTemplateElement.jsx","components/TemplateElementPage/TemplateElementPage.jsx","components/Login/Login.jsx","components/Registration/Registration.jsx","components/Settings/Settings.jsx","components/App/App.js","components/App/useToken.js","reportWebVitals.js","index.js"],"names":["MainPage","props","console","log","state","user","mainfolders","handleClick","bind","e","preventDefault","this","history","push","localStorage","clear","window","location","reload","userid","a","fetch","process","then","response","json","data","setState","catch","err","login","password","body","loginUser","Mail","Password","GetMainFolders","Id","breadCrumbs","title","path","className","map","bc","to","pathname","onClick","src","logo","alt","mf","Name","Component","SaveTemplateElement","elwithimg","method","headers","status","AddElement","name","filepath","file","onChange","sendImage","handleImageChange","val","target","value","event","onClose","form","FormData","index","files","length","element","append","folder","URL","createObjectURL","show","stopPropagation","type","SaveFolder","parentfolderid","Number","JSON","stringify","changedirectory","param","handleSubmit","folders","ExportToUser","folderid","usermail","ExportToLibrary","ExportToFolder","newrootid","ExportFolder","exporttype","indexOf","prevpages","text","setTypeOfExport","onMailChange","onPasswordChange","showlocation","prevProps","isdeleted","slice","Toolbar","useState","showAddElement","set_showAddElement","showAddFolder","set_showAddFolder","showDeleteComponent","set_showDeleteComponent","showEditComponent","set_showEditComponent","showExportComponent","set_showExportComponent","showImportComponent","set_showImportComponent","parent","previouspages","component","TemplatePage","elements","parentid","GetFolders","GetElements","Image","typeof_parentel","SaveElement","pfid","SaveImage","AddFolder","DeleteFolder","DeleteElement","elementid","DeleteComponent","typeofcomponent","EditFolder","isupdated","ImportFolder","importtype","setTypeOfImport","FolderPage","el","SaveCharacteristics","arrayofcharacteristics","idel","box","AddCharacteristics","ChangeName","prevState","newItems","characteristics","ChangeValue","currentchar","CreateNew","CreateNewName","CreateNewValue","Save","array","id","char","AddTemplate","templateid","AddTemplateElement","Selecttelement","GetFoldersAndElements","isneedupdate","telements","CloseWindow","idparent","EditElement","ChangeShow","typeofedit","DeleteChar","filter","DeleteClass","templatecharacteristics","DeleteRelation","relations","rel","tchars","chars","GetFoldersElementsRelations","item","IdParent","NameParent","setObj","Set","groups","reduce","acc","has","add","group","Value","NameFirstElement","NameSecondElement","Rel1to2","Rel2to1","IdFirst","AddRelationTwoLines","firstelement","secondelement","firsttosec","sectofirst","Firstelementid","Secondelementid","Accept","AddRelationOneLine","AddRelation","typeofrel","defaultdirection","firstrel","secondrel","changedirection","changeonelinerel","changesecondlinerel","changetypeofrel","showRelation","set_showRelation","ElementPage","showcharacreristics","GetTemplateCharacteristics","GetCharacteristics","GetRelations","number","NameCharacter","ValueCharacter","IdCharacter","TemplateElementPage","savepath","Login","setToken","username","setUserName","setPassword","useHistory","token","onSubmit","placeholder","SingUp","mail","Registration","alert","ifregister","onChangeMail","onChangePassword","ChangeData","Settings","DeleteAcc","withRouter","tokenString","getItem","userToken","parse","getToken","setItem","useToken","GeneralLibrary","from","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"gkBAAe,G,MAAA,IAA0B,oC,OCKpBA,E,kDACjB,WAAYC,GAAO,IAAD,6BACd,cAAMA,GACNC,QAAQC,IAAIF,GACZ,EAAKG,MAAM,CAACC,KAAK,KAAMC,YAAY,MACnC,EAAKC,YAAc,EAAKA,YAAYC,KAAjB,gBAJL,E,+CAMlB,SAAYC,GACRA,EAAEC,iBACFC,KAAKV,MAAMW,QAAQC,KAAK,KACxBC,aAAaC,QACbC,OAAOC,SAASC,W,mEAGpB,WAAqBC,GAArB,oBAAAC,EAAA,sEACUC,MAAMC,kEAAA,gBAA2CH,IACtDI,MAAK,SAAAC,GAAY,OAAOA,EAASC,UACjCF,MAAK,SAAAG,GACF,EAAKC,SAAS,CAACrB,YAAYoB,IAC3BxB,QAAQC,IAAIuB,MACbE,OAAM,SAAAC,GAAG,OAAI3B,QAAQC,IAAI0B,MANhC,2C,qHAQA,WAAiBC,EAAOC,GAAxB,oBAAAX,EAAA,sEAEaC,MAAMC,gEAAA,gBAAyCQ,EAAzC,iBAAuDC,IACzER,MAAK,SAAAC,GAAY,OAAOA,EAASC,UAC7BF,MAAK,SAAAG,GAEF,OADA,EAAKC,SAAS,CAACtB,KAAKqB,IACbA,KACRE,OAAM,SAAAC,GAAG,OAAI3B,QAAQC,IAAI0B,MAPhC,mF,+HAUA,4BAAAT,EAAA,6DACuC,MAAhCT,KAAKV,MAAMgB,SAASb,MAAM4B,OAEzBlB,aAAaC,QACbC,OAAOC,SAASC,UAJxB,SAMuBP,KAAKsB,UAAUtB,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKE,KAAKvB,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKG,UANzG,YAMU9B,EANV,wCAScM,KAAKyB,eAAe/B,EAAKgC,IATvC,8BAaQvB,aAAaC,QACbC,OAAOC,SAASC,SAdxB,iD,0EAkBA,WACI,IAAMP,KAAKP,MAAMC,OAASM,KAAKP,MAAME,YACjC,OAAO,wBAEX,IAAMA,EAAYK,KAAKP,MAAME,YACvBgC,EAAc,CAChB,CACEC,MAAO,6CACPC,KAAM,IACNR,KAAM,CACF,KAAOrB,KAAKP,MAAMC,KAAK6B,KACvB,SAAWvB,KAAKP,MAAMC,KAAK8B,YAIrC,OACI,gCACI,sBAAKM,UAAU,SAAf,UACA,qBAAKA,UAAU,cAAf,SACCH,EAAYI,KAAI,SAAAC,GAAE,OACX,sBAAoBF,UAAU,KAA9B,UAEI,cAAC,IAAD,CAAMA,UAAU,aAAaG,GAAI,CAACC,SAASF,EAAGH,KAAMpC,MAAM,CAAC4B,KAAKW,EAAGX,KAAMM,YAAYA,IAArF,SACEK,EAAGJ,QAHT,uBAAUI,EAAGJ,YAQb,sBAAKE,UAAU,mBAAf,UACA,cAAC,IAAD,CAAMG,GAAI,CAACC,SAAS,aAApB,SACT,wBAAQJ,UAAU,aAAlB,sEAEA,wBAAQA,UAAU,aAAaK,QAASnC,KAAKJ,YAA7C,4CACD,qBAAKkC,UAAU,OAAOM,IAAKC,EAAMC,IAAI,sBAGvC,qBAAKR,UAAU,cAAf,SACCnC,EAAYoC,KAAI,SAAAQ,GAAE,OACP,qBAAiBT,UAAU,UAA3B,SACW,+CAAVS,EAAGC,KAAkB,cAAC,IAAD,CAAMP,GAAI,CAACC,SAAS,YAAazC,MAAO,CAACkC,YAAYA,EAAYN,KAAK,CAACK,GAAGa,EAAGb,GAAIc,KAAKD,EAAGC,QAAzF,SAClB,wBAAQV,UAAU,eAAlB,0DAGW,cAAC,IAAD,CAAMG,GAAI,CAACC,SAAS,YAAazC,MAAO,CAACkC,YAAYA,EAAYN,KAAK,CAACK,GAAGa,EAAGb,GAAIc,KAAKD,EAAGC,QAAzF,SACT,wBAAQV,UAAU,eAAlB,gJANIS,EAAGb,gB,GAxFCe,a,+BCHvBC,E,8EAAf,WAAoCC,GAApC,SAAAlC,EAAA,sEAEUC,MAAMC,2EAA2C,CACnDiC,OAAQ,OACRvB,KAAMsB,EACNE,QAAS,CACL,OAAU,sBACRjC,MAAK,SAASC,GAChBtB,QAAQC,IAAIqB,EAASiC,WARjC,4C,0BAWqBC,E,kDACjB,WAAYzD,GAAO,IAAD,8BACd,cAAMA,IACDG,MAAM,CAACuD,KAAK,GAAIC,SAAS,KAAMC,KAAM,MAC1C,EAAKC,SAAW,EAAKA,SAAStD,KAAd,gBAChB,EAAKuD,UAAY,EAAKA,UAAUvD,KAAf,gBACjB,EAAKwD,kBAAoB,EAAKA,kBAAkBxD,KAAvB,gBALX,E,4CAOlB,SAASC,GACL,IAAIwD,EAAMxD,EAAEyD,OAAOC,MACnBxD,KAAKgB,SAAS,CAACgC,KAAMM,M,8DAGzB,WAAgBG,GAAhB,SAAAhD,EAAA,6DACIgD,EAAM1D,iBADV,SAEU2C,EAAoB1C,KAAKP,MAAMyD,MAFzC,OAGIlD,KAAKV,MAAMoE,UACXrD,OAAOC,SAASC,SAJpB,gD,sFAOA,SAAkBT,GACdA,EAAEC,iBAEF,IADA,IAAI4D,EAAO,IAAIC,SACNC,EAAQ,EAAGA,EAAQ/D,EAAEyD,OAAOO,MAAMC,OAAQF,IAAS,CACxD,IAAIG,EAAUlE,EAAEyD,OAAOO,MAAMD,GAC7BF,EAAKM,OAAO,QAASD,GAEzBL,EAAKM,OAAO,iBAAkBjE,KAAKV,MAAM4E,OAAOxC,IAChDiC,EAAKM,OAAO,OAAQjE,KAAKP,MAAMuD,MAC/BhD,KAAKgB,SAAS,CAAEkC,KAAMS,EAAMV,SAAUkB,IAAIC,gBAAgBtE,EAAEyD,OAAOO,MAAM,Q,oBAG7E,WACI,OAAI9D,KAAKV,MAAM+E,KAKX,qBAAKvC,UAAU,YAAYK,QAASnC,KAAKV,MAAMoE,QAA/C,SACA,sBAAK5B,UAAU,gBAAgBK,QAAS,SAAArC,GAAC,OAAEA,EAAEwE,mBAA7C,UACI,qBAAKxC,UAAU,eAAf,SACI,qBAAKA,UAAU,cAAf,8KAEJ,sBAAKA,UAAU,aAAf,UACA,uBAAOA,UAAU,YAAjB,gEACA,uBAAOA,UAAU,YAAYyC,KAAK,OAAOf,MAAOxD,KAAKP,MAAMuD,KAAMG,SAAUnD,KAAKmD,WAChF,uBAAOrB,UAAU,YAAjB,uFACA,sBAAKA,UAAU,QAAf,UACA,gCAAQ9B,KAAKV,MAAM4E,OAAO1B,OAD1B,IACwC,yBAAQV,UAAU,eAAlB,eAAoC,IAApC,aAQxC,sBAAKA,UAAU,eAAf,UACA,wBAAQA,UAAU,oBAAoBK,QAASnC,KAAKoD,UAApD,oEACA,wBAAQtB,UAAU,qBAAqBK,QAASnC,KAAKV,MAAMoE,QAA3D,oDAvBG,S,GAnCqBjB,a,SCVzB+B,E,gFAAf,WAA2BxB,EAAMyB,GAAjC,eAAAhE,EAAA,6DAEUyD,EAAW,CACf,KAAQlB,EACR,eAAkB0B,OAAOD,IAJ/B,SAMU/D,MAAMC,0EAA0C,CAClDiC,OAAQ,OACRvB,KAAMsD,KAAKC,UAAUV,GACrBrB,QAAS,CACL,OAAU,mBACV,eAAgB,sBACdjC,MAAK,SAASC,GAChBtB,QAAQC,IAAIqB,EAASiC,WAbjC,4C,0BAgBqBC,E,kDACjB,WAAYzD,GAAO,IAAD,8BACd,cAAMA,IAWVuF,gBAAkB,SAAAC,GAAK,8CAAI,WAAMhF,GAAN,SAAAW,EAAA,0FAAJ,uDAZL,EAgBlBsE,aAhBkB,uCAgBH,WAAMjF,GAAN,SAAAW,EAAA,6DACXX,EAAEC,iBACFR,QAAQC,IAAI,EAAKF,OAFN,SAGLkF,EAAW,EAAK/E,MAAMuD,KAAK,EAAK1D,MAAM4E,OAAOxC,IAHxC,OAIX,EAAKpC,MAAMoE,UACXrD,OAAOC,SAASC,SALL,2CAhBG,sDAEd,EAAKd,MAAM,CAACuD,KAAK,GAAIgC,QAAQ,KAAMrD,YAAY,MAC/C,EAAKwB,SAAW,EAAKA,SAAStD,KAAd,gBAChB,EAAKkF,aAAe,EAAKA,aAAalF,KAAlB,gBACpB,EAAKgF,gBAAkB,EAAKA,gBAAgBhF,KAArB,gBALT,E,4CAOlB,SAASC,GACL,IAAIwD,EAAMxD,EAAEyD,OAAOC,MACnBxD,KAAKgB,SAAS,CAACgC,KAAMM,M,oBAezB,WACI,OAAItD,KAAKV,MAAM+E,KAKX,qBAAKvC,UAAU,YAAYK,QAASnC,KAAKV,MAAMoE,QAA/C,SACA,sBAAK5B,UAAU,gBAAgBK,QAAS,SAAArC,GAAC,OAAEA,EAAEwE,mBAA7C,UACI,qBAAKxC,UAAU,eAAf,SACI,qBAAKA,UAAU,cAAf,+FAEJ,sBAAKA,UAAU,aAAf,UACA,uBAAOA,UAAU,YAAjB,gEACA,uBAAOA,UAAU,YAAYyC,KAAK,OAAOf,MAAOxD,KAAKP,MAAMuD,KAAMG,SAAUnD,KAAKmD,WAChF,uBAAOrB,UAAU,YAAjB,uFACA,sBAAKA,UAAU,QAAf,UACA,gCAAQ9B,KAAKV,MAAM4E,OAAO1B,OAD1B,IACwC,yBAAQV,UAAU,eAAlB,eAAoC,IAApC,aAexC,sBAAKA,UAAU,eAAf,UACA,wBAAQA,UAAU,oBAAoBK,QAASnC,KAAK+E,aAApD,oEACA,wBAAQjD,UAAU,qBAAqBK,QAASnC,KAAKV,MAAMoE,QAA3D,oDA9BG,S,GA5BqBjB,a,4DCfzBwC,E,gFAAf,WAA6BC,EAAUC,GAAvC,SAAA1E,EAAA,sEAEUC,MAAMC,kEAAA,iCAA8DuE,EAA9D,qBAAmFC,GAAW,CACtGvC,OAAQ,MACRC,QAAS,CACL,eAAe,sBACfjC,MAAK,SAAAG,GAAI,OAAIA,EAAKD,UAN9B,4C,+BAQesE,E,gFAAf,WAAgCF,EAAU9D,GAA1C,SAAAX,EAAA,sEAEUC,MAAMC,kEAAA,oCAAiEuE,EAAjE,qBAAsF9D,GAAW,CACzGwB,OAAQ,MACRC,QAAS,CACL,eAAe,sBACfjC,MAAK,SAAAG,GAAI,OAAIA,EAAKD,UAN9B,4C,+BAQeuE,E,gFAAf,WAA+BH,EAAUI,GAAzC,SAAA7E,EAAA,sEAEUC,MAAMC,kEAAA,mCAAgEuE,EAAhE,sBAAsFI,GAAY,CAC1G1C,OAAQ,MACRC,QAAS,CACL,eAAe,sBACfjC,MAAK,SAAAG,GAAI,OAAIA,EAAKD,UAN9B,4C,0BASqByE,E,kDACjB,WAAYjG,GAAO,IAAD,8BACd,cAAMA,IAYVyF,aAbkB,uCAaH,WAAMjF,GAAN,SAAAW,EAAA,yDACXX,EAAEC,iBACyB,SAAxB,EAAKN,MAAM+F,WAFH,gCAIDP,EAAa,EAAK3F,MAAM4E,OAAOxC,GAAI,EAAKjC,MAAM4B,MAJ7C,iCAMsB,YAAxB,EAAK5B,MAAM+F,WANT,iCAQDJ,EAAgB,EAAK9F,MAAM4E,OAAOxC,GAAI,EAAKjC,MAAM4B,MARhD,kCAWsB,WAAxB,EAAK5B,MAAM+F,WAXT,kCAaDH,EAAe,EAAK/F,MAAM4E,OAAOxC,GAAI,EAAKjC,MAAMoC,KAAKH,IAbpD,QAeX,EAAKpC,MAAMoE,UAfA,4CAbG,wDA+BlBmB,gBAAiB,SAAAC,GAAK,8CAAI,WAAMrB,GAAN,iBAAAhD,EAAA,6DAChBkB,EAAc,EAAKlC,MAAMkC,aAEnB,KADNkC,EAAQlC,EAAYI,KAAI,SAASjC,GAAK,OAAOA,EAAEuB,KAAKK,MAAO+D,QAAQX,EAAMpD,KAG/EC,EAAYzB,KAAK,CACb0B,MAAOkD,EAAMtC,KACbX,KAAK,YACLR,KAAK,CACD,KAAOyD,EAAMtC,KACb,GAAKsC,EAAMpD,MAMfC,EAAYoC,OAAOF,EAAM,EAhBP,SAkBhBnD,MAAMC,kEAAA,WAAsCmE,EAAMpD,KACvDd,MAAK,SAAAC,GAAY,OAAOA,EAASC,UACjCF,MAAK,SAAAG,GACF,EAAKC,SAAS,CAACgE,QAAQjE,EAAMY,YAAYA,EAAaE,KAAK,CAACW,KAAKsC,EAAMtC,KAAMd,GAAGoD,EAAMpD,SACvFT,OAAM,SAAAC,GAAG,OAAI3B,QAAQC,IAAI0B,MAtBN,OAuBtB3B,QAAQC,IAAI,EAAKC,OAvBK,2CAAJ,uDA7BlBF,QAAQC,IAAI,EAAKF,OACjB,EAAKG,MAAM,CAAC+F,WAAW,KAAMnE,KAAK,KAAMQ,KAAK,CAACW,KAAK,EAAKlD,MAAM4E,OAAO1B,KAAMd,GAAG,EAAKpC,MAAM4E,OAAOxC,IAAKsD,QAAQ,KAAMrD,YAAY,EAAKrC,MAAMoG,UAAWC,KAAK,oDAC1J,EAAKZ,aAAe,EAAKA,aAAalF,KAAlB,gBACpB,EAAK+F,gBAAkB,EAAKA,gBAAgB/F,KAArB,gBACvB,EAAKgG,aAAe,EAAKA,aAAahG,KAAlB,gBACpB,EAAKiG,iBAAmB,EAAKA,iBAAiBjG,KAAtB,gBACxB,EAAKkG,aAAe,EAAKA,aAAalG,KAAlB,gBACpB,EAAKgF,gBAAkB,EAAKA,gBAAgBhF,KAArB,gBATT,E,uFAyDlB,WAAmB4D,GAAnB,oBAAAhD,EAAA,sEACUC,MAAMC,kEAAA,WAAsCX,KAAKV,MAAM4E,OAAOxC,KACnEd,MAAK,SAAAC,GAAY,OAAOA,EAASC,UACjCF,MAAK,SAAAG,GACgB,qDAAlB,EAAKtB,MAAMkG,KAAkB,EAAK3E,SAAS,CAAC2E,KAAK,mDAAWX,QAAQjE,IAAO,EAAKC,SAAS,CAAC2E,KAAK,wDAChG1E,OAAM,SAAAC,GAAG,OAAI3B,QAAQC,IAAI0B,MALhC,gD,oFASA,SAAgBuC,GACY,WAArBA,EAAMF,OAAOC,MAEZxD,KAAKgB,SAAS,CAACwE,WAAW/B,EAAMF,OAAOC,MAAO3B,KAAK,CAACW,KAAKxC,KAAKV,MAAM4E,OAAO1B,KAAMd,GAAG1B,KAAKV,MAAM4E,OAAOxC,MAKtG1B,KAAKgB,SAAS,CAACwE,WAAW/B,EAAMF,OAAOC,QAE3CjE,QAAQC,IAAI,S,0BAEd,SAAaiE,GACXzD,KAAKgB,SAAS,CAACK,KAAKoC,EAAMF,OAAOC,U,8BAEnC,SAAiBC,GACfzD,KAAKgB,SAAS,CAACK,KAAKoC,EAAMF,OAAOC,U,uEAIrC,WAAyBwC,GAAzB,SAAAvF,EAAA,sDACIuF,EAAU9B,OAAOxC,KAAO1B,KAAKV,MAAM4E,OAAOxC,IAE1C1B,KAAKgB,SAAS,CAACwE,WAAW,KAAMnE,KAAK,KAAMQ,KAAK,CAACW,KAAKxC,KAAKV,MAAM4E,OAAO1B,KAAMd,GAAG1B,KAAKV,MAAM4E,OAAOxC,IAAKsD,QAAQ,KAAMrD,YAAY3B,KAAKV,MAAMoG,UAAWC,KAAK,qDAHjK,gD,2EAOA,WAAS,IAAD,OAEJ,GADApG,QAAQC,IAAI,yFACTQ,KAAKP,MAAMwG,UACd,CACI,IAAIjE,EAAGhC,KAAKV,MAAMoG,UAIlB,OAHA1D,EAAG+B,OAAO/B,EAAG+B,OAAO,EACpB/D,KAAKgB,SAAS,CAACiF,WAAW,IAC1B1G,QAAQC,IAAI,kEACL,cAAC,IAAD,CAAUyC,GAAI,CAACC,SAAUF,EAAGA,EAAG+B,OAAO,GAAGlC,KAAMpC,MAAO,CAAE4B,KAAMW,EAAGA,EAAG+B,OAAO,GAAG1C,KAAMM,YAAYK,MAG3G,OAAIhC,KAAKV,MAAM+E,MAIX9E,QAAQC,IAAIQ,KAAKV,OAEjB,qBAAKwC,UAAU,YAAYK,QAASnC,KAAKV,MAAMoE,QAA/C,SACA,sBAAK5B,UAAU,gBAAgBK,QAAS,SAAArC,GAAC,OAAEA,EAAEwE,mBAA7C,UACI,qBAAKxC,UAAU,eAAf,SACI,sBAAKA,UAAU,cAAf,uFAA4C9B,KAAKV,MAAM4E,OAAO1B,UAElE,qBAAKV,UAAU,aAAf,SACA,sBAAKA,UAAU,gBAAf,UACA,sBAAKA,UAAU,cAAcqB,SAAUnD,KAAK4F,gBAAgB/F,KAAKG,MAAjE,UACA,uBAAOuE,KAAK,QAAQf,MAAM,OAAOR,KAAK,WADtC,0HAGA,sBAAKlB,UAAU,cAAcqB,SAAUnD,KAAK4F,gBAAgB/F,KAAKG,MAAjE,UACA,uBAAOuE,KAAK,QAAQf,MAAM,SAASR,KAAK,WADxC,iFAGA,sBAAKlB,UAAU,cAAcqB,SAAUnD,KAAK4F,gBAAgB/F,KAAKG,MAAjE,UACA,uBAAOuE,KAAK,QAAQf,MAAM,UAAUR,KAAK,WADzC,8GAKyB,SAAxBhD,KAAKP,MAAM+F,WAAsB,sBAAK1D,UAAU,aAAf,UAC9B,uBAAOA,UAAU,YAAjB,sJACA,uBAAOA,UAAU,YAAYyC,KAAK,OAAOf,MAAOxD,KAAKP,MAAM4B,KAAM8B,SAAUnD,KAAK6F,kBAC5E,KACiB,YAAxB7F,KAAKP,MAAM+F,WAAyB,sBAAK1D,UAAU,aAAf,UACjC,uBAAOA,UAAU,YAAjB,+FACA,uBAAOA,UAAU,YAAYyC,KAAK,OAAOf,MAAOxD,KAAKP,MAAM4B,KAAM8B,SAAUnD,KAAK8F,sBAC5E,KACiB,WAAxB9F,KAAKP,MAAM+F,WAAwB,sBAAK1D,UAAU,aAAf,UACpC,uBAAOA,UAAU,YAAjB,+FACA,sBAAKA,UAAU,eAAf,UAA8B,gCAAQ9B,KAAKP,MAAMoC,KAAKW,OAAtD,IAAoE,yBAAQV,UAAU,eAAeK,QAASnC,KAAK+F,aAA/C,cAA+D/F,KAAKP,MAAMkG,KAA1E,IAAmG,qDAAlB3F,KAAKP,MAAMkG,KAAmB,+CAAwB,+CAAvI,UAEpE,qBAAK7D,UAAU,QAAf,SACmB,qDAAlB9B,KAAKP,MAAMkG,KAAmB,KAAK,sBAAK7D,UAAU,+BAAf,UAChC,qBAAKA,UAAU,mBAAf,SACH9B,KAAKP,MAAMkC,YAAYuE,MAAM,GAAGnE,KAAI,SAAAC,GAAE,OAC/B,sBAAoBF,UAAU,KAA9B,UACI,wBAAQA,UAAU,0BAA0BK,QAAS,EAAK0C,gBAAgB,CAACnD,GAAGM,EAAGX,KAAKK,GAAIc,KAAKR,EAAGX,KAAKmB,OAAvG,SACER,EAAGJ,QAFT,uBAAUI,EAAGJ,YAOrB,qBAAKE,UAAU,yBAAf,SAEQ,qBAAKA,UAAU,eAAf,SACC9B,KAAKP,MAAMuF,QAAQjD,KAAI,SAAAmC,GAAM,OAC9B,8BACI,wBAAQpC,UAAU,oBAAoBK,QAAS,EAAK0C,gBAAgB,CAACnD,GAAGwC,EAAOxC,GAAIc,KAAK0B,EAAO1B,OAA/F,SACC,8BACC0B,EAAO1B,UAHH0B,EAAOxC,mBAajB,KACR,sBAAKI,UAAU,eAAf,UACA,wBAAQA,UAAU,oBAAqBK,QAASnC,KAAK+E,aAArD,kGACA,wBAAQjD,UAAU,qBAAqBK,QAASnC,KAAKV,MAAMoE,QAA3D,uEAjEG,S,GA3GuBjB,a,MCnB3B,SAAS0D,EAAQ7G,GAE5B,MAA6C8G,oBAAS,GAAtD,mBAAOC,EAAP,KAAuBC,EAAvB,KACA,EAA2CF,oBAAS,GAApD,mBAAOG,EAAP,KAAsBC,EAAtB,KACA,EAAuDJ,oBAAS,GAAhE,mBAAOK,EAAP,KAA4BC,EAA5B,KACA,EAAmDN,oBAAS,GAA5D,mBAAOO,EAAP,KAA0BC,EAA1B,KACA,EAAuDR,oBAAS,GAAhE,mBAAOS,EAAP,KAA4BC,EAA5B,KACA,EAAuDV,oBAAS,GAAhE,mBAAOW,EAAP,KAA4BC,EAA5B,KAGI,OACI,qBAAKlF,UAAU,kBAAf,SACA,sBAAKA,UAAU,UAAf,UACA,wBAAQA,UAAU,gBAAgBK,QAAS,kBAAMmE,GAAmB,IAApE,6FACA,cAAC,EAAD,CAAYpC,OAAQ5E,EAAM2H,OAAQvB,UAAWpG,EAAM4H,cAAexD,QAAS,kBAAI4C,GAAmB,IAAQjC,KAAMgC,IAChH,wBAAQvE,UAAU,gBAAgBK,QAAS,kBAAMqE,GAAkB,IAAnE,6FACA,cAAC,EAAD,CAAWtC,OAAQ5E,EAAM2H,OAAQvB,UAAWpG,EAAM4H,cAAexD,QAAS,kBAAI8C,GAAkB,IAAQnC,KAAMkC,IAC9G,wBAAQzE,UAAU,gBAAgBK,QAAS,kBAAMuE,GAAwB,IAAzE,uFACA,cAAC,IAAD,CAAiBhB,UAAWpG,EAAM4H,cAAeC,UAAW7H,EAAM2H,OAAQvD,QAAS,kBAAIgD,GAAwB,IAAQrC,KAAMoC,IAC7H,wBAAQ3E,UAAU,gBAAgBK,QAAS,kBAAMyE,GAAsB,IAAvE,6FACA,cAAC,IAAD,CAAY1C,OAAQ5E,EAAM2H,OAAQvB,UAAWpG,EAAM4H,cAAexD,QAAS,kBAAIkD,GAAsB,IAAQvC,KAAMsC,IACnH,wBAAQ7E,UAAU,gBAAgBK,QAAS,kBAAM2E,GAAwB,IAAzE,uFACA,cAAC,EAAD,CAAcK,UAAW7H,EAAM2H,OAAQvD,QAAS,kBAAIoD,GAAwB,IAAQzC,KAAMwC,IAC1F,wBAAQ/E,UAAU,gBAAlB,wFACA,cAAC,IAAD,CAAcqF,UAAW7H,EAAM2H,OAAQvD,QAAS,kBAAIsD,GAAwB,IAAQ3C,KAAM0C,S,IC5BjFK,E,kDACjB,WAAY9H,GAAO,IAAD,8BACd,cAAMA,IACDG,MAAM,CAACuF,QAAQ,KAAMqC,SAAS,KAAO1F,YAAY,MACtD,EAAK/B,YAAc,EAAKA,YAAYC,KAAjB,gBAHL,E,+CAKlB,SAAYC,GACRA,EAAEC,iBACFC,KAAKV,MAAMW,QAAQC,KAAK,KACxBC,aAAaC,QACbC,OAAOC,SAASC,W,+DAGpB,WAAiB+G,GAAjB,wBAAA7G,EAAA,6DACUkB,EAAc3B,KAAKV,MAAMgB,SAASb,MAAMkC,aAGlC,KAFNkC,EAAQlC,EAAYI,KAAI,SAASjC,GAAK,OAAOA,EAAEuB,KAAKK,MAAO+D,QAAQzF,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKK,KAIxGC,EAAYzB,KAAK,CACb0B,MAAO5B,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKmB,KACtCX,KAAK,YACLR,KAAK,CACD,KAAOrB,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKmB,KACtC,GAAKxC,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKK,MAMxCC,EAAYoC,OAAOF,EAAM,EAE7BtE,QAAQC,IAAImB,0EAAA,WAA8C2G,IAnB9D,SAoBU5G,MAAMC,0EAAA,WAA8C2G,IACzD1G,MAAK,SAAAC,GAAY,OAAOA,EAASC,UACjCF,MAAK,SAAAG,GACF,EAAKC,SAAS,CAACgE,QAAQjE,EAAMY,YAAYA,OAC1CV,OAAM,SAAAC,GAAG,OAAI3B,QAAQC,IAAI0B,MAxBhC,OAyBI3B,QAAQC,IAAIQ,KAAKP,OAzBrB,gD,gFA2BA,SAAY6H,GAAU,IAAD,OACjB/H,QAAQC,IAAImB,2EAAA,WAA+C2G,IAC3D5G,MAAMC,2EAAA,WAA+C2G,IACpD1G,MAAK,SAAAC,GAAY,OAAOA,EAASC,UACjCF,MAAK,SAAAG,GACF,EAAKC,SAAS,CAACqG,SAAStG,OACzBE,OAAM,SAAAC,GAAG,OAAI3B,QAAQC,IAAI0B,Q,sEAGhC,sBAAAT,EAAA,sEACUT,KAAKuH,WAAWvH,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKK,IADzD,uBAEU1B,KAAKwH,YAAYxH,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKK,IAF1D,gD,6HAIA,WAAyBsE,GAAzB,SAAAvF,EAAA,yDACIlB,QAAQC,IAAI,qIACVwG,EAAU1F,SAASb,MAAM4B,KAAKK,KAAO1B,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKK,GAF1E,gCAIU1B,KAAKuH,WAAWvH,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKK,IAJzD,uBAKU1B,KAAKwH,YAAYxH,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKK,IAL1D,gD,2EAUA,WACI,IAAM1B,KAAKP,MAAMuF,UAAYhF,KAAKP,MAAM4H,SACpC,OAAO,wBAEX,MAAsCrH,KAAKP,MAApCuF,EAAP,EAAOA,QAASqC,EAAhB,EAAgBA,SAAS1F,EAAzB,EAAyBA,YACzB,OACI,sBAAKG,UAAU,aAAf,UACI,sBAAKA,UAAU,SAAf,UACA,qBAAKA,UAAU,cAAf,SACCH,EAAYI,KAAI,SAAAC,GAAE,OACX,sBAAoBF,UAAU,KAA9B,UACI,cAAC,IAAD,CAAMA,UAAU,aAAaG,GAAI,CAACC,SAASF,EAAGH,KAAMpC,MAAM,CAAC4B,KAAKW,EAAGX,KAAMM,YAAYA,IAArF,SACEK,EAAGJ,QAFT,uBAAUI,EAAGJ,YAOb,sBAAKE,UAAU,mBAAf,UACT,wBAAQA,UAAU,aAAaK,QAASnC,KAAKJ,YAA7C,oEACA,wBAAQkC,UAAU,aAAaK,QAASnC,KAAKJ,YAA7C,4CACD,qBAAKkC,UAAU,OAAOM,IAAKC,EAAMC,IAAI,sBAIvC,sBAAKR,UAAU,WAAf,UACakD,EAAQjD,KAAI,SAAAmC,GAAM,OACnB,8BACI,cAAC,IAAD,CAAMpC,UAAU,eAAeG,GAAI,CAACC,SAAS,YAAazC,MAAO,CAACkC,YAAYA,EAAaN,KAAK6C,IAAhG,SACC,qBAAKpC,UAAU,oBAAf,SACCoC,EAAO1B,UAHH0B,EAAOxC,OAOhB2F,EAAStF,KAAI,SAAAmC,GAAM,OACpB,8BACI,eAAC,IAAD,CAAMpC,UAAU,gBAAgBG,GAAI,CAACC,SAAS,YAAazC,MAAO,CAACkC,YAAYA,EAAaN,KAAK6C,IAAjG,UAEA,qBAAKpC,UAAU,eAAeM,IAAG,iCAA4B8B,EAAOuD,SACpE,qBAAK3F,UAAU,oBAAf,SACEoC,EAAO1B,WALH0B,EAAOxC,OAUd,qBAAKI,UAAU,wBAIlB,qBAAKA,UAAU,mBAAf,SACA,cAAC,EAAD,CAASoF,cAAevF,EAAa+F,gBAAgB,SAAST,OAAQjH,KAAKV,MAAMgB,SAASb,MAAM4B,gB,GAhH9EoB,a,SCJ3BkF,E,gFAAf,WAA4B3E,EAAM4E,GAAlC,eAAAnH,EAAA,6DAEUuD,EAAY,CACd,KAAQhB,EACR,eAAkB0B,OAAOkD,IAJjC,SAMUlH,MAAMC,mEAAmC,CAC3CiC,OAAQ,OACRvB,KAAMsD,KAAKC,UAAUZ,GACrBnB,QAAS,CACL,OAAU,mBACV,eAAgB,sBACdjC,MAAK,SAASC,GAChBtB,QAAQC,IAAIqB,EAASiC,WAbjC,4C,+BAemB+E,E,8EAAf,WAA0BlF,GAA1B,SAAAlC,EAAA,sEACUC,MAAMC,yEAA4C,CACpDiC,OAAQ,OACRvB,KAAMsB,EACNE,QAAS,CACL,OAAU,sBACRjC,MAAK,SAASC,GAChBtB,QAAQC,IAAIqB,EAASiC,WAPjC,4C,0BAUiBC,E,kDACjB,WAAYzD,GAAO,IAAD,8BACd,cAAMA,IACDG,MAAM,CAACuD,KAAK,GAAIC,SAAS,KAAMC,KAAM,MAC1C,EAAKC,SAAW,EAAKA,SAAStD,KAAd,gBAChB,EAAKuD,UAAY,EAAKA,UAAUvD,KAAf,gBACjB,EAAKwD,kBAAoB,EAAKA,kBAAkBxD,KAAvB,gBALX,E,4CAOlB,SAASC,GACL,IAAIwD,EAAMxD,EAAEyD,OAAOC,MACnBxD,KAAKgB,SAAS,CAACgC,KAAMM,M,8DAGzB,WAAgBG,GAAhB,SAAAhD,EAAA,6DACIgD,EAAM1D,iBADV,SAEU4H,EAAY3H,KAAKP,MAAMuD,KAAMhD,KAAKV,MAAM4E,OAAOxC,IAFzD,UAGyB,MAAjB1B,KAAKP,MAAMyD,KAHnB,gCAIU2E,EAAU7H,KAAKP,MAAMyD,MAJ/B,OAKIlD,KAAKV,MAAMoE,UACXrD,OAAOC,SAASC,SANpB,gD,sFASA,SAAkBT,GAEd,GADAA,EAAEC,iBACCD,EAAEyD,OAAOO,MAAMC,OAAO,EACzB,CAEA,IADA,IAAIJ,EAAO,IAAIC,SACNC,EAAQ,EAAGA,EAAQ/D,EAAEyD,OAAOO,MAAMC,OAAQF,IAAS,CACxD,IAAIG,EAAUlE,EAAEyD,OAAOO,MAAMD,GAC7BF,EAAKM,OAAO,QAASD,GAEzBL,EAAKM,OAAO,iBAAkBjE,KAAKV,MAAM4E,OAAOxC,IAChD1B,KAAKgB,SAAS,CAAEkC,KAAMS,EAAMV,SAAUkB,IAAIC,gBAAgBtE,EAAEyD,OAAOO,MAAM,WAEnD,MAAjB9D,KAAKP,MAAMyD,MAEhBlD,KAAKgB,SAAS,CAAEkC,KAAM,KAAMD,SAAU,S,oBAI1C,WAAS,IAAD,OACJ,OAAIjD,KAAKV,MAAM+E,KAKX,qBAAKvC,UAAU,YAAYK,QAASnC,KAAKV,MAAMoE,QAA/C,SACA,sBAAK5B,UAAU,gBAAgBK,QAAS,SAAArC,GAAC,OAAEA,EAAEwE,mBAA7C,UACI,qBAAKxC,UAAU,eAAf,SACI,qBAAKA,UAAU,cAAf,iHAEJ,sBAAKA,UAAU,aAAf,UACA,uBAAOA,UAAU,YAAjB,gEACA,uBAAOA,UAAU,YAAYyC,KAAK,OAAOf,MAAOxD,KAAKP,MAAMuD,KAAMG,SAAUnD,KAAKmD,WAChF,uBAAOrB,UAAU,YAAjB,uFACA,sBAAKA,UAAU,QAAf,UACA,gCAAQ9B,KAAKV,MAAM4E,OAAO1B,OAD1B,IACwC,yBAAQV,UAAU,eAAlB,eAAoC,IAApC,UAExC,sBAAKA,UAAU,cAAf,UACA,uBAAOA,UAAU,YAAjB,uCACA,uBAAOyC,KAAK,OAAOpB,SAAU,SAACrD,GAAD,OAAK,EAAKuD,kBAAkBvD,MAClC,OAAtBE,KAAKP,MAAMwD,SAAkB,wBAAQ,qBAAKnB,UAAU,gBAAgBM,IAAKpC,KAAKP,MAAMwD,iBAIrF,sBAAKnB,UAAU,eAAf,UACA,wBAAQA,UAAU,oBAAoBK,QAASnC,KAAKoD,UAApD,oEACA,wBAAQtB,UAAU,qBAAqBK,QAASnC,KAAKV,MAAMoE,QAA3D,oDAxBG,S,GA3CqBjB,a,SCxBzB+B,E,gFAAf,WAA2BxB,EAAMyB,GAAjC,eAAAhE,EAAA,6DAEUyD,EAAW,CACf,KAAQlB,EACR,eAAkB0B,OAAOD,IAJ/B,SAMU/D,MAAMC,kEAAkC,CAC1CiC,OAAQ,OACRvB,KAAMsD,KAAKC,UAAUV,GACrBrB,QAAS,CACL,OAAU,mBACV,eAAgB,sBACdjC,MAAK,SAASC,GAChBtB,QAAQC,IAAIqB,EAASiC,WAbjC,4C,0BAgBqBgF,E,kDACjB,WAAYxI,GAAO,IAAD,8BACd,cAAMA,IAWVuF,gBAAkB,SAAAC,GAAK,8CAAI,WAAMhF,GAAN,SAAAW,EAAA,0FAAJ,uDAZL,EAgBlBsE,aAhBkB,uCAgBH,WAAMjF,GAAN,SAAAW,EAAA,6DACXX,EAAEC,iBACFR,QAAQC,IAAI,EAAKF,OAFN,SAGLkF,EAAW,EAAK/E,MAAMuD,KAAK,EAAK1D,MAAM4E,OAAOxC,IAHxC,OAIX,EAAKpC,MAAMoE,UACXrD,OAAOC,SAASC,SALL,2CAhBG,sDAEd,EAAKd,MAAM,CAACuD,KAAK,GAAIgC,QAAQ,KAAMrD,YAAY,MAC/C,EAAKwB,SAAW,EAAKA,SAAStD,KAAd,gBAChB,EAAKkF,aAAe,EAAKA,aAAalF,KAAlB,gBACpB,EAAKgF,gBAAkB,EAAKA,gBAAgBhF,KAArB,gBALT,E,4CAOlB,SAASC,GACL,IAAIwD,EAAMxD,EAAEyD,OAAOC,MACnBxD,KAAKgB,SAAS,CAACgC,KAAMM,M,oBAezB,WACI,OAAItD,KAAKV,MAAM+E,KAKX,qBAAKvC,UAAU,YAAYK,QAASnC,KAAKV,MAAMoE,QAA/C,SACA,sBAAK5B,UAAU,gBAAgBK,QAAS,SAAArC,GAAC,OAAEA,EAAEwE,mBAA7C,UACI,qBAAKxC,UAAU,eAAf,SACI,qBAAKA,UAAU,cAAf,+FAEJ,sBAAKA,UAAU,aAAf,UACA,uBAAOA,UAAU,YAAjB,gEACA,uBAAOA,UAAU,YAAYyC,KAAK,OAAOf,MAAOxD,KAAKP,MAAMuD,KAAMG,SAAUnD,KAAKmD,WAChF,uBAAOrB,UAAU,YAAjB,uFACA,sBAAKA,UAAU,QAAf,UACA,gCAAQ9B,KAAKV,MAAM4E,OAAO1B,OAD1B,IACwC,yBAAQV,UAAU,eAAlB,eAAoC,IAApC,aAexC,sBAAKA,UAAU,eAAf,UACA,wBAAQA,UAAU,oBAAoBK,QAASnC,KAAK+E,aAApD,oEACA,wBAAQjD,UAAU,qBAAqBK,QAASnC,KAAKV,MAAMoE,QAA3D,oDA9BG,S,GA5BoBjB,a,SCfxBsF,E,8EAAf,WAA6B7C,GAA7B,SAAAzE,EAAA,sEAEUC,MAAMC,kEAAA,WAAwCuE,GAAW,CAC3DtC,OAAQ,SACRC,QAAS,CACL,OAAU,mBACV,eAAgB,sBACdjC,MAAK,SAASC,GAChBtB,QAAQC,IAAIqB,EAASiC,WARjC,4C,+BAUekF,E,8EAAf,WAA8BC,GAA9B,SAAAxH,EAAA,sEAEUC,MAAMC,mEAAA,WAAyCsH,GAAY,CAC7DrF,OAAQ,SACRC,QAAS,CACL,OAAU,mBACV,eAAgB,sBACdjC,MAAK,SAASC,GAChBtB,QAAQC,IAAIqB,EAASiC,WARjC,4C,0BAWqBoF,E,kDACjB,WAAY5I,GAAO,IAAD,8BACd,cAAMA,IAMVyF,aAPkB,uCAOH,WAAMjF,GAAN,SAAAW,EAAA,yDACXX,EAAEC,iBAC8B,WAA7B,EAAKT,MAAM6I,gBAFH,gCAIHJ,EAAa,EAAKzI,MAAM6H,UAAUzF,IAJ/B,6CAQDsG,EAAc,EAAK1I,MAAM6H,UAAUzF,IARlC,OAUX,EAAKpC,MAAMoE,UACX,EAAK1C,SAAS,CAACiF,WAAU,IAXd,4CAPG,sDAEd1G,QAAQC,IAAI,EAAKF,OACjB,EAAKG,MAAM,CAACwG,UAAU,MACtB,EAAKlB,aAAe,EAAKA,aAAalF,KAAlB,gBAJN,E,0CAqBlB,WAEI,GADAN,QAAQC,IAAI,yFACTQ,KAAKP,MAAMwG,UACd,CACI,IAAIjE,EAAGhC,KAAKV,MAAMoG,UAIlB,OAHA1D,EAAG+B,OAAO/B,EAAG+B,OAAO,EACpB/D,KAAKgB,SAAS,CAACiF,WAAW,IAC1B1G,QAAQC,IAAI,kEACL,cAAC,IAAD,CAAUyC,GAAI,CAACC,SAAUF,EAAGA,EAAG+B,OAAO,GAAGlC,KAAMpC,MAAO,CAAE4B,KAAMW,EAAGA,EAAG+B,OAAO,GAAG1C,KAAMM,YAAYK,MAG3G,OAAIhC,KAAKV,MAAM+E,MAKf9E,QAAQC,IAAIQ,KAAKV,OAEb,qBAAKwC,UAAU,YAAYK,QAASnC,KAAKV,MAAMoE,QAA/C,SACA,sBAAK5B,UAAU,gBAAgBK,QAAS,SAAArC,GAAC,OAAEA,EAAEwE,mBAA7C,UACI,qBAAKxC,UAAU,eAAf,SACI,sBAAKA,UAAU,cAAf,6FAA6C9B,KAAKV,MAAM6H,UAAU3E,UAEtE,qBAAKV,UAAU,aAAf,SACA,wBAAOA,UAAU,YAAjB,yNAAqE9B,KAAKV,MAAM6H,UAAU3E,KAA1F,SAEA,sBAAKV,UAAU,eAAf,UACA,wBAAQA,UAAU,oBAAqBK,QAASnC,KAAK+E,aAArD,0BACA,wBAAQjD,UAAU,qBAAqBK,QAASnC,KAAKV,MAAMoE,QAA3D,uEAfG,S,GAnC0BjB,a,SCrB9B+B,G,mFAAf,WAA2BxB,EAAMyB,GAAjC,eAAAhE,EAAA,6DAEUyD,EAAW,CACf,KAAQlB,EACR,GAAM0B,OAAOD,IAJnB,SAMU/D,MAAMC,kEAAkC,CAC1CiC,OAAQ,MACRvB,KAAMsD,KAAKC,UAAUV,GACrBrB,QAAS,CACL,OAAU,mBACV,eAAgB,sBACdjC,MAAK,SAASC,GAChBtB,QAAQC,IAAIqB,EAASiC,WAbjC,4C,0BAgBqBsF,G,kDACjB,WAAY9I,GAAO,IAAD,8BACd,cAAMA,IAWVuF,gBAAkB,SAAAC,GAAK,8CAAI,WAAMhF,GAAN,SAAAW,EAAA,0FAAJ,uDAZL,EAgBlBsE,aAhBkB,uCAgBH,WAAMjF,GAAN,SAAAW,EAAA,6DACXX,EAAEC,iBACFR,QAAQC,IAAI,EAAKF,OAFN,SAGLkF,GAAW,EAAK/E,MAAMuD,KAAK,EAAK1D,MAAM4E,OAAOxC,IAHxC,OAIX,EAAKpC,MAAMoE,UACX,EAAK1C,SAAS,CAACqH,WAAU,IALd,2CAhBG,sDAEd,EAAK5I,MAAM,CAACuD,KAAK,EAAK1D,MAAM4E,OAAO1B,KAAMwC,QAAQ,KAAMqD,UAAU,MACjE,EAAKlF,SAAW,EAAKA,SAAStD,KAAd,gBAChB,EAAKkF,aAAe,EAAKA,aAAalF,KAAlB,gBACpB,EAAKgF,gBAAkB,EAAKA,gBAAgBhF,KAArB,gBALT,E,4CAOlB,SAASC,GACL,IAAIwD,EAAMxD,EAAEyD,OAAOC,MACnBxD,KAAKgB,SAAS,CAACgC,KAAMM,M,gCAc7B,SAAmB0C,GACXA,EAAU9B,OAAOxC,KAAO1B,KAAKV,MAAM4E,OAAOxC,KAE1CnC,QAAQC,IAAI,UACZQ,KAAKgB,SAAS,CAACgC,KAAKhD,KAAKV,MAAM4E,OAAO1B,KAAMwC,QAAQ,KAAMqD,UAAU,U,oBAGxE,WACI,GAAGrI,KAAKP,MAAM4I,UACd,CACI,IAAIrG,EAAGhC,KAAKV,MAAMoG,UAIlB,OAHA1D,EAAGA,EAAG+B,OAAO,GAAGnC,MAAM5B,KAAKP,MAAMuD,KACjChB,EAAGA,EAAG+B,OAAO,GAAG1C,KAAKmB,KAAKxC,KAAKP,MAAMuD,KACrChD,KAAKgB,SAAS,CAACqH,WAAW,IACnB,cAAC,IAAD,CAAUpG,GAAI,CAACC,SAAUF,EAAGA,EAAG+B,OAAO,GAAGlC,KAAMpC,MAAO,CAAE4B,KAAMW,EAAGA,EAAG+B,OAAO,GAAG1C,KAAMM,YAAYK,MAG3G,OAAIhC,KAAKV,MAAM+E,KAMX,qBAAKvC,UAAU,YAAYK,QAASnC,KAAKV,MAAMoE,QAA/C,SACA,sBAAK5B,UAAU,gBAAgBK,QAAS,SAAArC,GAAC,OAAEA,EAAEwE,mBAA7C,UACI,qBAAKxC,UAAU,eAAf,SACI,qBAAKA,UAAU,cAAf,6HAEJ,sBAAKA,UAAU,aAAf,UACA,uBAAOA,UAAU,YAAjB,gEACA,uBAAOA,UAAU,YAAYyC,KAAK,OAAOf,MAAOxD,KAAKP,MAAMuD,KAAMG,SAAUnD,KAAKmD,WAChF,uBAAOrB,UAAU,YAAjB,uFACA,sBAAKA,UAAU,QAAf,UACA,gCAAQ9B,KAAKV,MAAM4E,OAAO1B,OAD1B,IACwC,yBAAQV,UAAU,eAAlB,eAAoC,IAApC,aAexC,sBAAKA,UAAU,eAAf,UACA,wBAAQA,UAAU,oBAAoBK,QAASnC,KAAK+E,aAApD,oEACA,wBAAQjD,UAAU,qBAAqBK,QAASnC,KAAKV,MAAMoE,QAA3D,oDA/BG,S,GA3CqBjB,a,ICKnB6F,G,kDACjB,WAAYhJ,GAAO,IAAD,8BACd,cAAMA,IAiBVyF,aAlBkB,uCAkBH,WAAMjF,GAAN,SAAAW,EAAA,sDACXX,EAAEC,iBASF,EAAKT,MAAMoE,UAVA,2CAlBG,sDAEdnE,QAAQC,IAAI,EAAKF,OACjB,EAAKG,MAAM,CAAC8I,WAAW,KAAMlH,KAAK,MAClC,EAAK0D,aAAe,EAAKA,aAAalF,KAAlB,gBACpB,EAAK2I,gBAAkB,EAAKA,gBAAgB3I,KAArB,gBACvB,EAAKiG,iBAAmB,EAAKA,iBAAiBjG,KAAtB,gBANV,E,mDAUlB,SAAgB4D,GACZzD,KAAKgB,SAAS,CAACuH,WAAW9E,EAAMF,OAAOC,QACvCjE,QAAQC,IAAI,S,8BAEd,SAAiBiE,GACfzD,KAAKgB,SAAS,CAACK,KAAKoC,EAAMF,OAAOC,U,oBAiBrC,WAEI,GADAjE,QAAQC,IAAI,yFACTQ,KAAKP,MAAMwG,UACd,CACI,IAAIjE,EAAGhC,KAAKV,MAAMoG,UAIlB,OAHA1D,EAAG+B,OAAO/B,EAAG+B,OAAO,EACpB/D,KAAKgB,SAAS,CAACiF,WAAW,IAC1B1G,QAAQC,IAAI,kEACL,cAAC,IAAD,CAAUyC,GAAI,CAACC,SAAUF,EAAGA,EAAG+B,OAAO,GAAGlC,KAAMpC,MAAO,CAAE4B,KAAMW,EAAGA,EAAG+B,OAAO,GAAG1C,KAAMM,YAAYK,MAG3G,OAAIhC,KAAKV,MAAM+E,MAKf9E,QAAQC,IAAIQ,KAAKV,OAEb,qBAAKwC,UAAU,YAAYK,QAASnC,KAAKV,MAAMoE,QAA/C,SACA,sBAAK5B,UAAU,gBAAgBK,QAAS,SAAArC,GAAC,OAAEA,EAAEwE,mBAA7C,UACI,qBAAKxC,UAAU,eAAf,SACI,sBAAKA,UAAU,cAAf,wFAA6C9B,KAAKV,MAAM4E,OAAO1B,UAEnE,qBAAKV,UAAU,aAAf,SACA,sBAAKA,UAAU,gBAAf,UACA,sBAAKA,UAAU,cAAcqB,SAAUnD,KAAK4F,gBAAgB/F,KAAKG,MAAjE,UACA,uBAAOuE,KAAK,QAAQf,MAAM,aAAaR,KAAK,WAD5C,uFAGA,sBAAKlB,UAAU,cAAcqB,SAAUnD,KAAK4F,gBAAgB/F,KAAKG,MAAjE,UACA,uBAAOuE,KAAK,QAAQf,MAAM,cAAcR,KAAK,WAD7C,oHAKyB,gBAAxBhD,KAAKP,MAAM8I,WAA6B,sBAAKzG,UAAU,aAAf,UACrC,uBAAOA,UAAU,YAAjB,+FACA,uBAAOA,UAAU,YAAYyC,KAAK,OAAOf,MAAOxD,KAAKP,MAAM4B,KAAM8B,SAAUnD,KAAK8F,sBAC5E,KACiB,eAAxB9F,KAAKP,MAAM8I,WAA4B,sBAAKzG,UAAU,aAAf,UACxC,uBAAOA,UAAU,YAAjB,uFACA,sBAAKA,UAAU,QAAf,UACA,gCAAQ9B,KAAKV,MAAM4E,OAAO1B,OAD1B,IACwC,wBAAQV,UAAU,eAAlB,wCAEhC,KACR,sBAAKA,UAAU,eAAf,UACA,wBAAQA,UAAU,oBAAqBK,QAASnC,KAAK+E,aAArD,kGACA,wBAAQjD,UAAU,qBAAqBK,QAASnC,KAAKV,MAAMoE,QAA3D,uEAhCG,S,GA9CuBjB,aCf3B,SAAS0D,GAAQ7G,GAE5B,MAA6C8G,oBAAS,GAAtD,mBAAOC,EAAP,KAAuBC,EAAvB,KACA,EAA2CF,oBAAS,GAApD,mBAAOG,EAAP,KAAsBC,EAAtB,KACA,EAAuDJ,oBAAS,GAAhE,mBAAOK,EAAP,KAA4BC,EAA5B,KACA,EAAmDN,oBAAS,GAA5D,mBAAOO,EAAP,KAA0BC,EAA1B,KACA,EAAuDR,oBAAS,GAAhE,mBAAOS,EAAP,KAA4BC,EAA5B,KACA,EAAuDV,oBAAS,GAAhE,mBAAOW,EAAP,KAA4BC,EAA5B,KAGA,OACQ,qBAAKlF,UAAU,kBAAf,SACA,sBAAKA,UAAU,UAAf,UACA,wBAAQA,UAAU,gBAAgBK,QAAS,kBAAMmE,GAAmB,IAApE,yGACA,cAAC,EAAD,CAAYZ,UAAWpG,EAAM4H,cAAehD,OAAQ5E,EAAM2H,OAAQvD,QAAS,kBAAI4C,GAAmB,IAAQjC,KAAMgC,IAChH,wBAAQvE,UAAU,gBAAgBK,QAAS,kBAAMqE,GAAkB,IAAnE,6FACA,cAAC,EAAD,CAAWd,UAAWpG,EAAM4H,cAAehD,OAAQ5E,EAAM2H,OAAQvD,QAAS,kBAAI8C,GAAkB,IAAQnC,KAAMkC,IAC9G,wBAAQzE,UAAU,gBAAgBK,QAAS,kBAAMuE,GAAwB,IAAzE,uFACA,cAAC,EAAD,CAAiBhB,UAAWpG,EAAM4H,cAAeC,UAAW7H,EAAM2H,OAAQvD,QAAS,kBAAIgD,GAAwB,IAAQrC,KAAMoC,IAC7H,wBAAQ3E,UAAU,gBAAgBK,QAAS,kBAAMyE,GAAsB,IAAvE,6FACA,cAAC,GAAD,CAAYlB,UAAWpG,EAAM4H,cAAehD,OAAQ5E,EAAM2H,OAAQvD,QAAS,kBAAIkD,GAAsB,IAAQvC,KAAMsC,IACnH,wBAAQ7E,UAAU,gBAAgBK,QAAS,kBAAM2E,GAAwB,IAAzE,uFACA,cAAC,EAAD,CAAcpB,UAAWpG,EAAM4H,cAAehD,OAAQ5E,EAAM2H,OAAQvD,QAAS,kBAAIoD,GAAwB,IAAQzC,KAAMwC,IACvH,wBAAQ/E,UAAU,gBAAgBK,QAAS,kBAAM6E,GAAwB,IAAzE,wFACA,cAAC,GAAD,CAActB,UAAWpG,EAAM4H,cAAehD,OAAQ5E,EAAM2H,OAAQvD,QAAS,kBAAIsD,GAAwB,IAAQ3C,KAAM0C,S,UC3B9G0B,G,kDACjB,WAAYnJ,GAAO,IAAD,8BACd,cAAMA,IACDG,MAAM,CAACuF,QAAQ,KAAMqC,SAAS,KAAO1F,YAAY,MACtD,EAAK/B,YAAc,EAAKA,YAAYC,KAAjB,gBAHL,E,+CAKlB,SAAYC,GACRA,EAAEC,iBACFC,KAAKV,MAAMW,QAAQC,KAAK,KACxBC,aAAaC,QACbC,OAAOC,SAASC,W,+DAGpB,WAAiB+G,GAAjB,wBAAA7G,EAAA,6DACUkB,EAAc3B,KAAKV,MAAMgB,SAASb,MAAMkC,aAGlC,KAFNkC,EAAQlC,EAAYI,KAAI,SAASjC,GAAK,OAAOA,EAAEuB,KAAKK,MAAO+D,QAAQzF,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKK,KAIxGC,EAAYzB,KAAK,CACb0B,MAAO5B,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKmB,KACtCX,KAAK,YACLR,KAAK,CACD,KAAOrB,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKmB,KACtC,GAAKxC,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKK,MAMxCC,EAAYoC,OAAOF,EAAM,EAjBjC,SAmBUnD,MAAMC,kEAAA,WAAsC2G,IACjD1G,MAAK,SAAAC,GAAY,OAAOA,EAASC,UACjCF,MAAK,SAAAG,GACF,EAAKC,SAAS,CAACgE,QAAQjE,EAAMY,YAAYA,OAC1CV,OAAM,SAAAC,GAAG,OAAI3B,QAAQC,IAAI0B,MAvBhC,OAwBI3B,QAAQC,IAAIQ,KAAKP,OAxBrB,gD,gFA0BA,SAAY6H,GAAU,IAAD,OACjB5G,MAAMC,mEAAA,WAAuC2G,IAC5C1G,MAAK,SAAAC,GAAY,OAAOA,EAASC,UACjCF,MAAK,SAAAG,GACF,EAAKC,SAAS,CAACqG,SAAStG,OACzBE,OAAM,SAAAC,GAAG,OAAI3B,QAAQC,IAAI0B,Q,sEAGhC,sBAAAT,EAAA,sEACUT,KAAKuH,WAAWvH,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKK,IADzD,uBAEU1B,KAAKwH,YAAYxH,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKK,IAF1D,gD,6HAIA,WAAyBsE,GAAzB,SAAAvF,EAAA,yDACAlB,QAAQC,IAAI,qIACNwG,EAAU1F,SAASb,MAAM4B,KAAKK,KAAO1B,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKK,GAF1E,gCAIU1B,KAAKuH,WAAWvH,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKK,IAJzD,uBAKU1B,KAAKwH,YAAYxH,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKK,IAL1D,gD,2EAUA,WACI,IAAM1B,KAAKP,MAAMuF,UAAYhF,KAAKP,MAAM4H,SACpC,OAAO,wBAEX,MAAsCrH,KAAKP,MAApCuF,EAAP,EAAOA,QAASqC,EAAhB,EAAgBA,SAAS1F,EAAzB,EAAyBA,YACzB,OACI,sBAAKG,UAAU,aAAf,UACI,sBAAKA,UAAU,SAAf,UACA,qBAAKA,UAAU,cAAf,SACCH,EAAYI,KAAI,SAAAC,GAAE,OACX,sBAAoBF,UAAU,KAA9B,UACI,cAAC,IAAD,CAAMA,UAAU,aAAaG,GAAI,CAACC,SAASF,EAAGH,KAAMpC,MAAM,CAAC4B,KAAKW,EAAGX,KAAMM,YAAYA,IAArF,SACEK,EAAGJ,QAFT,uBAAUI,EAAGJ,YAOb,sBAAKE,UAAU,mBAAf,UACT,wBAAQA,UAAU,aAAaK,QAASnC,KAAKJ,YAA7C,oEACA,wBAAQkC,UAAU,aAAaK,QAASnC,KAAKJ,YAA7C,4CACD,qBAAKkC,UAAU,OAAOM,IAAKC,EAAMC,IAAI,sBAIvC,sBAAKR,UAAU,WAAf,UACakD,EAAQjD,KAAI,SAAAmC,GAAM,OACnB,8BACI,cAAC,IAAD,CAAMpC,UAAU,eAAeG,GAAI,CAACC,SAAS,YAAazC,MAAO,CAACkC,YAAYA,EAAaN,KAAK6C,IAAhG,SACC,qBAAKpC,UAAU,oBAAf,SACCoC,EAAO1B,UAHH0B,EAAOxC,OAOhB2F,EAAStF,KAAI,SAAA2G,GAAE,OAChB,8BACI,eAAC,IAAD,CAAM5G,UAAU,gBAAgBG,GAAI,CAACC,SAAS,WAAYzC,MAAO,CAACkC,YAAYA,EAAaN,KAAKqH,IAAhG,UACA,qBAAK5G,UAAU,eAAeM,IAAG,iCAA4BsG,EAAGjB,SAChE,qBAAK3F,UAAU,oBAAf,SACE4G,EAAGlG,WAJCkG,EAAGhH,UASb,qBAAKI,UAAU,mBAAf,SACA,cAAC,GAAD,CAASoF,cAAevF,EAAasF,OAAQjH,KAAKV,MAAMgB,SAASb,MAAM4B,gB,GAzGvDoB,a,kBCHzBkG,G,mFAAf,WAAoCC,EAAwBC,GAA5D,eAAApI,EAAA,6DAEUqI,EAAQ,CACV,gBAAmBF,EACnB,UAAalE,OAAOmE,IAJ5B,SAMUnI,MAAMC,0EAA0C,CAClDiC,OAAQ,OACRvB,KAAMsD,KAAKC,UAAUkE,GACrBjG,QAAS,CACL,OAAU,mBACV,eAAgB,sBACdjC,MAAK,SAASC,GAChBtB,QAAQC,IAAIqB,EAASiC,WAbjC,4C,0BAgBqBiG,G,kDACjB,WAAYzJ,GAAO,IAAD,8BACd,cAAMA,IAsCV0J,WAAa,SAAAlE,GAAK,OAAI,SAAAhF,GAClB,EAAKkB,UAAS,SAAAiI,GACV,IAAMC,EAAQ,aAAOD,EAAUE,iBAE/B,OADAD,EAASpE,GAAO9B,KAAOlD,EAAEyD,OAAOC,MACzB,CAAC2F,gBAAiBD,QA3Cf,EA8ClBE,YAAa,SAAAtE,GAAK,OAAI,SAAAhF,GAClB,EAAKkB,UAAS,SAAAiI,GACV,IAAMC,EAAQ,aAAOD,EAAUE,iBAE/B,OADAD,EAASpE,GAAOtB,MAAQ1D,EAAEyD,OAAOC,MAC1B,CAAC2F,gBAAiBD,QAhD7B,EAAKzJ,MAAM,CAAC0J,gBAAgB,KAAME,YAAY,CAACrG,KAAK,GAAIQ,MAAM,KAC9D,EAAKwF,WAAa,EAAKA,WAAWnJ,KAAhB,gBAClB,EAAKuJ,YAAc,EAAKA,YAAYvJ,KAAjB,gBACnB,EAAKyJ,UAAY,EAAKA,UAAUzJ,KAAf,gBACjB,EAAK0J,cAAgB,EAAKA,cAAc1J,KAAnB,gBACrB,EAAK2J,eAAiB,EAAKA,eAAe3J,KAApB,gBACtB,EAAK4J,KAAO,EAAKA,KAAK5J,KAAV,gBARE,E,+EAWlB,WAAWC,GAAX,eAAAW,EAAA,6DACIX,EAAEC,iBACE2J,EAAM,GAINA,EAH8B,KAA9B1J,KAAKP,MAAM4J,YAAYrG,MAA2C,KAA9BhD,KAAKP,MAAM4J,YAAYrG,KAC3B,OAA7BhD,KAAKP,MAAM0J,gBAER,CAAC,CAACnG,KAAKhD,KAAKP,MAAM4J,YAAYrG,KAAMQ,MAAMxD,KAAKP,MAAM4J,YAAY7F,MAAOmG,GAAG,IAG3E,GAAD,oBAAK3J,KAAKP,MAAM0J,iBAAhB,CAAiC,CAACnG,KAAKhD,KAAKP,MAAM4J,YAAYrG,KAAMQ,MAAMxD,KAAKP,MAAM4J,YAAY7F,MAAOmG,GAAG3J,KAAKP,MAAM0J,gBAAgBpF,UAIrI/D,KAAKP,MAAM0J,gBAbzB,SAeUR,GAAoBe,EAAO1J,KAAKV,MAAM0E,QAAQtC,IAfxD,OAgBI1B,KAAKV,MAAMoE,UACXrD,OAAOC,SAASC,SAjBpB,gD,kFAmBA,SAAcT,GACV,IAAIwD,EAAMxD,EAAEyD,OAAOC,MACnBxD,KAAKgB,UAAS,SAAAiI,GAAS,MAAK,CAACI,YAAY,CAACrG,KAAKM,EAAKE,MAAMyF,EAAUI,YAAY7F,a,4BAEpF,SAAe1D,GACX,IAAIwD,EAAMxD,EAAEyD,OAAOC,MACnBxD,KAAKgB,UAAS,SAAAiI,GAAS,MAAK,CAACI,YAAY,CAACrG,KAAKiG,EAAUI,YAAYrG,KAAMQ,MAAMF,S,uBAkBrF,SAAUxD,GACNA,EAAEC,iBAC8B,OAA7BC,KAAKP,MAAM0J,gBAEVnJ,KAAKgB,UAAS,SAAAiI,GAAS,MAAK,CACxBE,gBAAiB,CAAC,CAACnG,KAAKiG,EAAUI,YAAYrG,KAAMQ,MAAMyF,EAAUI,YAAY7F,MAAOmG,GAAG,IAC1FN,YAAY,CAACrG,KAAK,GAAIQ,MAAM,QAGhCxD,KAAKgB,UAAS,SAAAiI,GAAS,MAAK,CACxBE,gBAAgB,GAAD,oBAAMF,EAAUE,iBAAhB,CAAiC,CAACnG,KAAKiG,EAAUI,YAAYrG,KAAMQ,MAAMyF,EAAUI,YAAY7F,MAAOmG,GAAGV,EAAUE,gBAAgBpF,UAClJsF,YAAY,CAACrG,KAAK,GAAIQ,MAAM,U,oBAIxC,WAAS,IAAD,OACJ,OAAIxD,KAAKV,MAAM+E,KAKX,qBAAKvC,UAAU,YAAYK,QAASnC,KAAKV,MAAMoE,QAA/C,SACA,sBAAK5B,UAAU,gBAAgBK,QAAS,SAAArC,GAAC,OAAEA,EAAEwE,mBAA7C,UACI,qBAAKxC,UAAU,eAAf,SACI,qBAAKA,UAAU,cAAf,2JAEJ,sBAAKA,UAAU,aAAf,UACA,uBAAOA,UAAU,YAAjB,gEACA,uBAAOA,UAAU,YAAYyC,KAAK,OAAOf,MAAOxD,KAAKP,MAAM4J,YAAYrG,KAAMG,SAAUnD,KAAKuJ,gBAC5F,uBAAOzH,UAAU,YAAjB,gEACA,uBAAOA,UAAU,YAAYyC,KAAK,OAAOf,MAAOxD,KAAKP,MAAM4J,YAAY7F,MAAOL,SAAUnD,KAAKwJ,iBAC/D,OAA7BxJ,KAAKP,MAAM0J,gBAAwBnJ,KAAKP,MAAM0J,gBAAgBpH,KAAI,SAAA6H,GAAI,OAC/D,gCACI,uBAAO9H,UAAU,YAAjB,gEACA,uBAAOA,UAAU,YAAYyC,KAAK,OAAOf,MAAOoG,EAAK5G,KAAMG,SAAU,EAAK6F,WAAWY,EAAKD,MAC1F,uBAAO7H,UAAU,YAAjB,gEACA,uBAAOA,UAAU,YAAYyC,KAAK,OAAOf,MAAOoG,EAAKpG,MAAOL,SAAU,EAAKiG,YAAYQ,EAAKD,QAJtFC,EAAKD,OAKP,QAEhB,wBAAQxH,QAASnC,KAAKsJ,UAAtB,0GACA,sBAAKxH,UAAU,eAAf,UACA,wBAAQA,UAAU,oBAAoBK,QAASnC,KAAKyJ,KAApD,oEACA,wBAAQ3H,UAAU,qBAAqBK,QAASnC,KAAKV,MAAMoE,QAA3D,oDAxBG,S,GAzE6BjB,a,SChBjCoH,G,mFAAf,WAA4BC,EAAY7B,GAAxC,SAAAxH,EAAA,sDAOIlB,QAAQC,IAAIsK,GAPhB,4C,0BAUqBC,G,kDACjB,WAAYzK,GAAO,IAAD,8BACd,cAAMA,IAeV0K,eAAiB,SAAAlF,GAAK,8CAAI,WAAMrB,GAAN,SAAAhD,EAAA,sDACtB,EAAKO,SAAS,CAACa,KAAK,CAACW,KAAKsC,EAAMtC,KAAMd,GAAGoD,EAAMpD,MADzB,2CAAJ,uDAhBJ,EAoBlBqD,aApBkB,uCAoBH,WAAMjF,GAAN,SAAAW,EAAA,6DACXX,EAAEC,iBADS,SAEL8J,GAAY,EAAKpK,MAAMoC,KAAKH,GAAG,EAAKpC,MAAM0E,QAAQtC,IAF7C,OAGX,EAAKpC,MAAMoE,UAHA,2CApBG,wDAyClBmB,gBAAiB,SAAAC,GAAK,8CAAI,WAAMrB,GAAN,iBAAAhD,EAAA,6DAChBkB,EAAc,EAAKlC,MAAMkC,aAEnB,KADNkC,EAAQlC,EAAYI,KAAI,SAASjC,GAAK,OAAOA,EAAEuB,KAAKK,MAAO+D,QAAQX,EAAMpD,KAG/EC,EAAYzB,KAAK,CACb0B,MAAOkD,EAAMtC,KACbX,KAAK,aACLR,KAAK,CACD,KAAOyD,EAAMtC,KACb,GAAKsC,EAAMpD,MAMfC,EAAYoC,OAAOF,EAAM,EAE7B,EAAK7C,SAAS,CAACW,YAAYA,IAlBL,SAmBhB,EAAKsI,sBAAsBnF,EAAMpD,GAAGC,GAnBpB,2CAAJ,uDAvClBpC,QAAQC,IAAI,EAAKF,OACjB,EAAKG,MAAM,CAACoC,KAAK,CAACW,KAAK,GAAId,GAAG,MAAOwI,cAAa,EAAMlF,QAAQ,KAAMmF,UAAU,KAAMxI,YAAY,MAClG,EAAKoD,aAAe,EAAKA,aAAalF,KAAlB,gBACpB,EAAKgF,gBAAkB,EAAKA,gBAAgBhF,KAArB,gBACvB,EAAKmK,eAAiB,EAAKA,eAAenK,KAApB,gBACtB,EAAKuK,YAAc,EAAKA,YAAYvK,KAAjB,gBAPL,E,+CAWlB,WACIG,KAAKV,MAAMoE,UACX1D,KAAKgB,SAAS,CAACkJ,cAAa,M,0EAahC,WAA6BG,EAAU1I,GAAvC,oBAAAlB,EAAA,sEAGUC,MAAMC,0EAAA,WAA8C0J,IACzDzJ,MAAK,SAAAC,GAAY,OAAOA,EAASC,UACjCF,MAAK,SAAAG,GACF,EAAKC,SAAS,CAACgE,QAAQjE,OACxBE,OAAM,SAAAC,GAAG,OAAI3B,QAAQC,IAAI0B,MAPhC,uBAQUR,MAAMC,2EAAA,WAA+C0J,IAC1DzJ,MAAK,SAAAC,GAAY,OAAOA,EAASC,UACjCF,MAAK,SAAAG,GACF,EAAKC,SAAS,CAACmJ,UAAUpJ,OAC1BE,OAAM,SAAAC,GAAG,OAAI3B,QAAQC,IAAI0B,MAZhC,2C,gIAqCA,WAAyB8E,GAAzB,SAAAvF,EAAA,0DACIT,KAAKV,MAAM+E,KADf,oBAGgC,IAA5BrE,KAAKP,MAAMyK,aAHf,uBAKIlK,KAAKgB,SAAS,CAACa,KAAK,CAACW,KAAK,GAAId,GAAG,MAAOsD,QAAQ,KAAMmF,UAAU,KAAMxI,YAAY,CAAC,CAC/EC,MAAO,+DACPC,KAAM,WACNR,KAAM,CACF,KAAO,+DACP,GAAK,KAEP6I,cAAa,IAZvB,SAaYlK,KAAKiK,sBAAsB,EAAG,MAb1C,gD,2EAkBA,WAAS,IAAD,OACJ,OAAIjK,KAAKV,MAAM+E,MAIVrE,KAAKP,MAAMkC,aAAgB3B,KAAKP,MAAMuF,SAAYhF,KAAKP,MAAM0K,WAGlE5K,QAAQC,IAAIQ,KAAKV,OAEb,qBAAKwC,UAAU,YAAYK,QAASnC,KAAKV,MAAMoE,QAA/C,SACA,sBAAK5B,UAAU,gBAAgBK,QAAS,SAAArC,GAAC,OAAEA,EAAEwE,mBAA7C,UACI,qBAAKxC,UAAU,eAAf,SACI,qBAAKA,UAAU,cAAf,iHAEJ,sBAAKA,UAAU,aAAf,UACA,uBAAOA,UAAU,YAAjB,4HACA,qBAAKA,UAAU,eAAf,SAA8B,gCAAQ9B,KAAKP,MAAMoC,KAAKW,SACtD,qBAAKV,UAAU,QAAf,SACA,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,mBAAf,SACH9B,KAAKP,MAAMkC,YAAYI,KAAI,SAAAC,GAAE,OACtB,sBAAoBF,UAAU,KAA9B,UACI,wBAAQA,UAAU,0BAA0BK,QAAS,EAAK0C,gBAAgB,CAACnD,GAAGM,EAAGX,KAAKK,GAAIc,KAAKR,EAAGX,KAAKmB,OAAvG,SACER,EAAGJ,QAFT,uBAAUI,EAAGJ,YAOrB,sBAAKE,UAAU,yBAAf,UACC9B,KAAKP,MAAMuF,QAAQjB,OAAO,EAAE,qBAAKjC,UAAU,eAAf,SACpB9B,KAAKP,MAAMuF,QAAQjD,KAAI,SAAAmC,GAAM,OAC9B,8BACI,wBAAQpC,UAAU,oBAAoBK,QAAS,EAAK0C,gBAAgB,CAACnD,GAAGwC,EAAOxC,GAAIc,KAAK0B,EAAO1B,OAA/F,SACC,8BACC0B,EAAO1B,UAHH0B,EAAOxC,SAOV,KAEd1B,KAAKP,MAAM0K,UAAUpG,OAAO,EAAE,qBAAKjC,UAAU,eAAf,SACtB9B,KAAKP,MAAM0K,UAAUpI,KAAI,SAAA2G,GAAE,OAC5B,8BACI,wBAAQ5G,UAAU,qBAAqBK,QAAS,EAAK6H,eAAe,CAACtI,GAAGgH,EAAGhH,GAAIc,KAAKkG,EAAGlG,OAAvF,SACC,8BACCkG,EAAGlG,UAHCkG,EAAGhH,SAON,gBAOf,sBAAKI,UAAU,eAAf,UACA,wBAAQA,UAAU,oBAAqBK,QAASnC,KAAK+E,aAArD,kGACA,wBAAQjD,UAAU,qBAAqBK,QAASnC,KAAKoK,YAArD,uEAxDG,S,GArF6B3H,a,SCVjCuF,G,iFAAf,WAA8BC,GAA9B,SAAAxH,EAAA,sEAEUC,MAAMC,mEAAA,WAAyCsH,GAAY,CAC7DrF,OAAQ,SACRC,QAAS,CACL,OAAU,mBACV,eAAgB,sBACdjC,MAAK,SAASC,GAChBtB,QAAQC,IAAIqB,EAASiC,WARjC,4C,0BAWqBoF,G,kDACjB,WAAY5I,GAAO,IAAD,8BACd,cAAMA,IAMVyF,aAPkB,uCAOH,WAAMjF,GAAN,SAAAW,EAAA,6DACXX,EAAEC,iBADS,SAELiI,GAAc,EAAK1I,MAAM0E,QAAQtC,IAF5B,OAGX,EAAKpC,MAAMoE,UACX,EAAK1C,SAAS,CAACiF,WAAU,IAJd,2CAPG,sDAEd1G,QAAQC,IAAI,EAAKF,OACjB,EAAKG,MAAM,CAACwG,UAAU,MACtB,EAAKlB,aAAe,EAAKA,aAAalF,KAAlB,gBAJN,E,0CAclB,WAEI,GADAN,QAAQC,IAAI,yFACTQ,KAAKP,MAAMwG,UACd,CACI,IAAIjE,EAAGhC,KAAKV,MAAMoG,UAIlB,OAHA1D,EAAG+B,OAAO/B,EAAG+B,OAAO,EACpB/D,KAAKgB,SAAS,CAACiF,WAAW,IAC1B1G,QAAQC,IAAI,kEACL,cAAC,IAAD,CAAUyC,GAAI,CAACC,SAAUF,EAAGA,EAAG+B,OAAO,GAAGlC,KAAMpC,MAAO,CAAE4B,KAAMW,EAAGA,EAAG+B,OAAO,GAAG1C,KAAMM,YAAYK,MAG3G,OAAIhC,KAAKV,MAAM+E,MAKf9E,QAAQC,IAAIQ,KAAKV,OAEb,qBAAKwC,UAAU,YAAYK,QAASnC,KAAKV,MAAMoE,QAA/C,SACA,sBAAK5B,UAAU,gBAAgBK,QAAS,SAAArC,GAAC,OAAEA,EAAEwE,mBAA7C,UACI,qBAAKxC,UAAU,eAAf,SACI,sBAAKA,UAAU,cAAf,+GAAgD9B,KAAKV,MAAM0E,QAAQxB,UAEvE,qBAAKV,UAAU,aAAf,SACA,wBAAOA,UAAU,YAAjB,qOAAuE9B,KAAKV,MAAM0E,QAAQxB,KAA1F,SAEA,sBAAKV,UAAU,eAAf,UACA,wBAAQA,UAAU,oBAAqBK,QAASnC,KAAK+E,aAArD,0BACA,wBAAQjD,UAAU,qBAAqBK,QAASnC,KAAKV,MAAMoE,QAA3D,uEAfG,S,GA5B0BjB,a,ICKxB6H,G,kDACnB,WAAYhL,GAAQ,IAAD,8BACjB,cAAMA,IAcR0J,WAAa,SAAClE,GAAD,OAAW,SAAChF,GACvB,EAAKkB,UAAS,SAACiI,GACb,IAAMC,EAAQ,aAAOD,EAAUE,iBAE/B,OADAD,EAASpE,GAAO9B,KAAOlD,EAAEyD,OAAOC,MACzB,CAAE2F,gBAAiBD,QAnBX,EAuBnBqB,WAAa,SAACzF,GAAD,OAAW,SAAChF,GACvB,EAAKkB,SAAS,CAAEwJ,WAAY1F,MAxBX,EA4BnB2F,WAAa,SAAC3F,GAAD,OAAW,SAAChF,GACvB,EAAKkB,UAAS,SAACiI,GAAD,MAAgB,CAC5BE,gBAAiBF,EAAUE,gBAAgBuB,QACzC,SAACd,GAAD,OAAUA,EAAKlI,KAAOoD,WA/BT,EAoCnB6F,YAAc,SAAC7F,GAAD,OAAW,SAAChF,GACxB,EAAKkB,UAAS,SAACiI,GAAD,MAAgB,CAC5B2B,wBAAyB3B,EAAU2B,wBAAwBF,QACzD,SAACd,GAAD,OAAUA,EAAKlI,KAAOoD,WAvCT,EA4CnBsE,YAAc,SAACtE,GAAD,OAAW,SAAChF,GACxB,EAAKkB,UAAS,SAACiI,GACb,IAAMC,EAAQ,aAAOD,EAAUE,iBAE/B,OADAD,EAASpE,GAAOtB,MAAQ1D,EAAEyD,OAAOC,MAC1B,CAAE2F,gBAAiBD,QAhDX,EAqDnB2B,eAAiB,SAAC/F,GAAD,OAAW,SAAChF,GAC3B,EAAKkB,UAAS,SAACiI,GAAD,MAAgB,CAC5B6B,UAAW7B,EAAU6B,UAAUJ,QAAO,SAACK,GAAD,OAASA,EAAIrJ,KAAOoD,WArD5D,EAAKrF,MAAQ,CACXmL,wBAAyB,KACzBzB,gBAAiB,KACjBqB,WAAY,UACZM,UAAW,KACX9G,QAAS,EAAK1E,MAAM0E,QACpBkG,cAAc,GAEhB,EAAK/G,SAAW,EAAKA,SAAStD,KAAd,gBAChB,EAAK4J,KAAO,EAAKA,KAAK5J,KAAV,gBACZ,EAAKwD,kBAAoB,EAAKA,kBAAkBxD,KAAvB,gBAZR,E,4CA2DnB,SAASC,GACP,IAAIwD,EAAMxD,EAAEyD,OAAOC,MACnBxD,KAAKgB,SAAS,CAAEgC,KAAMM,M,yDAGxB,WAAWG,GAAX,SAAAhD,EAAA,sDACEgD,EAAM1D,iBAGNC,KAAKV,MAAMoE,UACXrD,OAAOC,SAASC,SALlB,gD,sFAQA,SAAkBT,GAEhB,GADAA,EAAEC,iBACED,EAAEyD,OAAOO,MAAMC,OAAS,EAAG,CAE7B,IADA,IAAIJ,EAAO,IAAIC,SACNC,EAAQ,EAAGA,EAAQ/D,EAAEyD,OAAOO,MAAMC,OAAQF,IAAS,CAC1D,IAAIG,EAAUlE,EAAEyD,OAAOO,MAAMD,GAC7BF,EAAKM,OAAO,QAASD,GAEvBL,EAAKM,OAAO,iBAAkBjE,KAAKV,MAAM4E,OAAOxC,IAChD1B,KAAKgB,SAAS,CACZkC,KAAMS,EACNV,SAAUkB,IAAIC,gBAAgBtE,EAAEyD,OAAOO,MAAM,WAEnB,MAAnB9D,KAAKP,MAAMyD,MACpBlD,KAAKgB,SAAS,CAAEkC,KAAM,KAAMD,SAAU,S,gFAG1C,WAAkCqE,GAAlC,mBAAA7G,EAAA,sEAIQC,MACJC,0EAAA,qBAA0D2G,IAEzD1G,MAAK,SAACC,GACL,OAAOA,EAASC,UAEjBF,MAAK,SAACG,GACHiK,EAAOjK,KAEVE,OAAM,SAACC,GAAD,OAAS3B,QAAQC,IAAI0B,MAbhC,uBAcQR,MAAMC,0EAAA,WAAgD2G,IACzD1G,MAAK,SAACC,GACL,OAAOA,EAASC,UAEjBF,MAAK,SAACG,GACLkK,EAAMlK,KAEPE,OAAM,SAACC,GAAD,OAAS3B,QAAQC,IAAI0B,MArBhC,uBAsBQR,MAAMC,oEAAA,WAA0C2G,IACnD1G,MAAK,SAACC,GACL,OAAOA,EAASC,UAEjBF,MAAK,SAACG,GACL+J,EAAU/J,KAEXE,OAAM,SAACC,GAAD,OAAS3B,QAAQC,IAAI0B,MA7BhC,OA8BElB,KAAKgB,SAAS,CACZ4J,wBAAyBI,EACzB7B,gBAAiB8B,EACjBH,UAAWA,IAjCf,gD,8HAqCA,WAAyB9E,GAAzB,SAAAvF,EAAA,0DACMT,KAAKV,MAAM+E,KADjB,oBAEoC,IAA5BrE,KAAKP,MAAMyK,aAFnB,uBAGMlK,KAAKgB,SAAS,CACV4J,wBAAyB,KACzBzB,gBAAiB,KACjBqB,WAAY,UACZM,UAAW,KACX9G,QAAShE,KAAKV,MAAM0E,QACpBkG,cAAc,IATxB,SAWYlK,KAAKkL,4BAA4BlL,KAAKV,MAAM0E,QAAQtC,IAXhE,gD,2EAgBA,WAAU,IAAD,OACP,IAAK1B,KAAKV,MAAM+E,KACd,OAAO,KAET,IAAMrE,KAAKP,MAAM0J,kBAAoBnJ,KAAKP,MAAMmL,0BAA4B5K,KAAKP,MAAMqL,UACnF,OAAO,KAGX,IAAMpB,EAAQ1J,KAAKP,MAAMmL,wBAAwB7I,KAAI,SAAUoJ,GAC7D,MAAO,CAAEd,SAAUc,EAAKC,SAAUpI,KAAMmI,EAAKE,eAE3CC,EAAS,IAAIC,IAEbC,EAAS9B,EAAM+B,QAAO,SAACC,EAAKP,GAK9B,OAJKG,EAAOK,IAAIR,EAAKd,YACnBiB,EAAOM,IAAIT,EAAKd,SAAUc,GAC1BO,EAAIxL,KAAKiL,IAEJO,IACN,IACH,OACE,qBAAK5J,UAAU,YAAYK,QAASnC,KAAKV,MAAMoE,QAA/C,SACE,sBAAK5B,UAAU,gBAAgBK,QAAS,SAACrC,GAAD,OAAOA,EAAEwE,mBAAjD,UACE,qBAAKxC,UAAU,eAAf,SACE,qBAAKA,UAAU,cAAf,qJAEF,sBAAKA,UAAU,aAAf,UAC6B,YAA1B9B,KAAKP,MAAM+K,WACV,sBAAK1I,UAAU,WAAf,UACE,wBAAQA,UAAU,iBAAlB,wDACA,wBACEA,UAAU,SACVK,QAASnC,KAAKuK,WAAW,mBAF3B,4FAMA,wBACEzI,UAAU,SACVK,QAASnC,KAAKuK,WAAW,aAF3B,+CAOA,KACuB,oBAA1BvK,KAAKP,MAAM+K,WACV,sBAAK1I,UAAU,WAAf,UACE,wBAAQA,UAAU,SAASK,QAASnC,KAAKuK,WAAW,WAApD,wDAGA,wBAAQzI,UAAU,iBAAlB,4FACA,wBACEA,UAAU,SACVK,QAASnC,KAAKuK,WAAW,aAF3B,+CAOA,KACuB,cAA1BvK,KAAKP,MAAM+K,WACV,sBAAK1I,UAAU,WAAf,UACE,wBAAQA,UAAU,SAASK,QAASnC,KAAKuK,WAAW,WAApD,wDAGA,wBACEzI,UAAU,SACVK,QAASnC,KAAKuK,WAAW,mBAF3B,4FAMA,wBAAQzI,UAAU,iBAAlB,+CAEA,KAEuB,YAA1B9B,KAAKP,MAAM+K,WACV,gCACE,uBAAO1I,UAAU,YAAjB,gEACA,uBACEA,UAAU,YACVyC,KAAK,OACLf,MAAOxD,KAAKP,MAAMuD,KAClBG,SAAUnD,KAAKmD,WAEjB,sBAAKrB,UAAU,cAAf,UACE,uBAAOA,UAAU,YAAjB,iFACA,uBACEyC,KAAK,OACLpB,SAAU,SAACrD,GAAD,OAAO,EAAKuD,kBAAkBvD,MAEjB,OAAxBE,KAAKP,MAAMwD,SACV,wBAEA,qBAAKnB,UAAU,gBAAgBM,IAAKpC,KAAKP,MAAMwD,iBAInD,KACuB,oBAA1BjD,KAAKP,MAAM+K,WACV,gCACGgB,EAAOzJ,KAAI,SAAC8J,GAAD,OACV,sBAA0B/J,UAAU,gBAApC,UACE,wBAAQA,UAAU,eAAlB,oBAAmD+J,EAAM7I,OADjD6I,EAAMxB,aAejBrK,KAAKP,MAAM0J,gBAAgBpH,KAAI,SAACmC,GAAD,OAC9B,gCACE,wBAAQpC,UAAU,eAAlB,oBADF,IACsDoC,EAAO1B,KAD7D,KACqE0B,EAAO4H,QADlE5H,EAAOxC,UAKnB,KACuB,cAA1B1B,KAAKP,MAAM+K,WACV,8BACGxK,KAAKP,MAAMqL,UAAU/I,KAAI,SAACmC,GAAD,OACxB,gCACI,wBAAQpC,UAAU,eAAlB,oBACDoC,EAAO6H,iBAFV,qBAGG7H,EAAO8H,kBAHV,KAG+B9H,EAAO+H,QAChB,OAAnB/H,EAAOgI,QACN,gCACGhI,EAAO8H,kBADV,qBAEG9H,EAAO6H,iBAFV,KAE8B7H,EAAOgI,WAEnC,OATIhI,EAAOiI,cAanB,QAEN,sBAAKrK,UAAU,eAAf,UACE,wBAAQA,UAAU,oBAAoBK,QAASnC,KAAKyJ,KAApD,2HAGA,wBAAQ3H,UAAU,qBAAqBK,QAASnC,KAAKV,MAAMoE,QAA3D,wD,GA9R6BjB,a,SClB1BkF,G,mFAAf,WAA4B3E,EAAM4E,GAAlC,eAAAnH,EAAA,6DAEUuD,EAAY,CACd,KAAQhB,EACR,eAAkB0B,OAAOkD,IAJjC,SAMUlH,MAAMC,mEAAmC,CAC3CiC,OAAQ,OACRvB,KAAMsD,KAAKC,UAAUZ,GACrBnB,QAAS,CACL,OAAU,mBACV,eAAgB,sBACdjC,MAAK,SAASC,GAChBtB,QAAQC,IAAIqB,EAASiC,WAbjC,4C,+BAemB+E,G,iFAAf,WAA0BlF,GAA1B,SAAAlC,EAAA,sEACUC,MAAMC,yEAA4C,CACpDiC,OAAQ,OACRvB,KAAMsB,EACNE,QAAS,CACL,OAAU,sBACRjC,MAAK,SAASC,GAChBtB,QAAQC,IAAIqB,EAASiC,WAPjC,4C,0BAUiBC,G,kDACjB,WAAYzD,GAAO,IAAD,8BACd,cAAMA,IACDG,MAAM,CAACuD,KAAK,GAAIC,SAAS,KAAMC,KAAM,MAC1C,EAAKC,SAAW,EAAKA,SAAStD,KAAd,gBAChB,EAAKuD,UAAY,EAAKA,UAAUvD,KAAf,gBACjB,EAAKwD,kBAAoB,EAAKA,kBAAkBxD,KAAvB,gBALX,E,4CAOlB,SAASC,GACL,IAAIwD,EAAMxD,EAAEyD,OAAOC,MACnBxD,KAAKgB,SAAS,CAACgC,KAAMM,M,8DAGzB,WAAgBG,GAAhB,SAAAhD,EAAA,6DACIgD,EAAM1D,iBADV,SAEU4H,GAAY3H,KAAKP,MAAMuD,KAAMhD,KAAKV,MAAM4E,OAAOxC,IAFzD,UAGyB,MAAjB1B,KAAKP,MAAMyD,KAHnB,gCAIU2E,GAAU7H,KAAKP,MAAMyD,MAJ/B,OAKIlD,KAAKV,MAAMoE,UACXrD,OAAOC,SAASC,SANpB,gD,sFASA,SAAkBT,GAEd,GADAA,EAAEC,iBACCD,EAAEyD,OAAOO,MAAMC,OAAO,EACzB,CAEA,IADA,IAAIJ,EAAO,IAAIC,SACNC,EAAQ,EAAGA,EAAQ/D,EAAEyD,OAAOO,MAAMC,OAAQF,IAAS,CACxD,IAAIG,EAAUlE,EAAEyD,OAAOO,MAAMD,GAC7BF,EAAKM,OAAO,QAASD,GAEzBL,EAAKM,OAAO,iBAAkBjE,KAAKV,MAAM4E,OAAOxC,IAChD1B,KAAKgB,SAAS,CAAEkC,KAAMS,EAAMV,SAAUkB,IAAIC,gBAAgBtE,EAAEyD,OAAOO,MAAM,WAEnD,MAAjB9D,KAAKP,MAAMyD,MAEhBlD,KAAKgB,SAAS,CAAEkC,KAAM,KAAMD,SAAU,S,oBAI1C,WAAS,IAAD,OACJ,OAAIjD,KAAKV,MAAM+E,KAKX,qBAAKvC,UAAU,YAAYK,QAASnC,KAAKV,MAAMoE,QAA/C,SACA,sBAAK5B,UAAU,gBAAgBK,QAAS,SAAArC,GAAC,OAAEA,EAAEwE,mBAA7C,UACI,qBAAKxC,UAAU,eAAf,SACI,qBAAKA,UAAU,cAAf,iHAEJ,sBAAKA,UAAU,aAAf,UACA,uBAAOA,UAAU,YAAjB,gEACA,uBAAOA,UAAU,YAAYyC,KAAK,OAAOf,MAAOxD,KAAKP,MAAMuD,KAAMG,SAAUnD,KAAKmD,WAChF,uBAAOrB,UAAU,YAAjB,uFACA,sBAAKA,UAAU,QAAf,UACA,gCAAQ9B,KAAKV,MAAM4E,OAAO1B,OAD1B,IACwC,yBAAQV,UAAU,eAAlB,eAAoC,IAApC,UAExC,sBAAKA,UAAU,cAAf,UACA,uBAAOA,UAAU,YAAjB,uCACA,uBAAOyC,KAAK,OAAOpB,SAAU,SAACrD,GAAD,OAAK,EAAKuD,kBAAkBvD,MAClC,OAAtBE,KAAKP,MAAMwD,SAAkB,wBAAQ,qBAAKnB,UAAU,gBAAgBM,IAAKpC,KAAKP,MAAMwD,iBAIrF,sBAAKnB,UAAU,eAAf,UACA,wBAAQA,UAAU,oBAAoBK,QAASnC,KAAKoD,UAApD,oEACA,wBAAQtB,UAAU,qBAAqBK,QAASnC,KAAKV,MAAMoE,QAA3D,oDAxBG,S,GA3CqBjB,a,SCvBzB2J,G,uFAAf,WACEC,EACAC,EACAC,EACAC,GAJF,eAAA/L,EAAA,6DAMQqI,EAAM,CACV2D,eAAgB/H,OAAO2H,GACvBK,gBAAiBhI,OAAO4H,GACxBL,QAASM,EACTL,QAASM,GAVb,SAYQ9L,MAAMC,8EAAoD,CAC9DiC,OAAQ,OACRvB,KAAMsD,KAAKC,UAAUkE,GACrBjG,QAAS,CACP8J,OAAQ,mBACR,eAAgB,sBAEjB/L,MAAK,SAAUC,GAChBtB,QAAQC,IAAIqB,EAASiC,WApBzB,4C,+BAwBe8J,G,qFAAf,WAAkCP,EAAcC,EAAeC,GAA/D,eAAA9L,EAAA,6DACQqI,EAAM,CACV2D,eAAgB/H,OAAO2H,GACvBK,gBAAiBhI,OAAO4H,GACxBL,QAASM,EACTL,QAAS,MALb,SAOQxL,MAAMC,8EAAoD,CAC9DiC,OAAQ,OACRvB,KAAMsD,KAAKC,UAAUkE,GACrBjG,QAAS,CACP8J,OAAQ,mBACR,eAAgB,sBAEjB/L,MAAK,SAAUC,GAChBtB,QAAQC,IAAIqB,EAASiC,WAfzB,4C,0BAmBqB+J,G,kDACnB,WAAYvN,GAAQ,IAAD,8BACjB,cAAMA,IAgDR0K,eAAiB,SAAClF,GAAD,8CAAW,WAAOrB,GAAP,SAAAhD,EAAA,sDAC1B,EAAKO,SAAS,CAAEa,KAAM,CAAEW,KAAMsC,EAAMtC,KAAMd,GAAIoD,EAAMpD,MAD1B,2CAAX,uDAjDE,EAqDnBqD,aArDmB,uCAqDJ,WAAOjF,GAAP,SAAAW,EAAA,yDACbX,EAAEC,iBAC2B,mFAAzB,EAAKN,MAAMqN,UAFF,qBAGP,EAAKrN,MAAMsN,iBAHJ,gCAIHH,GACJ,EAAKtN,MAAM0E,QAAQtC,GACnB,EAAKjC,MAAMoC,KAAKH,GAChB,EAAKjC,MAAMuN,UAPJ,6CAUHJ,GACJ,EAAKnN,MAAMoC,KAAKH,GAChB,EAAKpC,MAAM0E,QAAQtC,GACnB,EAAKjC,MAAMuN,UAbJ,mCAiBP,EAAKvN,MAAMsN,iBAjBJ,kCAkBHX,GACJ,EAAK9M,MAAM0E,QAAQtC,GACnB,EAAKjC,MAAMoC,KAAKH,GAChB,EAAKjC,MAAMuN,SACX,EAAKvN,MAAMwN,WAtBJ,iDAyBHb,GACJ,EAAK3M,MAAMoC,KAAKH,GAChB,EAAKpC,MAAM0E,QAAQtC,GACnB,EAAKjC,MAAMuN,SACX,EAAKvN,MAAMwN,WA7BJ,QAiCb5M,OAAOC,SAASC,SAChB,EAAKjB,MAAMoE,UAlCE,4CArDI,wDAgHnBmB,gBAAkB,SAACC,GAAD,8CAAW,WAAOrB,GAAP,iBAAAhD,EAAA,6DACrBkB,EAAc,EAAKlC,MAAMkC,aAMhB,KALTkC,EAAQlC,EACXI,KAAI,SAAUjC,GACb,OAAOA,EAAEuB,KAAKK,MAEf+D,QAAQX,EAAMpD,KAEfC,EAAYzB,KAAK,CACf0B,MAAOkD,EAAMtC,KACbX,KAAK,aACLR,KAAM,CACJmB,KAAMsC,EAAMtC,KACZd,GAAIoD,EAAMpD,MAIdC,EAAYoC,OAASF,EAAQ,EAE/B,EAAK7C,SAAS,CAAEW,YAAaA,IAnBF,SAoBrB,EAAKsI,sBAAsBnF,EAAMpD,GAAIC,GApBhB,2CAAX,uDA9GhBpC,QAAQC,IAAI,EAAKF,OACjB,EAAKG,MAAQ,CACXoC,KAAM,CAAEW,KAAM,GAAId,GAAI,MACtBoL,UAAW,iFACXE,SAAU,KACVC,UAAW,KACXF,kBAAkB,EAClB7C,cAAc,EACdlF,QAAS,KACTqC,SAAU,KACV1F,YAAa,EAAKrC,MAAMoG,UAAUQ,MAAM,GAAI,IAE9C,EAAKnB,aAAe,EAAKA,aAAalF,KAAlB,gBACpB,EAAKgF,gBAAkB,EAAKA,gBAAgBhF,KAArB,gBACvB,EAAKmK,eAAiB,EAAKA,eAAenK,KAApB,gBACtB,EAAKuK,YAAc,EAAKA,YAAYvK,KAAjB,gBACnB,EAAKqN,gBAAkB,EAAKA,gBAAgBrN,KAArB,gBACvB,EAAKsN,iBAAmB,EAAKA,iBAAiBtN,KAAtB,gBACxB,EAAKuN,oBAAsB,EAAKA,oBAAoBvN,KAAzB,gBAC3B,EAAKwN,gBAAkB,EAAKA,gBAAgBxN,KAArB,gBArBN,E,mDAwBnB,SAAgBC,GACW,mFAAzBE,KAAKP,MAAMqN,UACP9M,KAAKgB,SAAS,CAAE8L,UAAW,6EAC3B9M,KAAKgB,SAAS,CAAE8L,UAAW,qF,8BAGjC,SAAiBhN,GACfE,KAAKgB,SAAS,CAAEgM,SAAUlN,EAAEyD,OAAOC,U,iCAGrC,SAAoB1D,GAClBE,KAAKgB,SAAS,CAAEiM,UAAWnN,EAAEyD,OAAOC,U,6BAGtC,SAAgB1D,GACdE,KAAKP,MAAMsN,iBACP/M,KAAKgB,SAAS,CAAE+L,kBAAkB,IAClC/M,KAAKgB,SAAS,CAAE+L,kBAAkB,M,yBAGxC,WACE/M,KAAKV,MAAMoE,UACX1D,KAAKgB,SAAS,CAAEkJ,cAAc,M,0EA4ChC,WAA4BG,GAA5B,iBAAA5J,EAAA,sEAGQC,MAAMC,kEAAA,WAAwC0J,IACjDzJ,MAAK,SAACC,GACL,OAAOA,EAASC,UAEjBF,MAAK,SAACG,GACLiE,EAAUjE,KAEXE,OAAM,SAACC,GAAD,OAAS3B,QAAQC,IAAI0B,MAVhC,uBAWQR,MAAMC,mEAAA,WAAyC0J,IAClDzJ,MAAK,SAACC,GACL,OAAOA,EAASC,UAEjBF,MAAK,SAACG,GACLsG,EAAWtG,KAEZE,OAAM,SAACC,GAAD,OAAS3B,QAAQC,IAAI0B,MAlBhC,OAmBElB,KAAKgB,SAAS,CAAEgE,QAASA,EAASqC,SAAUA,IAnB9C,gD,8HA6CA,WAAyBrB,GAAzB,SAAAvF,EAAA,0DACMT,KAAKV,MAAM+E,KADjB,oBAEoC,IAA5BrE,KAAKP,MAAMyK,aAFnB,uBAGMlK,KAAKgB,SAAS,CACZa,KAAM,CAAEW,KAAM,GAAId,GAAI,MACtBqL,kBAAkB,EAClB7C,cAAc,EACdlF,QAAS,KACTqC,SAAU,KACV1F,YAAa3B,KAAKV,MAAMoG,UAAUQ,MAAM,GAAI,KATpD,SAWYlG,KAAKiK,sBACTjK,KAAKP,MAAMkC,YAAY3B,KAAKP,MAAMkC,YAAYoC,OAAS,GAAG1C,KAAKK,IAZvE,gD,2EAkBA,WAAU,IAAD,OACP,OAAK1B,KAAKV,MAAM+E,MAIbrE,KAAKP,MAAMkC,aACX3B,KAAKP,MAAMuF,SACXhF,KAAKP,MAAM4H,UAId9H,QAAQC,IAAIQ,KAAKV,OAEf,qBAAKwC,UAAU,YAAYK,QAASnC,KAAKV,MAAMoE,QAA/C,SACE,sBAAK5B,UAAU,gBAAgBK,QAAS,SAACrC,GAAD,OAAOA,EAAEwE,mBAAjD,UACE,qBAAKxC,UAAU,eAAf,SACE,qBAAKA,UAAU,cAAf,2GAEF,sBAAKA,UAAU,aAAf,UACE,uBAAOA,UAAU,YAAjB,2GACA,qBAAKA,UAAU,eAAf,SACE,gCAC4B,KAAzB9B,KAAKP,MAAMoC,KAAKW,KACf,8BAAMxC,KAAKP,MAAMoC,KAAKW,OAEtB,mIAIN,qBAAKV,UAAU,QAAf,SACE,sBAAKA,UAAU,+BAAf,UACE,qBAAKA,UAAU,mBAAf,SACG9B,KAAKP,MAAMkC,YAAYuE,MAAM,GAAGnE,KAAI,SAACC,GAAD,OACnC,sBAAoBF,UAAU,KAA9B,UACE,wBACEA,UAAU,0BACVK,QAAS,EAAK0C,gBAAgB,CAC5BnD,GAAIM,EAAGX,KAAKK,GACZc,KAAMR,EAAGX,KAAKmB,OAJlB,SAOGR,EAAGJ,QARR,uBAAUI,EAAGJ,YAcjB,sBAAKE,UAAU,yBAAf,UACG9B,KAAKP,MAAMuF,QAAQjB,OAAS,EAC3B,qBAAKjC,UAAU,eAAf,SACG9B,KAAKP,MAAMuF,QAAQjD,KAAI,SAACmC,GAAD,OACtB,8BACE,wBACEpC,UAAU,oBACVK,QAAS,EAAK0C,gBAAgB,CAC5BnD,GAAIwC,EAAOxC,GACXc,KAAM0B,EAAO1B,OAJjB,SAOE,8BAAM0B,EAAO1B,UARP0B,EAAOxC,SAanB,KAEH1B,KAAKP,MAAM4H,SAAStD,OAAS,EAC5B,qBAAKjC,UAAU,eAAf,SACG9B,KAAKP,MAAM4H,SAAStF,KAAI,SAAC2G,GAAD,OACvB,8BACE,wBACE5G,UAAU,qBACVK,QAAS,EAAK6H,eAAe,CAC3BtI,GAAIgH,EAAGhH,GACPc,KAAMkG,EAAGlG,OAJb,SAOE,8BAAMkG,EAAGlG,UARHkG,EAAGhH,SAaf,aAIgB,KAAzB1B,KAAKP,MAAMoC,KAAKW,KACf,sBAAKV,UAAU,YAAf,UACG9B,KAAKP,MAAMsN,iBACV,wBAAOjL,UAAU,YAAjB,4CACS9B,KAAKV,MAAM0E,QAAQxB,KAD5B,WACqCxC,KAAKP,MAAMoC,KAAKW,QAGrD,wBAAOV,UAAU,YAAjB,4CACS9B,KAAKP,MAAMoC,KAAKW,KADzB,WACkCxC,KAAKV,MAAM0E,QAAQxB,QAGvD,wBAAQV,UAAU,eAAeK,QAASnC,KAAKkN,gBAA/C,oBAGA,uBACEpL,UAAU,YACVyC,KAAK,OACLf,MAAOxD,KAAKP,MAAMuN,SAClB7J,SAAUnD,KAAKmN,mBAES,6EAAzBnN,KAAKP,MAAMqN,UACV,gCACG9M,KAAKP,MAAMsN,iBACV,wBAAOjL,UAAU,YAAjB,4CACS9B,KAAKP,MAAMoC,KAAKW,KADzB,WACkCxC,KAAKV,MAAM0E,QAAQxB,QAGrD,wBAAOV,UAAU,YAAjB,4CACS9B,KAAKV,MAAM0E,QAAQxB,KAD5B,WACqCxC,KAAKP,MAAMoC,KAAKW,QAGvD,uBACEV,UAAU,YACVyC,KAAK,OACLf,MAAOxD,KAAKP,MAAMwN,UAClB9J,SAAUnD,KAAKoN,yBAGjB,KACJ,sBAAKtL,UAAU,eAAf,UACE,wBAAOA,UAAU,YAAjB,gEACc9B,KAAKP,MAAMqN,aAEzB,wBACEhL,UAAU,eACVK,QAASnC,KAAKqN,gBAFhB,oEAQF,QAEN,sBAAKvL,UAAU,eAAf,UACE,wBAAQA,UAAU,oBAAoBK,QAASnC,KAAK+E,aAApD,kGAGA,wBAAQjD,UAAU,qBAAqBK,QAASnC,KAAKoK,YAArD,uEA7IC,S,GA5J4B3H,aCpC1B,SAAS0D,GAAQ7G,GAE5B,MAA6C8G,oBAAS,GAAtD,mBAAOC,EAAP,KAAuBC,EAAvB,KACA,EAA2CF,oBAAS,GAApD,mBAAOG,EAAP,KAAsBC,EAAtB,KACA,EAAuDJ,oBAAS,GAAhE,mBAAOK,EAAP,KAA4BC,EAA5B,KACA,EAAuDN,oBAAS,GAAhE,mBAAOS,EAAP,KAA4BC,EAA5B,KACA,EAAmDV,oBAAS,GAA5D,mBAAOO,EAAP,KAA0BC,EAA1B,KACA,EAAyCR,oBAAS,GAAlD,mBAAOkH,EAAP,KAAqBC,EAArB,KAEI,OACI,qBAAKzL,UAAU,kBAAf,SACA,sBAAKA,UAAU,UAAf,UACA,wBAAQA,UAAU,gBAAgBK,QAAS,kBAAMmE,GAAmB,IAApE,mJACA,cAAC,GAAD,CAAoBtC,QAAS1E,EAAM2H,OAAQvB,UAAWpG,EAAM4H,cAAexD,QAAS,kBAAI4C,GAAmB,IAAQjC,KAAMgC,IACzH,wBAAQvE,UAAU,gBAAgBK,QAAS,kBAAMqE,GAAkB,IAAnE,6FACA,cAAC,GAAD,CAAoBxC,QAAS1E,EAAM2H,OAAQvB,UAAWpG,EAAM4H,cAAexD,QAAS,kBAAI8C,GAAkB,IAAQnC,KAAMkC,IACxH,wBAAQzE,UAAU,gBAAgBK,QAAS,kBAAMoL,GAAiB,IAAlE,6FACA,cAAC,GAAD,CAAavJ,QAAS1E,EAAM2H,OAAQvB,UAAWpG,EAAM4H,cAAexD,QAAS,kBAAI6J,GAAiB,IAAQlJ,KAAMiJ,IAChH,wBAAQxL,UAAU,gBAAgBK,QAAS,kBAAMuE,GAAwB,IAAzE,mGACA,cAAC,GAAD,CAAehB,UAAWpG,EAAM4H,cAAelD,QAAS1E,EAAM2H,OAAQvD,QAAS,kBAAIgD,GAAwB,IAAQrC,KAAMoC,IACzH,wBAAQ3E,UAAU,gBAAgBK,QAAS,kBAAMyE,GAAsB,IAAvE,yGACA,cAAC,GAAD,CAAa5C,QAAS1E,EAAM2H,OAAQvB,UAAWpG,EAAM4H,cAAexD,QAAS,kBAAIkD,GAAsB,IAAQvC,KAAMsC,IACrH,wBAAQ7E,UAAU,gBAAgBK,QAAS,kBAAM2E,GAAwB,IAAzE,yGACA,cAAC,GAAD,CAAe9C,QAAS1E,EAAM2H,OAAQvB,UAAWpG,EAAM4H,cAAexD,QAAS,kBAAIoD,GAAwB,IAAQzC,KAAMwC,S,UC5BhH2G,G,kDACnB,WAAYlO,GAAQ,IAAD,8BACjB,cAAMA,IAURiL,WAAa,SAACzF,GAAD,OAAW,SAAChF,GACvB,EAAKkB,SAAS,CAAEyM,oBAAqB3I,MAVrC,EAAKrF,MAAQ,CACXmL,wBAAyB,KACzBjJ,YAAa,KACbwH,gBAAiB,KACjBsE,qBAAqB,EACrB3C,UAAW,MAPI,E,qGAenB,WAAiCxD,GAAjC,wBAAA7G,EAAA,6DACQkB,EAAc3B,KAAKV,MAAMgB,SAASb,MAAMkC,aAO/B,KANTkC,EAAQlC,EACXI,KAAI,SAAUjC,GACb,OAAOA,EAAEuB,KAAKK,MAEf+D,QAAQzF,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKK,KAGxCC,EAAYzB,KAAK,CACf0B,MAAO5B,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKmB,KACtCX,KAAK,WACLR,KAAM,CACJmB,KAAMxC,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKmB,KACrCd,GAAI1B,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKK,MAIvCC,EAAYoC,OAASF,EAAQ,EAE/BtE,QAAQC,IACNmB,0EAAA,qBAA0D2G,IArB9D,SAuBQ5G,MACJC,0EAAA,qBAA0D2G,IAEzD1G,MAAK,SAACC,GACL,OAAOA,EAASC,UAEjBF,MAAK,SAACG,GACL,EAAKC,SAAS,CACZ4J,wBAAyB7J,EACzBY,YAAaA,OAGhBV,OAAM,SAACC,GAAD,OAAS3B,QAAQC,IAAI0B,MAnChC,OAoCE3B,QAAQC,IAAIQ,KAAKP,OApCnB,gD,8HAsCA,WAAyB6H,GAAzB,oBAAA7G,EAAA,sEACQC,MAAMC,0EAAA,WAAgD2G,IACzD1G,MAAK,SAACC,GACL,OAAOA,EAASC,UAEjBF,MAAK,SAACG,GACL,EAAKC,SAAS,CAAEmI,gBAAiBpI,OAElCE,OAAM,SAACC,GAAD,OAAS3B,QAAQC,IAAI0B,MARhC,2C,wHAWA,WAAmBoG,GAAnB,oBAAA7G,EAAA,sEACQC,MAAMC,oEAAA,WAA0C2G,IACnD1G,MAAK,SAACC,GACL,OAAOA,EAASC,UAEjBF,MAAK,SAACG,GACL,EAAKC,SAAS,CAAE8J,UAAW/J,OAE5BE,OAAM,SAACC,GAAD,OAAS3B,QAAQC,IAAI0B,MARhC,2C,6HAWA,sBAAAT,EAAA,sEACQT,KAAK0N,2BAA2B1N,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKK,IADvE,uBAEQ1B,KAAK2N,mBAAmB3N,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKK,IAF/D,uBAGQ1B,KAAK4N,aAAa5N,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKK,IAHzD,gD,0EAMA,WACE,IAAK1B,KAAKP,MAAMmL,0BAA4B5K,KAAKP,MAAM0J,gBACrD,OAAO,wBAET,MAMInJ,KAAKP,MALPmL,EADF,EACEA,wBACAzB,EAFF,EAEEA,gBACAxH,EAHF,EAGEA,YACA8L,EAJF,EAIEA,oBACA3C,EALF,EAKEA,UAEIpB,EAAQkB,EAAwB7I,KAAI,SAAUoJ,GAClD,MAAO,CAAEd,SAAUc,EAAKC,SAAUpI,KAAMmI,EAAKE,eAE3CC,EAAS,IAAIC,IAEbC,EAAS9B,EAAM+B,QAAO,SAACC,EAAKP,GAK9B,OAJKG,EAAOK,IAAIR,EAAKd,YACnBiB,EAAOM,IAAIT,EAAKd,SAAUc,GAC1BO,EAAIxL,KAAKiL,IAEJO,IACN,IACH,OACE,gCACE,sBAAK5J,UAAU,SAAf,UACE,qBAAKA,UAAU,cAAf,SACGH,EAAYI,KAAI,SAACC,GAAD,OACf,sBAAoBF,UAAU,KAA9B,UACE,cAAC,IAAD,CACEA,UAAU,aACVG,GAAI,CACFC,SAAUF,EAAGH,KACbpC,MAAO,CAAE4B,KAAMW,EAAGX,KAAMM,YAAaA,IAJzC,SAOGK,EAAGJ,QARR,uBAAUI,EAAGJ,YAcjB,sBAAKE,UAAU,mBAAf,UAEI,wBAAQA,UAAU,aAAaK,QAASnC,KAAKJ,YAA7C,oEAKA,wBAAQkC,UAAU,aAAaK,QAASnC,KAAKJ,YAA7C,4CAIF,qBAAKkC,UAAU,OAAOM,IAAKC,EAAMC,IAAI,sBAGzC,sBAAKR,UAAU,cAAf,UACE,sBAAKA,UAAU,kBAAf,UACG2L,EACC,sBAAK3L,UAAU,WAAf,UACE,wBAAQA,UAAU,iBAAlB,kGACA,wBAAQA,UAAU,SAASK,QAASnC,KAAKuK,YAAW,GAApD,+CAKF,sBAAKzI,UAAU,WAAf,UACE,wBAAQA,UAAU,SAASK,QAASnC,KAAKuK,YAAW,GAApD,kGAGA,wBAAQzI,UAAU,iBAAlB,+CAGH2L,EACC,gCACGjC,EAAOzJ,KAAI,SAAC8J,GAAD,OACV,sBAA0B/J,UAAU,gBAApC,UACG+J,EAAM7I,KACN4H,EACEF,QAAO,SAACmD,GAAD,OAAYA,EAAOzC,WAAaS,EAAMxB,YAC7CtI,KAAI,SAAC8L,GAAD,OACH,sBAEE/L,UAAU,uBAFZ,UAIG+L,EAAOC,cAJV,KAI2BD,EAAOE,iBAH3BF,EAAOG,kBANVnC,EAAMxB,aAejBlB,EAAgBpH,KAAI,SAACmC,GAAD,OACnB,gCACGA,EAAO1B,KADV,KACkB0B,EAAO4H,QADf5H,EAAOxC,UAMrB,8BACGoJ,EAAU/I,KAAI,SAACmC,GAAD,OACb,gCACGA,EAAO6H,iBADV,qBAEG7H,EAAO8H,kBAFV,KAE+B9H,EAAO+H,QAChB,OAAnB/H,EAAOgI,QACN,gCACGhI,EAAO8H,kBADV,qBAEG9H,EAAO6H,iBAFV,KAE8B7H,EAAOgI,WAEnC,OARIhI,EAAOiI,iBAczB,qBACErK,UAAU,eACVM,IAAG,iCAA4BpC,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKoG,YAGlE,cAAC,GAAD,CACEP,cAAevF,EACfsF,OAAQjH,KAAKV,MAAMgB,SAASb,MAAM4B,c,GA3MHoB,a,iDCF1BsF,G,iFAAf,WAA6B7C,GAA7B,SAAAzE,EAAA,sEAEUC,MAAMC,kEAAA,WAAwCuE,GAAW,CAC3DtC,OAAQ,SACRC,QAAS,CACL,OAAU,mBACV,eAAgB,sBACdjC,MAAK,SAASC,GAChBtB,QAAQC,IAAIqB,EAASiC,WARjC,4C,+BAUekF,G,iFAAf,WAA8BC,GAA9B,SAAAxH,EAAA,sEAEUC,MAAMC,mEAAA,WAAyCsH,GAAY,CAC7DrF,OAAQ,SACRC,QAAS,CACL,OAAU,mBACV,eAAgB,sBACdjC,MAAK,SAASC,GAChBtB,QAAQC,IAAIqB,EAASiC,WARjC,4C,0BAWqBoF,G,kDACjB,WAAY5I,GAAO,IAAD,8BACd,cAAMA,IAMVyF,aAPkB,uCAOH,WAAMjF,GAAN,SAAAW,EAAA,yDACXX,EAAEC,iBAC8B,WAA7B,EAAKT,MAAM6I,gBAFH,gCAIHJ,GAAa,EAAKzI,MAAM6H,UAAUzF,IAJ/B,6CAQDsG,GAAc,EAAK1I,MAAM6H,UAAUzF,IARlC,OAUX,EAAKpC,MAAMoE,UACX,EAAK1C,SAAS,CAACiF,WAAU,IAXd,4CAPG,sDAEd1G,QAAQC,IAAI,EAAKF,OACjB,EAAKG,MAAM,CAACwG,UAAU,MACtB,EAAKlB,aAAe,EAAKA,aAAalF,KAAlB,gBAJN,E,0CAqBlB,WAEI,GADAN,QAAQC,IAAI,yFACTQ,KAAKP,MAAMwG,UACd,CACI,IAAIjE,EAAGhC,KAAKV,MAAMoG,UAIlB,OAHA1D,EAAG+B,OAAO/B,EAAG+B,OAAO,EACpB/D,KAAKgB,SAAS,CAACiF,WAAW,IAC1B1G,QAAQC,IAAI,kEACL,cAAC,IAAD,CAAUyC,GAAI,CAACC,SAAUF,EAAGA,EAAG+B,OAAO,GAAGlC,KAAMpC,MAAO,CAAE4B,KAAMW,EAAGA,EAAG+B,OAAO,GAAG1C,KAAMM,YAAYK,MAG3G,OAAIhC,KAAKV,MAAM+E,MAKf9E,QAAQC,IAAIQ,KAAKV,OAEb,qBAAKwC,UAAU,YAAYK,QAASnC,KAAKV,MAAMoE,QAA/C,SACA,sBAAK5B,UAAU,gBAAgBK,QAAS,SAAArC,GAAC,OAAEA,EAAEwE,mBAA7C,UACI,qBAAKxC,UAAU,eAAf,SACI,qBAAIA,UAAU,cAAd,8DAAsC9B,KAAKV,MAAM6H,UAAU3E,UAE/D,qBAAKV,UAAU,aAAf,SACA,wBAAOA,UAAU,YAAjB,0LAA4F,aAA7B9B,KAAKV,MAAM6I,gBAA+B,iCAAU,6CAAnH,IAA+HnI,KAAKV,MAAM6H,UAAU3E,KAApJ,SAEA,sBAAKV,UAAU,eAAf,UACA,wBAAQA,UAAU,SAASK,QAASnC,KAAK+E,aAAzC,0BACA,wBAAQjD,UAAU,SAASK,QAASnC,KAAKV,MAAMoE,QAA/C,uEAfG,S,GAnC0BjB,a,wCCf9B,SAAS0D,GAAQ7G,GAE5B,MAA6C8G,oBAAS,GAAtD,mBAAOC,EAAP,KAAuBC,EAAvB,KACA,EAA2CF,oBAAS,GAApD,mBAAOG,EAAP,KAAsBC,EAAtB,KACA,EAAuDJ,oBAAS,GAAhE,mBAAOK,EAAP,KAA4BC,EAA5B,KACA,EAAuDN,oBAAS,GAAhE,mBAAOS,EAAP,KAA4BC,EAA5B,KACA,EAAmDV,oBAAS,GAA5D,mBAAOO,EAAP,KAA0BC,EAA1B,KAEI,OACI,qBAAK9E,UAAU,kBAAf,SACA,sBAAKA,UAAU,UAAf,UACA,wBAAQA,UAAU,gBAAgBK,QAAS,kBAAMmE,GAAmB,IAApE,mJACA,cAAC,KAAD,CAAoBtC,QAAS1E,EAAM2H,OAAQvB,UAAWpG,EAAM4H,cAAexD,QAAS,kBAAI4C,GAAmB,IAAQjC,KAAMgC,IACzH,wBAAQvE,UAAU,gBAAgBK,QAAS,kBAAMqE,GAAkB,IAAnE,6FACA,cAAC,KAAD,CAAoBxC,QAAS1E,EAAM2H,OAAQvB,UAAWpG,EAAM4H,cAAexD,QAAS,kBAAI8C,GAAkB,IAAQnC,KAAMkC,IACxH,wBAAQzE,UAAU,gBAAgBK,QAAS,kBAAMuE,GAAwB,IAAzE,uFACA,cAAC,GAAD,CAAehB,UAAWpG,EAAM4H,cAAeC,UAAW7H,EAAM2H,OAAQvD,QAAS,kBAAIgD,GAAwB,IAAQrC,KAAMoC,IAC3H,wBAAQ3E,UAAU,gBAAgBK,QAAS,kBAAMyE,GAAsB,IAAvE,6FACA,cAAC,KAAD,CAAa5C,QAAS1E,EAAM2H,OAAQvB,UAAWpG,EAAM4H,cAAexD,QAAS,kBAAIkD,GAAsB,IAAQvC,KAAMsC,IACrH,wBAAQ7E,UAAU,gBAAgBK,QAAS,kBAAM2E,GAAwB,IAAzE,6FACA,cAAC,KAAD,CAAeK,UAAW7H,EAAM2H,OAAQkB,gBAAiB7I,EAAMoI,gBAAiBhE,QAAS,kBAAIoD,GAAwB,IAAQzC,KAAMwC,S,UCzB1HoH,G,kDACjB,WAAY3O,GAAO,IAAD,8BACd,cAAMA,IACDG,MAAM,CAACmL,wBAAyB,KAAMjJ,YAAY,KAAMwH,gBAAgB,KAAM+E,SAAS,MAC5F,EAAKtO,YAAc,EAAKA,YAAYC,KAAjB,gBAHL,E,+CAKlB,SAAYC,GACRA,EAAEC,iBACFC,KAAKV,MAAMW,QAAQC,KAAK,KACxBC,aAAaC,QACbC,OAAOC,SAASC,W,+EAGpB,WAAiC+G,GAAjC,wBAAA7G,EAAA,6DACUkB,EAAc3B,KAAKV,MAAMgB,SAASb,MAAMkC,aAGlC,KAFNkC,EAAQlC,EAAYI,KAAI,SAASjC,GAAI,MAAa,cAATA,EAAE+B,KAA2B/B,EAAEuB,KAAKK,GAAgB,KAAK+D,QAAQzF,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKK,KAI/IC,EAAYzB,KAAK,CACb0B,MAAO5B,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKmB,KACtCX,KAAK,YACLR,KAAK,CACD,KAAOrB,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKmB,KACtC,GAAKxC,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKK,MAMxCC,EAAYoC,OAAOF,EAAM,EAE7BtE,QAAQC,IAAImB,kFAAA,qBAAgE2G,IAnBhF,SAoBU5G,MAAMC,kFAAA,qBAAgE2G,IAC3E1G,MAAK,SAAAC,GAAY,OAAOA,EAASC,UACjCF,MAAK,SAAAG,GACF,EAAKC,SAAS,CAAC4J,wBAAwB7J,EAAMY,YAAYA,OAC1DV,OAAM,SAAAC,GAAG,OAAI3B,QAAQC,IAAI0B,MAxBhC,OAyBI3B,QAAQC,IAAIQ,KAAKP,OAzBrB,gD,uFA2BA,SAAmB6H,GAAU,IAAD,OACxB5G,MAAMC,kFAAA,WAAsD2G,IAC3D1G,MAAK,SAAAC,GAAY,OAAOA,EAASC,UACjCF,MAAK,SAAAG,GACF,EAAKC,SAAS,CAACmI,gBAAgBpI,OAChCE,OAAM,SAAAC,GAAG,OAAI3B,QAAQC,IAAI0B,Q,sEAGhC,sBAAAT,EAAA,sEACUT,KAAK0N,2BAA2B1N,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKK,IADzE,uBAEU1B,KAAK2N,mBAAmB3N,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKK,IAFjE,gD,6HAIA,WAAyBsE,GAAzB,SAAAvF,EAAA,yDACAlB,QAAQC,IAAI,qIACNwG,EAAU1F,SAASb,MAAM4B,KAAKQ,OAAS7B,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKQ,KAF5E,gCAIU7B,KAAK0N,2BAA2B1N,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKK,IAJzE,uBAKU1B,KAAK2N,mBAAmB3N,KAAKV,MAAMgB,SAASb,MAAM4B,KAAKK,IALjE,gD,2EAUA,WAAS,IAAD,EACJ,IAAM1B,KAAKP,MAAMmL,0BAA4B5K,KAAKP,MAAM0J,gBACpD,OAAO,wBAEX,MAA6DnJ,KAAKP,MAA3DmL,EAAP,EAAOA,wBAAyBzB,EAAhC,EAAgCA,gBAAgBxH,EAAhD,EAAgDA,YAC1C+H,EAAQkB,EAAwB7I,KAAI,SAASoJ,GAC/C,MAAO,CAACd,SAAUc,EAAKC,SAAUpI,KAAMmI,EAAKE,eAE5CC,EAAS,IAAIC,IAEbC,EAAS9B,EAAM+B,QAAO,SAACC,EAAIP,GAKrC,OAJcG,EAAOK,IAAIR,EAAKd,YAC5BiB,EAAOM,IAAIT,EAAKd,SAASc,GACzBO,EAAIxL,KAAKiL,IAEJO,IACP,IACM,OACI,gCACI,qBAAK5J,UAAU,UAAf,mBAA0BH,EAAYA,EAAYoC,OAAO,UAAzD,aAA0B,EAAmCnC,QAC7D,qBAAKE,UAAU,cAAf,SACCH,EAAYI,KAAI,SAAAC,GAAE,OACX,sBAAoBF,UAAU,KAA9B,UAEI,cAAC,IAAD,CAAMA,UAAU,aAAaG,GAAI,CAACC,SAASF,EAAGH,KAAMpC,MAAM,CAAC4B,KAAKW,EAAGX,KAAMM,YAAYA,IAArF,SACEK,EAAGJ,QAHT,uBAAUI,EAAGJ,YAQb,cAAC,GAAD,CAASsF,cAAevF,EAAa+F,gBAAgB,kBAAkBT,OAAQjH,KAAKV,MAAMgB,SAASb,MAAM4B,OACzG,sBAAKS,UAAU,kBAAf,UAEC0J,EAAOzJ,KAAI,SAAA8J,GAAK,OACjB,sBAA0B/J,UAAU,UAApC,UACK+J,EAAM7I,KACN4H,EAAwBF,QAAO,SAAAmD,GAAM,OAAIA,EAAOzC,WAAaS,EAAMxB,YACvFtI,KAAI,SAAA8L,GAAM,OAAI,sBAA8B/L,UAAU,iBAAxC,UAA0D+L,EAAOC,cAAjE,KAAkFD,EAAOE,iBAA/EF,EAAOG,kBAHNnC,EAAMxB,aAMflB,EAAgBpH,KAAI,SAAAmC,GAAM,OAC3B,gCACCA,EAAO1B,KADR,KACgB0B,EAAO4H,QADb5H,EAAOxC,iB,GAvGQe,a,eCElCnB,G,mFAAf,WAA0BH,EAAOC,GAAjC,SAAAX,EAAA,+EAEWC,MAAMC,gEAAA,gBAAyCQ,EAAzC,iBAAuDC,GAAW,CAC3EwB,OAAO,MACPC,QAAS,CACP,eAAe,sBACfjC,MAAK,SAAAG,GAAI,OAAIA,EAAKD,WAN5B,4C,sBAUe,SAASqN,GAAT,GAA8B,IAAbC,EAAY,EAAZA,SAC9B,EAAgChI,qBAAhC,mBAAOiI,EAAP,KAAiBC,EAAjB,KACA,EAAgClI,qBAAhC,mBAAOhF,EAAP,KAAiBmN,EAAjB,KACMtO,EAAUuO,cACVzJ,EAAY,uCAAG,WAAMjF,GAAN,iBAAAW,EAAA,6DACnBX,EAAEC,iBADiB,SAEAuB,GACjB+M,EACAjN,GAJiB,OAEb1B,EAFa,OAMb+O,EAAM,CACV,KAAQ/O,EAAK6B,KACb,SAAY7B,EAAK8B,UAEnBvB,EAAQC,KAAK,CACXgC,SAAW,MAEb3C,QAAQC,IAAIiP,GACZL,EAASK,GAdU,2CAAH,sDAiBlB,OACE,qBAAK3M,UAAU,OAAf,SACA,qBAAKA,UAAU,SAAf,SACE,uBAAMA,UAAU,gBAAgB4M,SAAU3J,EAA1C,UACA,qBAAKjD,UAAU,OAAOM,IAAKC,EAAMC,IAAI,gBACrC,qBAAKR,UAAU,SAAf,uBACE,wBAAOA,UAAU,WAAjB,UACE,+DACA,uBAAOyC,KAAK,OAAOoK,YAAY,oBAAoBxL,SAAU,SAAArD,GAAC,OAAIwO,EAAYxO,EAAEyD,OAAOC,aAEzF,wBAAO1B,UAAU,WAAjB,UACE,qEACA,uBAAOyC,KAAK,WAAWoK,YAAY,iFAAgBxL,SAAU,SAAArD,GAAC,OAAIyO,EAAYzO,EAAEyD,OAAOC,aAEzF,sBAAK1B,UAAU,aAAf,UACA,cAAC,IAAD,CAAMA,UAAU,mBAAmBG,GAAI,CAACC,SAAS,gBAAiBzC,MAAO,CAAC4B,KAAK,OAA/E,gFAGA,cAAC,IAAD,CAAMS,UAAU,aAAaG,GAAI,CAACC,SAAS,gBAAiBzC,MAAO,CAAC4B,KAAK,OAAzE,2FAIA,uBAAOS,UAAU,WAAjB,SACE,wBAAQyC,KAAK,SAAb,qD,SCzDKqK,G,mFAAf,WAAuBC,EAAMzN,GAA7B,eAAAX,EAAA,6DAEUf,EAAS,CACb,KAAOmP,EACP,SAAYzN,GAJlB,SAMUV,MAAMC,gEAAgC,CACxCiC,OAAQ,OACRvB,KAAMsD,KAAKC,UAAUlF,GACrBmD,QAAS,CACL,gCAAgC,OAChC,OAAU,wBACV,OAAU,mBACV,eAAgB,sBACdjC,MAAK,SAASC,GAChBtB,QAAQC,IAAIqB,EAASiC,WAfjC,4C,0BAmBqBgM,G,kDACjB,WAAYxP,GAAO,IAAD,8BACd,cAAMA,IAgBVyF,aAjBkB,uCAiBH,WAAMjF,GAAN,SAAAW,EAAA,6DACXX,EAAEC,iBADS,SAEL6O,GAAO,EAAKnP,MAAMoP,KAAK,EAAKpP,MAAM2B,UAF7B,OAGX2N,MAAM,6mBACN,EAAK/N,SAAS,CAACgO,YAAY,IAJhB,2CAjBG,sDAEd,EAAKvP,MAAM,CAACoP,KAAK,GAAIzN,SAAS,GAAI4N,WAAW,MAC7C,EAAKC,aAAe,EAAKA,aAAapP,KAAlB,gBACpB,EAAKqP,iBAAmB,EAAKA,iBAAiBrP,KAAtB,gBACxB,EAAKkF,aAAe,EAAKA,aAAalF,KAAlB,gBALN,E,gDAQlB,SAAaC,GACT,IAAIwD,EAAMxD,EAAEyD,OAAOC,MACnBxD,KAAKgB,SAAS,CAAC6N,KAAMvL,M,8BAEzB,SAAiBxD,GACb,IAAIwD,EAAMxD,EAAEyD,OAAOC,MACnBxD,KAAKgB,SAAS,CAACI,SAAUkC,M,oBAS7B,WACI,OAAGtD,KAAKP,MAAMuP,WAEH,cAAC,IAAD,CAAU/M,GAAI,CAACC,SAAU,IAAKzC,MAAO,CAAE4B,KAAM,SAGhE,qBAAKS,UAAU,OAAf,SACI,qBAAKA,UAAU,SAAf,SACE,uBAAMA,UAAU,gBAAgB4M,SAAU1O,KAAK+E,aAA/C,UACA,qBAAKjD,UAAU,OAAOM,IAAKC,EAAMC,IAAI,gBACrC,qBAAKR,UAAU,SAAf,gFACE,wBAAOA,UAAU,WAAjB,UACE,+DACA,uBAAOyC,KAAK,OAAOf,MAAOxD,KAAKP,MAAMoP,KAAM1L,SAAUnD,KAAKiP,aAAcN,YAAY,yBAEtF,wBAAO7M,UAAU,WAAjB,UACE,qEACA,uBAAOyC,KAAK,WAAWf,MAAOxD,KAAKP,MAAM2B,SAAU+B,SAAUnD,KAAKkP,iBAAkBP,YAAY,sFAElG,qBAAK7M,UAAU,aAAf,SACA,cAAC,IAAD,CAAMA,UAAU,mBAAmBG,GAAI,CAACC,SAAS,SAAUzC,MAAO,CAAC4B,KAAK,OAAxE,8CAIA,uBAAOS,UAAU,WAAjB,SACE,wBAAQyC,KAAK,SAAb,uI,GAjDgC9B,a,SCnB3B0M,G,mFAAf,WAA2BN,EAAMzN,GAAjC,SAAAX,EAAA,uDAEmB,CACb,KAAOoO,EACP,SAAYzN,IAJlB,4C,0BAqCqBgO,G,kDACjB,WAAY9P,GAAO,IAAD,8BACd,cAAMA,IAgBV+P,UAjBkB,uCAiBN,WAAMvP,GAAN,SAAAW,EAAA,6DACRX,EAAEC,iBADM,SAEFoP,GAAW,EAAK1P,MAAMoP,KAAK,EAAKpP,MAAM2B,UAFpC,OAGR2N,MAAM,0IAHE,2CAjBM,wDAuBlBhK,aAvBkB,uCAuBH,WAAMjF,GAAN,SAAAW,EAAA,6DACXX,EAAEC,iBADS,SAELoP,GAAW,EAAK1P,MAAMoP,KAAK,EAAKpP,MAAM2B,UAFjC,OAGX2N,MAAM,0IAHK,2CAvBG,sDAEd,EAAKtP,MAAM,CAACoP,KAAK,EAAKvP,MAAM+B,KAAKE,KAAMH,SAAS,EAAK9B,MAAM+B,KAAKG,UAChE,EAAKyN,aAAe,EAAKA,aAAapP,KAAlB,gBACpB,EAAKqP,iBAAmB,EAAKA,iBAAiBrP,KAAtB,gBACxB,EAAKkF,aAAe,EAAKA,aAAalF,KAAlB,gBACpB,EAAKwP,UAAY,EAAKA,UAAUxP,KAAf,gBANH,E,gDASlB,SAAaC,GACT,IAAIwD,EAAMxD,EAAEyD,OAAOC,MACnBxD,KAAKgB,SAAS,CAAC6N,KAAMvL,M,8BAEzB,SAAiBxD,GACb,IAAIwD,EAAMxD,EAAEyD,OAAOC,MACnBxD,KAAKgB,SAAS,CAACI,SAAUkC,M,oBAa7B,WACG,OACP,qBAAKxB,UAAU,OAAf,SACI,qBAAKA,UAAU,SAAf,SACE,uBAAMA,UAAU,gBAAgB4M,SAAU1O,KAAK+E,aAA/C,UACA,qBAAKjD,UAAU,OAAOM,IAAKC,EAAMC,IAAI,gBACrC,qBAAKR,UAAU,SAAf,oEACE,wBAAOA,UAAU,WAAjB,UACE,+DACA,uBAAOyC,KAAK,OAAOf,MAAOxD,KAAKP,MAAMoP,KAAM1L,SAAUnD,KAAKiP,aAAcN,YAAY,yBAEtF,wBAAO7M,UAAU,WAAjB,UACE,qEACA,uBAAOyC,KAAK,WAAWf,MAAOxD,KAAKP,MAAM2B,SAAU+B,SAAUnD,KAAKkP,iBAAkBP,YAAY,sFAGlG,uBAAO7M,UAAU,WAAjB,SACE,wBAAQyC,KAAK,SAAb,gEAEA,uBAAOzC,UAAU,WAAjB,SACA,wBAAQK,QAASnC,KAAKqP,UAAtB,qGAEF,qBAAKvN,UAAU,aAAf,SACA,cAAC,IAAD,CAAMA,UAAU,mBAAmBG,GAAI,CAACC,SAAS,QAASzC,MAAO,CAAC4B,KAAK,CAACE,KAAKvB,KAAKP,MAAMoP,KAAMrN,SAASxB,KAAKP,MAAM2B,YAAlH,yD,GApD8BqB,a,0BCOvB6M,oBAjCf,SAAahQ,GAEX,MCfa,WACb,IAOA,EAA0B8G,mBAPT,WACf,IAAMmJ,EAAcpP,aAAaqP,QAAQ,SACnCC,EAAY9K,KAAK+K,MAAMH,GAE7B,OADAhQ,QAAQC,IAAIiQ,GACLA,EAG0BE,IAAnC,mBAAOlB,EAAP,KAAcL,EAAd,KAOA,MAAO,CACLA,SANgB,SAAAqB,GAChBtP,aAAayP,QAAQ,QAASjL,KAAKC,UAAU6K,IAC7CrB,EAASqB,IAKThB,SDF0BoB,GAApBpB,EAAR,EAAQA,MAAOL,EAAf,EAAeA,SAEf,OAAIK,EAcF,cAAC,IAAD,UACQ,eAAC,IAAD,WACA,cAAC,IAAD,CAAO5M,KAAK,QAAQsF,UAAW9H,IAC/B,cAAC,IAAD,CAAOwC,KAAK,YAAYsF,UAAWC,IACnC,cAAC,IAAD,CAAOvF,KAAK,YAAYsF,UAAWsB,KACnC,cAAC,IAAD,CAAO5G,KAAK,WAAWsF,UAAWqG,KAClC,cAAC,IAAD,CAAO3L,KAAK,YAAYsF,UAAW8G,KACnC,cAAC,IAAD,CAAOpM,KAAK,WAAWsF,UAAW2I,OAClC,cAAC,IAAD,CAAOjO,KAAK,YAAZ,SAAwB,cAAC,GAAD,CAAUR,KAAMoN,MACxC,cAAC,IAAD,CAAUsB,KAAK,IAAI9N,GAAI,CAACC,SAAS,QAAUzC,MAAO,CAAC4B,KAAKoN,WApB5D,cAAC,IAAD,UACI,eAAC,IAAD,WACA,cAAC,IAAD,CAAO5M,KAAK,6BAA6BsF,UAAW2H,KACpD,cAAC,IAAD,CAAOjN,KAAK,sBAAZ,SAAkC,cAAC,GAAD,CAAOuM,SAAUA,MACnD,cAAC,IAAD,CAAU2B,KAAK,IAAI9N,GAAI,CAACC,SAAS,iCEd9B8N,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBtP,MAAK,YAAkD,IAA/CuP,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCCdO,IAASC,OACP,cAAC,IAAD,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1BX,O","file":"static/js/main.f368759e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo4x.bffe58ac.png\";","import React, {Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport './MainPage.css';\r\nimport logo from '../App/logo4x.png';\r\n\r\nexport default class MainPage extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        console.log(props);\r\n        this.state={user:null, mainfolders:null} \r\n        this.handleClick = this.handleClick.bind(this)\r\n    }\r\n    handleClick(e) {\r\n        e.preventDefault();\r\n        this.props.history.push(\"/\");\r\n        localStorage.clear();    \r\n        window.location.reload();      \r\n      }\r\n    \r\n    async GetMainFolders(userid){\r\n        await fetch(process.env.REACT_APP_API_FOLDERS+`/main/${userid}`) \r\n        .then(response=>{ return response.json()})\r\n        .then(data=>{\r\n            this.setState({mainfolders:data});\r\n            console.log(data);\r\n        }).catch(err => console.log(err));\r\n    }\r\n    async loginUser (login, password)\r\n    {\r\n    return await fetch(process.env.REACT_APP_API_USERS+`?mail=${login}&pass=${password}`)\r\n    .then(response=>{ return response.json()})\r\n        .then(data=>{\r\n            this.setState({user:data});\r\n            return data;\r\n        }).catch(err => console.log(err));\r\n}\r\n\r\n    async componentDidMount(){\r\n        if(this.props.location.state.body==null)\r\n        {\r\n            localStorage.clear();\r\n            window.location.reload();\r\n        }\r\n        const user = await this.loginUser(this.props.location.state.body.Mail,this.props.location.state.body.Password);\r\n        if(user)\r\n        {\r\n            await this.GetMainFolders(user.Id);\r\n        }        \r\n        else\r\n        {\r\n            localStorage.clear();\r\n            window.location.reload();            \r\n        }\r\n    }\r\n\r\n    render(){\r\n        if ((!this.state.user)||(!this.state.mainfolders)) {\r\n            return <div />\r\n          }\r\n        const mainfolders=this.state.mainfolders;\r\n        const breadCrumbs = [\r\n            {\r\n              title: 'Главная',\r\n              path: '/',  \r\n              body: {\r\n                  \"Mail\":this.state.user.Mail,\r\n                  \"Password\":this.state.user.Password\r\n              }            \r\n            },\r\n          ];          \r\n        return(\r\n            <div>\r\n                <div className=\"Header\">\r\n                <div className=\"BreadCrumbs\">\r\n                {breadCrumbs.map(bc=>\r\n                        <div key={bc.title} className=\"gt\">                            \r\n                            {/* <Link to={{pathname: `/template/${folder.Id}/${folder.Name}`}}> */}\r\n                            <Link className=\"BreadCrumb\" to={{pathname:bc.path, state:{body:bc.body, breadCrumbs:breadCrumbs}}} >\r\n                             {bc.title} \r\n                              </Link>\r\n                              &ensp;&rarr;&ensp;\r\n                        </div>)}\r\n                        </div> \r\n                        <div className=\"settingsinheader\">\r\n                        <Link to={{pathname:\"/settings\"}} >\r\n              {<button className=\"btn_logout\">настройки</button>}\r\n              </Link>    \r\n              {<button className=\"btn_logout\" onClick={this.handleClick}>выход</button>}                                        \r\n              <img className=\"logo\" src={logo} alt=\"toolbaritem\"/>\r\n              </div>\r\n                        </div>\r\n            <div className=\"mainfolders\">      \r\n            {mainfolders.map(mf=>\r\n                        <div key={mf.Id} className=\"mfolder\">\r\n                        {mf.Name===\"Проекты\"? <Link to={{pathname:`/projects`, state: {breadCrumbs:breadCrumbs,body:{Id:mf.Id, Name:mf.Name}}}}>\r\n                            <button className='buttonfolder'> \r\n                             Проекты\r\n                              </button>\r\n                              </Link> :<Link to={{pathname:`/template`, state: {breadCrumbs:breadCrumbs,body:{Id:mf.Id, Name:mf.Name}}}}>\r\n                              <button className='buttonfolder'> \r\n                             Библиотека компонентов\r\n                              </button>\r\n                              </Link>}\r\n                    </div>)}        \r\n                        </div>  \r\n                        </div>\r\n        )\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport '../ModalPages.css';\r\nasync function SaveTemplateElement (elwithimg)\r\n{ \r\n    await fetch(process.env.REACT_APP_API_TEMPLATEELEMENTS,{\r\n        method: 'POST', // или 'PUT'\r\n        body: elwithimg, // данные могут быть 'строкой' или {объектом}!\r\n        headers: {\r\n            'Accept': 'application/json',\r\n          }}).then(function(response) {\r\n            console.log(response.status)});\r\n    }\r\n\r\nexport default class AddElement extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={name:\"\", filepath:null, file: null}\r\n        this.onChange = this.onChange.bind(this);\r\n        this.sendImage = this.sendImage.bind(this); \r\n        this.handleImageChange = this.handleImageChange.bind(this);     \r\n    }   \r\n    onChange(e) {\r\n        var val = e.target.value;\r\n        this.setState({name: val});\r\n    }\r\n\r\n    async sendImage(event) {\r\n        event.preventDefault();\r\n        await SaveTemplateElement(this.state.file);\r\n        this.props.onClose();        \r\n        window.location.reload();\r\n    };\r\n    \r\n    handleImageChange(e) {\r\n        e.preventDefault();\r\n        let form = new FormData();\r\n        for (var index = 0; index < e.target.files.length; index++) {\r\n            var element = e.target.files[index];\r\n            form.append('image', element);\r\n        }\r\n        form.append('parentfolderid', this.props.folder.Id);\r\n        form.append('Name', this.state.name);\r\n        this.setState({ file: form, filepath: URL.createObjectURL(e.target.files[0])});\r\n    };  \r\n\r\n    render(){\r\n        if(!this.props.show)\r\n        {\r\n            return null\r\n        }\r\n        return(\r\n            <div className=\"ModalPage\" onClick={this.props.onClose}> \r\n            <div className=\"modal-content\" onClick={e=>e.stopPropagation()}>\r\n                <div className=\"modal-header\">\r\n                    <div className=\"modal-title\">Создание шаблонного элемента</div>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                <label className=\"formlabel\"> Название:</label>\r\n                <input className=\"forminput\" type=\"text\" value={this.state.name} onChange={this.onChange}/>\r\n                <label className=\"formlabel\">Расположение:</label>\r\n                <div className=\"place\">\r\n                <label>{this.props.folder.Name}</label> <button className=\"button arrow\"> -{'>'} </button>\r\n                </div>\r\n                {/* <div className=\"modal-image\">\r\n                <label className=\"formlabel\">Фото:</label>                \r\n                <input type=\"file\" onChange={(e)=>this.handleImageChange(e)}/>                \r\n                <img className=\"downloadimage\" src={this.state.filepath}/>\r\n                </div> */}\r\n                </div>                \r\n                <div className=\"modal-footer\">\r\n                <button className=\"button SaveButton\" onClick={this.sendImage}>Сохранить</button>\r\n                <button className=\"button CloseButton\" onClick={this.props.onClose}>Назад</button>\r\n                </div>\r\n            </div>            \r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport '../ModalPages.css';\r\n\r\nasync function SaveFolder (name, parentfolderid)\r\n{   \r\n    const folder =   {\r\n      \"Name\": name,\r\n      \"ParentfolderId\": Number(parentfolderid)\r\n   }\r\n    await fetch(process.env.REACT_APP_API_TEMPLATEFOLDERS,{\r\n        method: 'POST', // или 'PUT'\r\n        body: JSON.stringify(folder), // данные могут быть 'строкой' или {объектом}!\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n          }}).then(function(response) {\r\n            console.log(response.status)});\r\n}\r\n\r\nexport default class AddElement extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={name:\"\", folders:null, breadCrumbs:null}\r\n        this.onChange = this.onChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);   \r\n        this.changedirectory = this.changedirectory.bind(this);\r\n    }   \r\n    onChange(e) {\r\n        var val = e.target.value;\r\n        this.setState({name: val});\r\n    }\r\n\r\n    changedirectory = param => async e => {\r\n\r\n    };\r\n   \r\n    handleSubmit = async e => {\r\n        e.preventDefault();\r\n        console.log(this.props);\r\n        await SaveFolder(this.state.name,this.props.folder.Id );\r\n        this.props.onClose();\r\n        window.location.reload();\r\n      }\r\n\r\n    render(){\r\n        if(!this.props.show)\r\n        {\r\n            return null\r\n        }\r\n        return(\r\n            <div className=\"ModalPage\" onClick={this.props.onClose}> \r\n            <div className=\"modal-content\" onClick={e=>e.stopPropagation()}>\r\n                <div className=\"modal-header\">\r\n                    <div className=\"modal-title\">Создание папки</div>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                <label className=\"formlabel\"> Название:</label>\r\n                <input className=\"forminput\" type=\"text\" value={this.state.name} onChange={this.onChange}/>\r\n                <label className=\"formlabel\">Расположение:</label>\r\n                <div className=\"place\">\r\n                <label>{this.props.folder.Name}</label> <button className=\"button arrow\"> -{'>'} </button>\r\n                </div>\r\n                {/* <div>\r\n                <div>\r\n                {this.props.prevpages.map(bc=>\r\n                        <div key={bc.title} className=\"gt\">\r\n                            <button className=\"BreadCrumb\" onClick={this.changedirectory({body:bc.body})}>\r\n                             {bc.title} \r\n                              </button>\r\n                              &gt;&gt;\r\n                        </div>)}\r\n                        </div>                              \r\n\r\n                </div> */}\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                <button className=\"button SaveButton\" onClick={this.handleSubmit}>Сохранить</button>\r\n                <button className=\"button CloseButton\" onClick={this.props.onClose}>Назад</button>\r\n                </div>\r\n            </div>            \r\n            </div>\r\n        )\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport '../ModalPages.css';\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nasync function ExportToUser (folderid, usermail)\r\n{   \r\n    await fetch(process.env.REACT_APP_API_FOLDERS + `/exporttouser?folderid=${folderid}&usermail=${usermail}`,{\r\n        method: 'GET', // или 'PUT'\r\n        headers: {\r\n            'Content-Type':'application/json'\r\n        }}).then(data => data.json());\r\n}\r\nasync function ExportToLibrary (folderid, password)\r\n{   \r\n    await fetch(process.env.REACT_APP_API_FOLDERS + `/exporttolibrary?folderid=${folderid}&password=${password}`,{\r\n        method: 'GET', // или 'PUT'\r\n        headers: {\r\n            'Content-Type':'application/json'\r\n        }}).then(data => data.json());\r\n}\r\nasync function ExportToFolder (folderid, newrootid)\r\n{   \r\n    await fetch(process.env.REACT_APP_API_FOLDERS + `/exporttofolder?folderid=${folderid}&newrootid=${newrootid}`,{\r\n        method: 'GET', // или 'PUT'\r\n        headers: {\r\n            'Content-Type':'application/json'\r\n        }}).then(data => data.json());\r\n}\r\n\r\nexport default class ExportFolder extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        console.log(this.props);\r\n        this.state={exporttype:null, body:null, path:{Name:this.props.folder.Name, Id:this.props.folder.Id}, folders:null, breadCrumbs:this.props.prevpages, text:\"Показать\"}\r\n        this.handleSubmit = this.handleSubmit.bind(this); \r\n        this.setTypeOfExport = this.setTypeOfExport.bind(this); \r\n        this.onMailChange = this.onMailChange.bind(this); \r\n        this.onPasswordChange = this.onPasswordChange.bind(this); \r\n        this.showlocation = this.showlocation.bind(this); \r\n        this.changedirectory = this.changedirectory.bind(this); \r\n               \r\n    }\r\n\r\n    handleSubmit = async e => {\r\n        e.preventDefault();\r\n        if(this.state.exporttype===\"user\")\r\n        {\r\n            await ExportToUser(this.props.folder.Id, this.state.body);\r\n        }\r\n        else if (this.state.exporttype===\"library\")\r\n        {\r\n            await ExportToLibrary(this.props.folder.Id, this.state.body);\r\n\r\n        }\r\n        else if (this.state.exporttype===\"folder\")\r\n        {\r\n            await ExportToFolder(this.props.folder.Id, this.state.path.Id)\r\n        }    \r\n        this.props.onClose();\r\n      }\r\n\r\n    changedirectory= param => async event => {\r\n        const breadCrumbs = this.state.breadCrumbs; \r\n        const index = breadCrumbs.map(function(e) { return e.body.Id; }).indexOf(param.Id);\r\n        if(index===-1)\r\n        {\r\n        breadCrumbs.push({\r\n            title: param.Name,\r\n            path: `/projects`,\r\n            body:{\r\n                \"Name\":param.Name,\r\n                \"Id\":param.Id\r\n            }\r\n          });\r\n        }\r\n        else\r\n        {\r\n            breadCrumbs.length=index+1;\r\n        }\r\n        await fetch(process.env.REACT_APP_API_FOLDERS+`/${param.Id}`) \r\n        .then(response=>{ return response.json()})\r\n        .then(data=>{\r\n            this.setState({folders:data, breadCrumbs:breadCrumbs, path:{Name:param.Name, Id:param.Id}});\r\n        }).catch(err => console.log(err));  \r\n        console.log(this.state);\r\n    };\r\n\r\n    async showlocation(event){\r\n        await fetch(process.env.REACT_APP_API_FOLDERS+`/${this.props.folder.Id}`) \r\n        .then(response=>{ return response.json()})\r\n        .then(data=>{\r\n            this.state.text===\"Показать\"?this.setState({text:'Свернуть',folders:data}):this.setState({text:'Показать'});\r\n        }).catch(err => console.log(err));  \r\n        \r\n    }\r\n\r\n    setTypeOfExport(event) {\r\n        if(event.target.value===\"folder\")\r\n        {\r\n            this.setState({exporttype:event.target.value, path:{Name:this.props.folder.Name, Id:this.props.folder.Id}});\r\n        }\r\n        \r\n        else\r\n        {\r\n            this.setState({exporttype:event.target.value});\r\n        }\r\n        console.log(\"wow\");\r\n      }\r\n      onMailChange(event) {\r\n        this.setState({body:event.target.value});\r\n      }\r\n      onPasswordChange(event) {\r\n        this.setState({body:event.target.value});\r\n      }\r\n   \r\n    \r\n    async componentDidUpdate(prevProps){\r\n    if (prevProps.folder.Id !== this.props.folder.Id)\r\n    {\r\n        this.setState({exporttype:null, body:null, path:{Name:this.props.folder.Name, Id:this.props.folder.Id}, folders:null, breadCrumbs:this.props.prevpages, text:\"Показать\"});\r\n    }\r\n  }\r\n\r\n    render(){\r\n        console.log(\"рендер удаления\");\r\n        if(this.state.isdeleted)\r\n        {\r\n            let bc=this.props.prevpages;\r\n            bc.length=bc.length-1;\r\n            this.setState({isdeleted: false});\r\n            console.log(\"Я в удалении\");\r\n            return <Redirect to={{pathname: bc[bc.length-1].path, state: { body: bc[bc.length-1].body, breadCrumbs:bc}            \r\n  }}/>\r\n        }\r\n        if(!this.props.show)\r\n        {\r\n            return null\r\n        }\r\n            console.log(this.props);\r\n        return(\r\n            <div className=\"ModalPage\" onClick={this.props.onClose}> \r\n            <div className=\"modal-content\" onClick={e=>e.stopPropagation()}>\r\n                <div className=\"modal-header\">\r\n                    <div className=\"modal-title\">Экспорт папки {this.props.folder.Name}</div>\r\n                </div>\r\n                <div className=\"modal-body\">   \r\n                <div className=\"formwithradio\">\r\n                <div className=\"radiobutton\" onChange={this.setTypeOfExport.bind(this)}>\r\n                <input type=\"radio\" value=\"user\" name=\"gender\"/> Другому пользователю\r\n                </div>\r\n                <div className=\"radiobutton\" onChange={this.setTypeOfExport.bind(this)}>\r\n                <input type=\"radio\" value=\"folder\" name=\"gender\"/> В другую папку\r\n                </div>\r\n                <div className=\"radiobutton\" onChange={this.setTypeOfExport.bind(this)}>\r\n                <input type=\"radio\" value=\"library\" name=\"gender\"/> В общую библиотеку\r\n                </div>\r\n                </div>   \r\n                </div>\r\n                {this.state.exporttype===\"user\" ? <div className=\"modal-body\">\r\n                    <label className=\"formlabel\"> Введите почту получателя:</label>\r\n                    <input className=\"forminput\" type=\"text\" value={this.state.body} onChange={this.onMailChange}/>\r\n                </div> :null}\r\n                {this.state.exporttype===\"library\" ? <div className=\"modal-body\">\r\n                    <label className=\"formlabel\"> Задайте пароль:</label>\r\n                    <input className=\"forminput\" type=\"text\" value={this.state.body} onChange={this.onPasswordChange}/>\r\n                </div> :null}\r\n                {this.state.exporttype===\"folder\" ? <div className=\"modal-body\">\r\n                <label className=\"formlabel\">Экспорт в папку:</label>\r\n                <div className=\"selectedpath\"><label>{this.state.path.Name}</label> <button className=\"button arrow\" onClick={this.showlocation}> {this.state.text} {this.state.text===\"Показать\"? <div>&ensp;&darr;</div>:<div>&ensp;&uarr;</div>} </button></div>\r\n                \r\n                <div className=\"place\">        \r\n                {this.state.text===\"Показать\"? null:<div className=\"parentwindowforselectingpath\">\r\n                    <div className=\"modalbreadcrumbs\">\r\n                {this.state.breadCrumbs.slice(1).map(bc=>\r\n                        <div key={bc.title} className=\"gt\">\r\n                            <button className=\"BreadCrumb withoutframe\" onClick={this.changedirectory({Id:bc.body.Id, Name:bc.body.Name})}>\r\n                             {bc.title} \r\n                              </button>\r\n                              &ensp;&rarr;&ensp;\r\n                        </div>)}\r\n                        </div>\r\n                <div className=\"windowforselectingpath\">\r\n                \r\n                        <div className=\"modalfolders\">              \r\n                        {this.state.folders.map(folder=>\r\n                        <div key={folder.Id}>\r\n                            <button className=\"modalbuttonfolder\" onClick={this.changedirectory({Id:folder.Id, Name:folder.Name})}>\r\n                             <div> \r\n                             {folder.Name}\r\n                              </div>\r\n                              </button>\r\n                        </div>)}                         \r\n                        </div>\r\n                        </div>                              \r\n\r\n                </div>}\r\n                \r\n                </div>\r\n                </div> :null}\r\n                <div className=\"modal-footer\">\r\n                <button className=\"button SaveButton\"  onClick={this.handleSubmit}>Экспортировать</button>\r\n                <button className=\"button CloseButton\" onClick={this.props.onClose}>Отменить</button>\r\n                </div>\r\n            </div>            \r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { useState } from 'react';\r\nimport AddElement from '../ModalForms/TemplateFolder/AddTemplateElement';\r\nimport AddFolder from '../ModalForms/TemplateFolder/AddTemplateFolder';\r\nimport DeleteComponent from '../ModalForms/TemplateFolder/DeleteTemplateFolder';\r\nimport EditFolder from '../ModalForms/TemplateFolder/EditTemplateFolder';\r\nimport ImportFolder from '../ModalForms/TemplateFolder/ImportTemplateFolder';\r\nimport ExportFolder from '../ModalForms/Folder/ExportFolder';\r\n\r\nimport './Toolbar.css';\r\n\r\nexport default function Toolbar(props) {\r\n\r\n    const [showAddElement, set_showAddElement] = useState(false);\r\n    const [showAddFolder, set_showAddFolder] = useState(false);\r\n    const [showDeleteComponent, set_showDeleteComponent] = useState(false);\r\n    const [showEditComponent, set_showEditComponent] = useState(false);\r\n    const [showExportComponent, set_showExportComponent] = useState(false);\r\n    const [showImportComponent, set_showImportComponent] = useState(false);\r\n    \r\n    \r\n        return(\r\n            <div className=\"ToolbarRelative\">\r\n            <div className=\"Toolbar\">\r\n            <button className=\"Toolbarbutton\" onClick={() => set_showAddElement(true)}>Добавить класс</button>\r\n            <AddElement folder={props.parent} prevpages={props.previouspages} onClose={()=>set_showAddElement(false)} show={showAddElement}/>\r\n            <button className=\"Toolbarbutton\" onClick={() => set_showAddFolder(true)}>Добавить папку</button>\r\n            <AddFolder folder={props.parent} prevpages={props.previouspages} onClose={()=>set_showAddFolder(false)} show={showAddFolder}/>\r\n            <button className=\"Toolbarbutton\" onClick={() => set_showDeleteComponent(true)}>Удалить папку</button>\r\n            <DeleteComponent prevpages={props.previouspages} component={props.parent} onClose={()=>set_showDeleteComponent(false)} show={showDeleteComponent}/>\r\n            <button className=\"Toolbarbutton\" onClick={() => set_showEditComponent(true)}>Изменить папку</button>\r\n            <EditFolder folder={props.parent} prevpages={props.previouspages} onClose={()=>set_showEditComponent(false)} show={showEditComponent}/>\r\n            <button className=\"Toolbarbutton\" onClick={() => set_showExportComponent(true)}>Экспорт папки</button>\r\n            <ExportFolder component={props.parent} onClose={()=>set_showExportComponent(false)} show={showExportComponent}/>\r\n            <button className=\"Toolbarbutton\">Импорт в папку</button>\r\n            <ImportFolder component={props.parent} onClose={()=>set_showImportComponent(false)} show={showImportComponent}/>\r\n            </div>\r\n            </div>\r\n          )\r\n    \r\n  \r\n}","import React, {Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport './TemplatePage.css';\r\nimport Toolbar from '../Toolbar/ToolbarTemplateFolder';\r\nimport logo from '../App/logo4x.png';\r\n\r\nexport default class TemplatePage extends Component{\r\n    constructor(props){\r\n        super(props); \r\n        this.state={folders:null, elements:null,  breadCrumbs:null};\r\n        this.handleClick = this.handleClick.bind(this)\r\n    }\r\n    handleClick(e) {\r\n        e.preventDefault();\r\n        this.props.history.push(\"/\");\r\n        localStorage.clear();    \r\n        window.location.reload();      \r\n      }      \r\n    \r\n    async GetFolders(parentid){\r\n        const breadCrumbs = this.props.location.state.breadCrumbs; \r\n        const index = breadCrumbs.map(function(e) { return e.body.Id; }).indexOf(this.props.location.state.body.Id);\r\n        // const index=breadCrumbs.indexOf(elem => elem.path==`/template/${this.props.match.params.id}/${this.props.match.params.name}`);\r\n        if(index===-1)\r\n        {\r\n        breadCrumbs.push({\r\n            title: this.props.location.state.body.Name,\r\n            path: `/template`,\r\n            body:{\r\n                \"Name\":this.props.location.state.body.Name,\r\n                \"Id\":this.props.location.state.body.Id\r\n            }\r\n          });\r\n        }\r\n        else\r\n        {\r\n            breadCrumbs.length=index+1;\r\n        }\r\n        console.log(process.env.REACT_APP_API_TEMPLATEFOLDERS+`/${parentid}`);\r\n        await fetch(process.env.REACT_APP_API_TEMPLATEFOLDERS+`/${parentid}`) \r\n        .then(response=>{ return response.json()})\r\n        .then(data=>{\r\n            this.setState({folders:data, breadCrumbs:breadCrumbs});\r\n        }).catch(err => console.log(err));  \r\n        console.log(this.state);\r\n    }\r\n    GetElements(parentid){\r\n        console.log(process.env.REACT_APP_API_TEMPLATEELEMENTS+`/${parentid}`);\r\n        fetch(process.env.REACT_APP_API_TEMPLATEELEMENTS+`/${parentid}`) \r\n        .then(response=>{ return response.json()})\r\n        .then(data=>{\r\n            this.setState({elements:data});\r\n        }).catch(err => console.log(err));\r\n    }\r\n\r\n    async componentDidMount(){\r\n        await this.GetFolders(this.props.location.state.body.Id);\r\n        await this.GetElements(this.props.location.state.body.Id);\r\n    }\r\n    async componentDidUpdate(prevProps){\r\n        console.log(\"Я в обновлении темплэйта\");\r\n      if (prevProps.location.state.body.Id !== this.props.location.state.body.Id)      \r\n      {\r\n        await this.GetFolders(this.props.location.state.body.Id);\r\n        await this.GetElements(this.props.location.state.body.Id);\r\n        // window.location.reload();\r\n      }\r\n  }\r\n\r\n    render(){\r\n        if ((!this.state.folders)||(!this.state.elements)) {\r\n            return <div />\r\n          }\r\n        const {folders, elements,breadCrumbs}=this.state;//сначала\r\n        return(\r\n            <div className=\"folderPage\">\r\n                <div className=\"Header\">\r\n                <div className=\"BreadCrumbs\">\r\n                {breadCrumbs.map(bc=>\r\n                        <div key={bc.title} className=\"gt\">      \r\n                            <Link className=\"BreadCrumb\" to={{pathname:bc.path, state:{body:bc.body, breadCrumbs:breadCrumbs}}} >\r\n                             {bc.title} \r\n                              </Link>\r\n                              &ensp;&rarr;&ensp;\r\n                        </div>)}\r\n                        </div> \r\n                        <div className=\"settingsinheader\">\r\n              {<button className=\"btn_logout\" onClick={this.handleClick}>настройки</button>}\r\n              {<button className=\"btn_logout\" onClick={this.handleClick}>выход</button>}\r\n              <img className=\"logo\" src={logo} alt=\"toolbaritem\"/>\r\n              </div>\r\n                        </div>   \r\n                                               \r\n            <div className=\"listview\">              \r\n                        {folders.map(folder=>\r\n                        <div key={folder.Id}>\r\n                            <Link className=\"folderinlist\" to={{pathname:`/template`, state: {breadCrumbs:breadCrumbs, body:folder}}}>\r\n                             <div className=\"NameElementOfList\"> \r\n                             {folder.Name}\r\n                              </div>\r\n                              </Link>\r\n                        </div>)} \r\n                        {elements.map(folder=>\r\n                        <div key={folder.Id}>                            \r\n                            <Link className=\"elementinlist\" to={{pathname:`/telement`, state: {breadCrumbs:breadCrumbs, body:folder}}}>\r\n                            {/* {folder.Image===undefined} */}\r\n                            <img className=\"elementimage\" src={`data:image/jpeg;base64,${folder.Image}`} />\r\n                            <div className=\"NameElementOfList\"> \r\n                             {folder.Name}\r\n                              </div>\r\n                              </Link>\r\n                        </div>)}          \r\n                                      \r\n                           <div className=\"foldercomponents\">\r\n                        </div>  \r\n                        \r\n                        </div>\r\n                        <div className=\"foldercomponents\">\r\n                        <Toolbar previouspages={breadCrumbs} typeof_parentel=\"folder\" parent={this.props.location.state.body}></Toolbar>\r\n                        </div>\r\n                        </div>  \r\n        )\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport '../ModalPages.css';\r\nasync function SaveElement (name, pfid)\r\n{ \r\n    const element =   {\r\n        \"Name\": name,\r\n        \"ParentfolderId\": Number(pfid)\r\n     }\r\n    await fetch(process.env.REACT_APP_API_ELEMENTS,{\r\n        method: 'POST', // или 'PUT'\r\n        body: JSON.stringify(element), // данные могут быть 'строкой' или {объектом}!\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n          }}).then(function(response) {\r\n            console.log(response.status)});\r\n    }\r\n    async function SaveImage (elwithimg){\r\n        await fetch(process.env.REACT_APP_API_ELEMENTS+\"/image\",{\r\n            method: 'POST', // или 'PUT'\r\n            body: elwithimg, // данные могут быть 'строкой' или {объектом}!\r\n            headers: {\r\n                'Accept': 'application/json'\r\n              }}).then(function(response) {\r\n                console.log(response.status)});\r\n    }\r\n\r\nexport default class AddElement extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={name:\"\", filepath:null, file: null}\r\n        this.onChange = this.onChange.bind(this);\r\n        this.sendImage = this.sendImage.bind(this); \r\n        this.handleImageChange = this.handleImageChange.bind(this);     \r\n    }   \r\n    onChange(e) {\r\n        var val = e.target.value;\r\n        this.setState({name: val});\r\n    }\r\n\r\n    async sendImage(event) {\r\n        event.preventDefault();\r\n        await SaveElement(this.state.name, this.props.folder.Id);\r\n        if (this.state.file!=null)\r\n        await SaveImage(this.state.file);\r\n        this.props.onClose();        \r\n        window.location.reload();\r\n    };\r\n    \r\n    handleImageChange(e) {\r\n        e.preventDefault();\r\n        if(e.target.files.length>0)\r\n        {\r\n        let form = new FormData();\r\n        for (var index = 0; index < e.target.files.length; index++) {\r\n            var element = e.target.files[index];\r\n            form.append('image', element);\r\n        }\r\n        form.append('parentfolderid', this.props.folder.Id);\r\n        this.setState({ file: form, filepath: URL.createObjectURL(e.target.files[0])});\r\n    }\r\n    else if (this.state.file!=null)\r\n    {\r\n        this.setState({ file: null, filepath: null})\r\n    }\r\n    };  \r\n\r\n    render(){\r\n        if(!this.props.show)\r\n        {\r\n            return null\r\n        }\r\n        return(\r\n            <div className=\"ModalPage\" onClick={this.props.onClose}> \r\n            <div className=\"modal-content\" onClick={e=>e.stopPropagation()}>\r\n                <div className=\"modal-header\">\r\n                    <div className=\"modal-title\">Создание элемента</div>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                <label className=\"formlabel\"> Название:</label>\r\n                <input className=\"forminput\" type=\"text\" value={this.state.name} onChange={this.onChange}/>\r\n                <label className=\"formlabel\">Расположение:</label>\r\n                <div className=\"place\">\r\n                <label>{this.props.folder.Name}</label> <button className=\"button arrow\"> -{'>'} </button>\r\n                </div>\r\n                <div className=\"modal-image\">\r\n                <label className=\"formlabel\">Фото:</label>                \r\n                <input type=\"file\" onChange={(e)=>this.handleImageChange(e)}/>  \r\n                {this.state.filepath===null ? <div/> :<img className=\"downloadimage\" src={this.state.filepath}/>}             \r\n                \r\n                </div>\r\n                </div>                \r\n                <div className=\"modal-footer\">\r\n                <button className=\"button SaveButton\" onClick={this.sendImage}>Сохранить</button>\r\n                <button className=\"button CloseButton\" onClick={this.props.onClose}>Назад</button>\r\n                </div>\r\n            </div>            \r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport '../ModalPages.css';\r\n\r\nasync function SaveFolder (name, parentfolderid)\r\n{   \r\n    const folder =   {\r\n      \"Name\": name,\r\n      \"ParentfolderId\": Number(parentfolderid)\r\n   }\r\n    await fetch(process.env.REACT_APP_API_FOLDERS,{\r\n        method: 'POST', // или 'PUT'\r\n        body: JSON.stringify(folder), // данные могут быть 'строкой' или {объектом}!\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n          }}).then(function(response) {\r\n            console.log(response.status)});\r\n}\r\n\r\nexport default class AddFolder extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={name:\"\", folders:null, breadCrumbs:null}\r\n        this.onChange = this.onChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);   \r\n        this.changedirectory = this.changedirectory.bind(this);\r\n    }   \r\n    onChange(e) {\r\n        var val = e.target.value;\r\n        this.setState({name: val});\r\n    }\r\n\r\n    changedirectory = param => async e => {\r\n\r\n    };\r\n   \r\n    handleSubmit = async e => {\r\n        e.preventDefault();\r\n        console.log(this.props);\r\n        await SaveFolder(this.state.name,this.props.folder.Id );\r\n        this.props.onClose();\r\n        window.location.reload();\r\n      }\r\n\r\n    render(){\r\n        if(!this.props.show)\r\n        {\r\n            return null\r\n        }\r\n        return(\r\n            <div className=\"ModalPage\" onClick={this.props.onClose}> \r\n            <div className=\"modal-content\" onClick={e=>e.stopPropagation()}>\r\n                <div className=\"modal-header\">\r\n                    <div className=\"modal-title\">Создание папки</div>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                <label className=\"formlabel\"> Название:</label>\r\n                <input className=\"forminput\" type=\"text\" value={this.state.name} onChange={this.onChange}/>\r\n                <label className=\"formlabel\">Расположение:</label>\r\n                <div className=\"place\">\r\n                <label>{this.props.folder.Name}</label> <button className=\"button arrow\"> -{'>'} </button>\r\n                </div>\r\n                {/* <div>\r\n                <div>\r\n                {this.props.prevpages.map(bc=>\r\n                        <div key={bc.title} className=\"gt\">\r\n                            <button className=\"BreadCrumb\" onClick={this.changedirectory({body:bc.body})}>\r\n                             {bc.title} \r\n                              </button>\r\n                              &gt;&gt;\r\n                        </div>)}\r\n                        </div>                              \r\n\r\n                </div> */}\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                <button className=\"button SaveButton\" onClick={this.handleSubmit}>Сохранить</button>\r\n                <button className=\"button CloseButton\" onClick={this.props.onClose}>Назад</button>\r\n                </div>\r\n            </div>            \r\n            </div>\r\n        )\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport '../ModalPages.css';\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nasync function DeleteFolder (folderid)\r\n{\r\n    await fetch(process.env.REACT_APP_API_FOLDERS + `/${folderid}`,{\r\n        method: 'DELETE', // или 'PUT'\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n          }}).then(function(response) {\r\n            console.log(response.status)});\r\n}\r\nasync function DeleteElement (elementid)\r\n{   \r\n    await fetch(process.env.REACT_APP_API_ELEMENTS + `/${elementid}`,{\r\n        method: 'DELETE', // или 'PUT'\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n          }}).then(function(response) {\r\n            console.log(response.status)});\r\n}\r\n\r\nexport default class DeleteComponent extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        console.log(this.props);\r\n        this.state={isdeleted:null}\r\n        this.handleSubmit = this.handleSubmit.bind(this);        \r\n    }\r\n   \r\n    handleSubmit = async e => {\r\n        e.preventDefault();\r\n        if(this.props.typeofcomponent===\"folder\")\r\n        {\r\n          await DeleteFolder(this.props.component.Id);  \r\n        }        \r\n        else\r\n        {\r\n            await DeleteElement(this.props.component.Id);\r\n        }        \r\n        this.props.onClose();\r\n        this.setState({isdeleted:true});\r\n      }\r\n\r\n    render(){\r\n        console.log(\"рендер удаления\");\r\n        if(this.state.isdeleted)\r\n        {\r\n            let bc=this.props.prevpages;\r\n            bc.length=bc.length-1;\r\n            this.setState({isdeleted: false});\r\n            console.log(\"Я в удалении\");\r\n            return <Redirect to={{pathname: bc[bc.length-1].path, state: { body: bc[bc.length-1].body, breadCrumbs:bc}            \r\n  }}/>\r\n        }\r\n        if(!this.props.show)\r\n        {\r\n            return null\r\n        }     \r\n        \r\n        console.log(this.props);\r\n        return(\r\n            <div className=\"ModalPage\" onClick={this.props.onClose}> \r\n            <div className=\"modal-content\" onClick={e=>e.stopPropagation()}>\r\n                <div className=\"modal-header\">\r\n                    <div className=\"modal-title\">Удаление папки {this.props.component.Name}</div>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                <label className=\"formlabel\"> Вы действительно хотите удалить папку {this.props.component.Name}?</label>\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                <button className=\"button SaveButton\"  onClick={this.handleSubmit}>Да</button>\r\n                <button className=\"button CloseButton\" onClick={this.props.onClose}>Отменить</button>\r\n                </div>\r\n            </div>            \r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport '../ModalPages.css';\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nasync function SaveFolder (name, parentfolderid)\r\n{   \r\n    const folder =   {\r\n      \"Name\": name,\r\n      \"Id\": Number(parentfolderid)\r\n   }\r\n    await fetch(process.env.REACT_APP_API_FOLDERS,{\r\n        method: 'PUT', // или 'PUT'\r\n        body: JSON.stringify(folder), // данные могут быть 'строкой' или {объектом}!\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n          }}).then(function(response) {\r\n            console.log(response.status)});\r\n}\r\n\r\nexport default class EditFolder extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={name:this.props.folder.Name, folders:null, isupdated:null}\r\n        this.onChange = this.onChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);   \r\n        this.changedirectory = this.changedirectory.bind(this);\r\n    }   \r\n    onChange(e) {\r\n        var val = e.target.value;\r\n        this.setState({name: val});\r\n    }\r\n\r\n    changedirectory = param => async e => {\r\n\r\n    };\r\n   \r\n    handleSubmit = async e => {\r\n        e.preventDefault();\r\n        console.log(this.props);\r\n        await SaveFolder(this.state.name,this.props.folder.Id );\r\n        this.props.onClose();\r\n        this.setState({isupdated:true});\r\n      }\r\ncomponentDidUpdate(prevProps){\r\n    if (prevProps.folder.Id !== this.props.folder.Id)\r\n    {\r\n        console.log(\"zashel\");\r\n        this.setState({name:this.props.folder.Name, folders:null, isupdated:null});\r\n    }    \r\n}\r\n    render(){\r\n        if(this.state.isupdated)\r\n        {\r\n            let bc=this.props.prevpages;\r\n            bc[bc.length-1].title=this.state.name;\r\n            bc[bc.length-1].body.Name=this.state.name;\r\n            this.setState({isupdated: false});\r\n            return <Redirect to={{pathname: bc[bc.length-1].path, state: { body: bc[bc.length-1].body, breadCrumbs:bc}            \r\n  }}/>\r\n        }\r\n        if(!this.props.show)\r\n        {\r\n            return null\r\n        }\r\n        \r\n        return(\r\n            <div className=\"ModalPage\" onClick={this.props.onClose}> \r\n            <div className=\"modal-content\" onClick={e=>e.stopPropagation()}>\r\n                <div className=\"modal-header\">\r\n                    <div className=\"modal-title\">Редактировать папку</div>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                <label className=\"formlabel\"> Название:</label>\r\n                <input className=\"forminput\" type=\"text\" value={this.state.name} onChange={this.onChange}/>\r\n                <label className=\"formlabel\">Расположение:</label>\r\n                <div className=\"place\">\r\n                <label>{this.props.folder.Name}</label> <button className=\"button arrow\"> -{'>'} </button>\r\n                </div>\r\n                {/* <div>\r\n                <div>\r\n                {this.props.prevpages.map(bc=>\r\n                        <div key={bc.title} className=\"gt\">\r\n                            <button className=\"BreadCrumb\" onClick={this.changedirectory({body:bc.body})}>\r\n                             {bc.title} \r\n                              </button>\r\n                              &gt;&gt;\r\n                        </div>)}\r\n                        </div>                              \r\n\r\n                </div> */}\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                <button className=\"button SaveButton\" onClick={this.handleSubmit}>Сохранить</button>\r\n                <button className=\"button CloseButton\" onClick={this.props.onClose}>Назад</button>\r\n                </div>\r\n            </div>            \r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport '../ModalPages.css';\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nasync function ImportFromFolder (folderid)\r\n{\r\n    await fetch(process.env.REACT_APP_API_FOLDERS + `/${folderid}`,{\r\n        method: 'DELETE', // или 'PUT'\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n          }}).then(function(response) {\r\n            console.log(response.status)});\r\n}\r\nasync function ImportFromLibrary (elementid)\r\n{   \r\n    await fetch(process.env.REACT_APP_API_ELEMENTS + `/${elementid}`,{\r\n        method: 'DELETE', // или 'PUT'\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n          }}).then(function(response) {\r\n            console.log(response.status)});\r\n}\r\n\r\nexport default class ImportFolder extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        console.log(this.props);\r\n        this.state={importtype:null, body:null}\r\n        this.handleSubmit = this.handleSubmit.bind(this); \r\n        this.setTypeOfImport = this.setTypeOfImport.bind(this);\r\n        this.onPasswordChange = this.onPasswordChange.bind(this); \r\n               \r\n    }\r\n\r\n    setTypeOfImport(event) {\r\n        this.setState({importtype:event.target.value});\r\n        console.log(\"wow\");\r\n      }\r\n      onPasswordChange(event) {\r\n        this.setState({body:event.target.value});\r\n      }\r\n   \r\n    handleSubmit = async e => {\r\n        e.preventDefault();\r\n        // if(this.props.typeofcomponent===\"folder\")\r\n        // {\r\n        //   await DeleteFolder(this.props.component.Id);  \r\n        // }        \r\n        // else\r\n        // {\r\n        //     await DeleteElement(this.props.component.Id);\r\n        // }        \r\n        this.props.onClose();\r\n        // this.setState({isdeleted:true});\r\n      }\r\n\r\n    render(){\r\n        console.log(\"рендер удаления\");\r\n        if(this.state.isdeleted)\r\n        {\r\n            let bc=this.props.prevpages;\r\n            bc.length=bc.length-1;\r\n            this.setState({isdeleted: false});\r\n            console.log(\"Я в удалении\");\r\n            return <Redirect to={{pathname: bc[bc.length-1].path, state: { body: bc[bc.length-1].body, breadCrumbs:bc}            \r\n  }}/>\r\n        }\r\n        if(!this.props.show)\r\n        {\r\n            return null\r\n        }     \r\n        \r\n        console.log(this.props);\r\n        return(\r\n            <div className=\"ModalPage\" onClick={this.props.onClose}> \r\n            <div className=\"modal-content\" onClick={e=>e.stopPropagation()}>\r\n                <div className=\"modal-header\">\r\n                    <div className=\"modal-title\">Импорт в папку {this.props.folder.Name}</div>\r\n                </div>\r\n                <div className=\"modal-body\">   \r\n                <div className=\"formwithradio\">\r\n                <div className=\"radiobutton\" onChange={this.setTypeOfExport.bind(this)}>\r\n                <input type=\"radio\" value=\"fromfolder\" name=\"gender\"/> Из другой папки\r\n                </div>\r\n                <div className=\"radiobutton\" onChange={this.setTypeOfExport.bind(this)}>\r\n                <input type=\"radio\" value=\"fromlibrary\" name=\"gender\"/> Из общей библиотеки\r\n                </div>\r\n                </div>   \r\n                </div>\r\n                {this.state.importtype===\"fromlibrary\" ? <div className=\"modal-body\">\r\n                    <label className=\"formlabel\"> Задайте пароль:</label>\r\n                    <input className=\"forminput\" type=\"text\" value={this.state.body} onChange={this.onPasswordChange}/>\r\n                </div> :null}\r\n                {this.state.importtype===\"fromfolder\" ? <div className=\"modal-body\">\r\n                <label className=\"formlabel\">Расположение:</label>\r\n                <div className=\"place\">\r\n                <label>{this.props.folder.Name}</label> <button className=\"button arrow\"> &ensp;&rarr;&ensp; </button>\r\n                </div>\r\n                </div> :null}\r\n                <div className=\"modal-footer\">\r\n                <button className=\"button SaveButton\"  onClick={this.handleSubmit}>Экспортировать</button>\r\n                <button className=\"button CloseButton\" onClick={this.props.onClose}>Отменить</button>\r\n                </div>\r\n            </div>            \r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { useState } from 'react';\r\nimport AddElement from '../ModalForms/Folder/AddElement';\r\nimport AddFolder from '../ModalForms/Folder/AddFolder';\r\nimport DeleteComponent from '../ModalForms/Folder/DeleteFolder';\r\nimport EditFolder from '../ModalForms/Folder/EditFolder';\r\nimport ImportFolder from '../ModalForms/Folder/ImportFolder';\r\nimport ExportFolder from '../ModalForms/Folder/ExportFolder';\r\n\r\nimport './Toolbar.css';\r\n\r\nexport default function Toolbar(props) {\r\n\r\n    const [showAddElement, set_showAddElement] = useState(false);\r\n    const [showAddFolder, set_showAddFolder] = useState(false);\r\n    const [showDeleteComponent, set_showDeleteComponent] = useState(false);\r\n    const [showEditComponent, set_showEditComponent] = useState(false);\r\n    const [showExportComponent, set_showExportComponent] = useState(false);\r\n    const [showImportComponent, set_showImportComponent] = useState(false);\r\n    \r\n    \r\n    return(\r\n            <div className=\"ToolbarRelative\">\r\n            <div className=\"Toolbar\">\r\n            <button className=\"Toolbarbutton\" onClick={() => set_showAddElement(true)}>Добавить элемент</button>\r\n            <AddElement prevpages={props.previouspages} folder={props.parent} onClose={()=>set_showAddElement(false)} show={showAddElement}/>\r\n            <button className=\"Toolbarbutton\" onClick={() => set_showAddFolder(true)}>Добавить папку</button>\r\n            <AddFolder prevpages={props.previouspages} folder={props.parent} onClose={()=>set_showAddFolder(false)} show={showAddFolder}/>\r\n            <button className=\"Toolbarbutton\" onClick={() => set_showDeleteComponent(true)}>Удалить папку</button>\r\n            <DeleteComponent prevpages={props.previouspages} component={props.parent} onClose={()=>set_showDeleteComponent(false)} show={showDeleteComponent}/>\r\n            <button className=\"Toolbarbutton\" onClick={() => set_showEditComponent(true)}>Изменить папку</button>\r\n            <EditFolder prevpages={props.previouspages} folder={props.parent} onClose={()=>set_showEditComponent(false)} show={showEditComponent}/>\r\n            <button className=\"Toolbarbutton\" onClick={() => set_showExportComponent(true)}>Экспорт папки</button>\r\n            <ExportFolder prevpages={props.previouspages} folder={props.parent} onClose={()=>set_showExportComponent(false)} show={showExportComponent}/>\r\n            <button className=\"Toolbarbutton\" onClick={() => set_showImportComponent(true)}>Импорт в папку</button>\r\n            <ImportFolder prevpages={props.previouspages} folder={props.parent} onClose={()=>set_showImportComponent(false)} show={showImportComponent}/>\r\n            </div>\r\n            </div>\r\n    )    \r\n  \r\n}","import React, {Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport Toolbar from '../Toolbar/ToolbarFolder';\r\nimport logo from '../App/logo4x.png';\r\nimport './FolderPage.css';\r\n\r\n\r\nexport default class FolderPage extends Component{\r\n    constructor(props){\r\n        super(props); \r\n        this.state={folders:null, elements:null,  breadCrumbs:null};\r\n        this.handleClick = this.handleClick.bind(this)\r\n    }\r\n    handleClick(e) {\r\n        e.preventDefault();\r\n        this.props.history.push(\"/\");\r\n        localStorage.clear();    \r\n        window.location.reload();      \r\n      }    \r\n    \r\n    async GetFolders(parentid){\r\n        const breadCrumbs = this.props.location.state.breadCrumbs; \r\n        const index = breadCrumbs.map(function(e) { return e.body.Id; }).indexOf(this.props.location.state.body.Id);\r\n        // const index=breadCrumbs.indexOf(elem => elem.path==`/template/${this.props.match.params.id}/${this.props.match.params.name}`);\r\n        if(index===-1)\r\n        {\r\n        breadCrumbs.push({\r\n            title: this.props.location.state.body.Name,\r\n            path: `/projects`,\r\n            body:{\r\n                \"Name\":this.props.location.state.body.Name,\r\n                \"Id\":this.props.location.state.body.Id\r\n            }\r\n          });\r\n        }\r\n        else\r\n        {\r\n            breadCrumbs.length=index+1;\r\n        }\r\n        await fetch(process.env.REACT_APP_API_FOLDERS+`/${parentid}`) \r\n        .then(response=>{ return response.json()})\r\n        .then(data=>{\r\n            this.setState({folders:data, breadCrumbs:breadCrumbs});\r\n        }).catch(err => console.log(err));  \r\n        console.log(this.state);\r\n    }\r\n    GetElements(parentid){\r\n        fetch(process.env.REACT_APP_API_ELEMENTS+`/${parentid}`) \r\n        .then(response=>{ return response.json()})\r\n        .then(data=>{\r\n            this.setState({elements:data});\r\n        }).catch(err => console.log(err));\r\n    }\r\n\r\n    async componentDidMount(){\r\n        await this.GetFolders(this.props.location.state.body.Id);\r\n        await this.GetElements(this.props.location.state.body.Id);\r\n    }\r\n    async componentDidUpdate(prevProps){\r\n    console.log(\"Я в обновлении темплэйта\");\r\n      if (prevProps.location.state.body.Id !== this.props.location.state.body.Id)      \r\n      {\r\n        await this.GetFolders(this.props.location.state.body.Id);\r\n        await this.GetElements(this.props.location.state.body.Id);\r\n        // window.location.reload();\r\n      }\r\n  }\r\n\r\n    render(){\r\n        if ((!this.state.folders)||(!this.state.elements)) {\r\n            return <div />\r\n          }\r\n        const {folders, elements,breadCrumbs}=this.state;//сначала\r\n        return(\r\n            <div className=\"folderPage\">\r\n                <div className=\"Header\">\r\n                <div className=\"BreadCrumbs\">\r\n                {breadCrumbs.map(bc=>\r\n                        <div key={bc.title} className=\"gt\">      \r\n                            <Link className=\"BreadCrumb\" to={{pathname:bc.path, state:{body:bc.body, breadCrumbs:breadCrumbs}}} >\r\n                             {bc.title} \r\n                              </Link>\r\n                              &ensp;&rarr;&ensp;\r\n                        </div>)}\r\n                        </div> \r\n                        <div className=\"settingsinheader\">\r\n              {<button className=\"btn_logout\" onClick={this.handleClick}>настройки</button>}\r\n              {<button className=\"btn_logout\" onClick={this.handleClick}>выход</button>}\r\n              <img className=\"logo\" src={logo} alt=\"toolbaritem\"/>\r\n              </div>\r\n                        </div>   \r\n                                               \r\n            <div className=\"listview\">              \r\n                        {folders.map(folder=>\r\n                        <div key={folder.Id}>\r\n                            <Link className=\"folderinlist\" to={{pathname:`/projects`, state: {breadCrumbs:breadCrumbs, body:folder}}}>\r\n                             <div className=\"NameElementOfList\"> \r\n                             {folder.Name}\r\n                              </div>\r\n                              </Link>\r\n                        </div>)} \r\n                        {elements.map(el=>\r\n                        <div key={el.Id}>                            \r\n                            <Link className=\"elementinlist\" to={{pathname:`/element`, state: {breadCrumbs:breadCrumbs, body:el}}}>\r\n                            <img className=\"elementimage\" src={`data:image/jpeg;base64,${el.Image}`} />\r\n                            <div className=\"NameElementOfList\"> \r\n                             {el.Name}\r\n                              </div>\r\n                              </Link>\r\n                        </div>)}                          \r\n                        </div>\r\n                        <div className=\"foldercomponents\">\r\n                        <Toolbar previouspages={breadCrumbs} parent={this.props.location.state.body}></Toolbar>\r\n                        </div>\r\n                        </div>  \r\n        )\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport '../ModalPages.css';\r\n\r\n\r\nasync function SaveCharacteristics (arrayofcharacteristics, idel)\r\n{\r\n    const box =   {\r\n        \"characteristics\": arrayofcharacteristics,\r\n        \"elementid\": Number(idel)\r\n     }\r\n    await fetch(process.env.REACT_APP_API_CHARACTERISTICS,{\r\n        method: 'POST', // или 'PUT'\r\n        body: JSON.stringify(box), // данные могут быть 'строкой' или {объектом}!\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n          }}).then(function(response) {\r\n            console.log(response.status)});\r\n}\r\n\r\nexport default class AddCharacteristics extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={characteristics:null, currentchar:{name:'', value:''}}\r\n        this.ChangeName = this.ChangeName.bind(this);\r\n        this.ChangeValue = this.ChangeValue.bind(this);\r\n        this.CreateNew = this.CreateNew.bind(this);  \r\n        this.CreateNewName = this.CreateNewName.bind(this);\r\n        this.CreateNewValue = this.CreateNewValue.bind(this);   \r\n        this.Save = this.Save.bind(this);   \r\n    }  \r\n\r\n    async Save(e){\r\n        e.preventDefault();\r\n        let array=[];\r\n        if((this.state.currentchar.name!=='')||(this.state.currentchar.name!=='')){\r\n            if(this.state.characteristics===null)\r\n        {\r\n            array=[{name:this.state.currentchar.name, value:this.state.currentchar.value, id:0}]            \r\n        }  \r\n        else{\r\n            array=[...this.state.characteristics, {name:this.state.currentchar.name, value:this.state.currentchar.value, id:this.state.characteristics.length}];            \r\n        }               \r\n        }\r\n        else{\r\n            array=this.state.characteristics;\r\n        }\r\n        await SaveCharacteristics(array, this.props.element.Id);\r\n        this.props.onClose();        \r\n        window.location.reload();\r\n    }\r\n    CreateNewName(e){\r\n        var val = e.target.value;\r\n        this.setState(prevState => ({currentchar:{name:val, value:prevState.currentchar.value}}))\r\n    }\r\n    CreateNewValue(e){\r\n        var val = e.target.value;\r\n        this.setState(prevState => ({currentchar:{name:prevState.currentchar.name, value:val}}))\r\n    }\r\n    \r\n    ChangeName = param => e => {\r\n        this.setState(prevState => {\r\n            const newItems = [...prevState.characteristics];\r\n            newItems[param].name = e.target.value;\r\n            return {characteristics: newItems};\r\n        })\r\n    }\r\n    ChangeValue= param => e => {\r\n        this.setState(prevState => {\r\n            const newItems = [...prevState.characteristics];\r\n            newItems[param].value = e.target.value;\r\n            return {characteristics: newItems};\r\n        })\r\n    }\r\n    \r\n    CreateNew(e) {\r\n        e.preventDefault();  \r\n        if(this.state.characteristics===null)\r\n        {\r\n            this.setState(prevState => ({\r\n                characteristics: [{name:prevState.currentchar.name, value:prevState.currentchar.value, id:0}]\r\n              , currentchar:{name:'', value:''}}))\r\n        }  \r\n        else{\r\n            this.setState(prevState => ({\r\n                characteristics: [...prevState.characteristics, {name:prevState.currentchar.name, value:prevState.currentchar.value, id:prevState.characteristics.length}]\r\n              , currentchar:{name:'', value:''}}))\r\n        }        \r\n    }\r\n\r\n    render(){\r\n        if(!this.props.show)\r\n        {\r\n            return null\r\n        }\r\n        return(\r\n            <div className=\"ModalPage\" onClick={this.props.onClose}> \r\n            <div className=\"modal-content\" onClick={e=>e.stopPropagation()}>\r\n                <div className=\"modal-header\">\r\n                    <div className=\"modal-title\">Добавление характеристик</div>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                <label className=\"formlabel\"> Название:</label>\r\n                <input className=\"forminput\" type=\"text\" value={this.state.currentchar.name} onChange={this.CreateNewName}/>\r\n                <label className=\"formlabel\"> Значение:</label>\r\n                <input className=\"forminput\" type=\"text\" value={this.state.currentchar.value} onChange={this.CreateNewValue}/>  \r\n                {this.state.characteristics!==null? this.state.characteristics.map(char=>\r\n                        <div key={char.id}>\r\n                            <label className=\"formlabel\"> Название:</label>\r\n                            <input className=\"forminput\" type=\"text\" value={char.name} onChange={this.ChangeName(char.id)}/>\r\n                            <label className=\"formlabel\"> Значение:</label>\r\n                            <input className=\"forminput\" type=\"text\" value={char.value} onChange={this.ChangeValue(char.id)}/>  \r\n                        </div>):null} \r\n                </div>  \r\n                <button onClick={this.CreateNew}>Добавить еще одну</button>              \r\n                <div className=\"modal-footer\">\r\n                <button className=\"button SaveButton\" onClick={this.Save}>Сохранить</button>\r\n                <button className=\"button CloseButton\" onClick={this.props.onClose}>Назад</button>\r\n                </div>\r\n            </div>            \r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport '../ModalPages.css';\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nasync function AddTemplate (templateid, elementid)\r\n{   \r\n    // await fetch(process.env.REACT_APP_API_ELEMENTS + `/templatefolder?templateid=${templateid}&elementid=${elementid}`,{\r\n    //     method: 'GET', // или 'PUT'\r\n    //     headers: {\r\n    //         'Content-Type':'application/json'\r\n    //     }}).then(data => data.json());\r\n    console.log(templateid)\r\n}\r\n\r\nexport default class AddTemplateElement extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        console.log(this.props);\r\n        this.state={path:{Name:'', Id:null}, isneedupdate:true, folders:null, telements:null, breadCrumbs:null}\r\n        this.handleSubmit = this.handleSubmit.bind(this); \r\n        this.changedirectory = this.changedirectory.bind(this); \r\n        this.Selecttelement = this.Selecttelement.bind(this);   \r\n        this.CloseWindow = this.CloseWindow.bind(this);\r\n\r\n    }\r\n\r\n    CloseWindow(){\r\n        this.props.onClose();\r\n        this.setState({isneedupdate:true});\r\n    }\r\n\r\n    Selecttelement = param => async event =>{\r\n        this.setState({path:{Name:param.Name, Id:param.Id}})\r\n    }\r\n\r\n    handleSubmit = async e => {\r\n        e.preventDefault();\r\n        await AddTemplate(this.state.path.Id,this.props.element.Id)\r\n        this.props.onClose();\r\n      }\r\n    \r\n    async GetFoldersAndElements (idparent, breadCrumbs) {\r\n        let folders;\r\n        let elements;\r\n        await fetch(process.env.REACT_APP_API_TEMPLATEFOLDERS+`/${idparent}`) \r\n        .then(response=>{ return response.json()})\r\n        .then(data=>{\r\n            this.setState({folders:data});\r\n        }).catch(err => console.log(err));  \r\n        await fetch(process.env.REACT_APP_API_TEMPLATEELEMENTS+`/${idparent}`) \r\n        .then(response=>{ return response.json()})\r\n        .then(data=>{\r\n            this.setState({telements:data});\r\n        }).catch(err => console.log(err));  \r\n    }\r\n\r\n    changedirectory= param => async event => {\r\n        const breadCrumbs = this.state.breadCrumbs;         \r\n        const index = breadCrumbs.map(function(e) { return e.body.Id; }).indexOf(param.Id);\r\n        if(index===-1)\r\n        {\r\n        breadCrumbs.push({\r\n            title: param.Name,\r\n            path: `/templates`,\r\n            body:{\r\n                \"Name\":param.Name,\r\n                \"Id\":param.Id\r\n            }\r\n          });\r\n        }\r\n        else\r\n        {\r\n            breadCrumbs.length=index+1;\r\n        }  \r\n        this.setState({breadCrumbs:breadCrumbs})\r\n        await this.GetFoldersAndElements(param.Id,breadCrumbs)\r\n    };  \r\n    \r\n    async componentDidUpdate(prevProps){\r\n    if (this.props.show)\r\n    {\r\n    if (this.state.isneedupdate === true)\r\n    {\r\n        this.setState({path:{Name:'', Id:null}, folders:null, telements:null, breadCrumbs:[{\r\n            title: 'Библиотека',\r\n            path: '/templae',  \r\n            body: {\r\n                \"Name\":\"Библиотека\",\r\n                \"Id\":0\r\n            }            \r\n          }], isneedupdate:false})\r\n          await this.GetFoldersAndElements(0, null);\r\n    }\r\n    }\r\n  }\r\n\r\n    render(){\r\n        if(!this.props.show)\r\n        {\r\n            return null\r\n        }\r\n        if((!this.state.breadCrumbs)||(!this.state.folders)||(!this.state.telements)){\r\n            return null\r\n        }\r\n        console.log(this.props);\r\n        return(\r\n            <div className=\"ModalPage\" onClick={this.props.onClose}> \r\n            <div className=\"modal-content\" onClick={e=>e.stopPropagation()}>\r\n                <div className=\"modal-header\">\r\n                    <div className=\"modal-title\">Добавление класса</div>\r\n                </div>\r\n                <div className=\"modal-body\">   \r\n                <label className=\"formlabel\">Расположение класса:</label>\r\n                <div className=\"selectedpath\"><label>{this.state.path.Name}</label></div>\r\n                <div className=\"place\">        \r\n                <div className=\"parentwindowforselectingpath\">\r\n                    <div className=\"modalbreadcrumbs\">\r\n                {this.state.breadCrumbs.map(bc=>\r\n                        <div key={bc.title} className=\"gt\">\r\n                            <button className=\"BreadCrumb withoutframe\" onClick={this.changedirectory({Id:bc.body.Id, Name:bc.body.Name})}>\r\n                             {bc.title} \r\n                              </button>\r\n                              &ensp;&rarr;&ensp;\r\n                        </div>)}\r\n                        </div>\r\n                <div className=\"windowforselectingpath\">     \r\n                {this.state.folders.length>0?<div className=\"modalfolders\">        \r\n                        {this.state.folders.map(folder=>\r\n                        <div key={folder.Id} >\r\n                            <button className=\"modalbuttonfolder\" onClick={this.changedirectory({Id:folder.Id, Name:folder.Name})}>\r\n                             <div> \r\n                             {folder.Name}\r\n                              </div>\r\n                              </button>\r\n                        </div>)} \r\n                        </div>:null}     \r\n\r\n                {this.state.telements.length>0?<div className=\"modalfolders\">              \r\n                        {this.state.telements.map(el=>\r\n                        <div key={el.Id}>\r\n                            <button className=\"modalbuttonelement\" onClick={this.Selecttelement({Id:el.Id, Name:el.Name})}>\r\n                             <div> \r\n                             {el.Name}\r\n                              </div>\r\n                              </button>\r\n                        </div>)}                         \r\n                        </div>:null}\r\n                        </div>                              \r\n\r\n                </div>\r\n                \r\n                </div>\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                <button className=\"button SaveButton\"  onClick={this.handleSubmit}>Экспортировать</button>\r\n                <button className=\"button CloseButton\" onClick={this.CloseWindow}>Отменить</button>\r\n                </div>\r\n            </div>            \r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport '../ModalPages.css';\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nasync function DeleteElement (elementid)\r\n{   \r\n    await fetch(process.env.REACT_APP_API_ELEMENTS + `/${elementid}`,{\r\n        method: 'DELETE', // или 'PUT'\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n          }}).then(function(response) {\r\n            console.log(response.status)});\r\n}\r\n\r\nexport default class DeleteComponent extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        console.log(this.props);\r\n        this.state={isdeleted:null}\r\n        this.handleSubmit = this.handleSubmit.bind(this);        \r\n    }\r\n   \r\n    handleSubmit = async e => {\r\n        e.preventDefault();\r\n        await DeleteElement(this.props.element.Id);\r\n        this.props.onClose();\r\n        this.setState({isdeleted:true});\r\n      }\r\n\r\n    render(){\r\n        console.log(\"рендер удаления\");\r\n        if(this.state.isdeleted)\r\n        {\r\n            let bc=this.props.prevpages;\r\n            bc.length=bc.length-1;\r\n            this.setState({isdeleted: false});\r\n            console.log(\"Я в удалении\");\r\n            return <Redirect to={{pathname: bc[bc.length-1].path, state: { body: bc[bc.length-1].body, breadCrumbs:bc}            \r\n  }}/>\r\n        }\r\n        if(!this.props.show)\r\n        {\r\n            return null\r\n        }     \r\n        \r\n        console.log(this.props);\r\n        return(\r\n            <div className=\"ModalPage\" onClick={this.props.onClose}> \r\n            <div className=\"modal-content\" onClick={e=>e.stopPropagation()}>\r\n                <div className=\"modal-header\">\r\n                    <div className=\"modal-title\">Удаление элемента {this.props.element.Name}</div>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                <label className=\"formlabel\"> Вы действительно хотите удалить элемент {this.props.element.Name}?</label>\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                <button className=\"button SaveButton\"  onClick={this.handleSubmit}>Да</button>\r\n                <button className=\"button CloseButton\" onClick={this.props.onClose}>Отменить</button>\r\n                </div>\r\n            </div>            \r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"../ModalPages.css\";\r\n\r\nasync function Edit(arrayofcharacteristics, idel) {\r\n  const box = {\r\n    characteristics: arrayofcharacteristics,\r\n    elementid: Number(idel),\r\n  };\r\n  await fetch(process.env.REACT_APP_API_CHARACTERISTICS, {\r\n    method: \"POST\", // или 'PUT'\r\n    body: JSON.stringify(box), // данные могут быть 'строкой' или {объектом}!\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  }).then(function (response) {\r\n    console.log(response.status);\r\n  });\r\n}\r\n\r\nexport default class EditElement extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      templatecharacteristics: null,\r\n      characteristics: null,\r\n      typeofedit: \"element\",\r\n      relations: null,\r\n      element: this.props.element,\r\n      isneedupdate: true,\r\n    };\r\n    this.onChange = this.onChange.bind(this);\r\n    this.Save = this.Save.bind(this);\r\n    this.handleImageChange = this.handleImageChange.bind(this);\r\n  }\r\n  //Для характеристик: изменить название характеристики\r\n  ChangeName = (param) => (e) => {\r\n    this.setState((prevState) => {\r\n      const newItems = [...prevState.characteristics];\r\n      newItems[param].name = e.target.value;\r\n      return { characteristics: newItems };\r\n    });\r\n  };\r\n\r\n  ChangeShow = (param) => (e) => {\r\n    this.setState({ typeofedit: param });\r\n  };\r\n\r\n  //Для характеристик: удалить характеристику\r\n  DeleteChar = (param) => (e) => {\r\n    this.setState((prevState) => ({\r\n      characteristics: prevState.characteristics.filter(\r\n        (char) => char.Id !== param\r\n      ),\r\n    }));\r\n  };\r\n  //Для классов: удалить класс\r\n  DeleteClass = (param) => (e) => {\r\n    this.setState((prevState) => ({\r\n      templatecharacteristics: prevState.templatecharacteristics.filter(\r\n        (char) => char.Id !== param\r\n      ),\r\n    }));\r\n  };\r\n  //Для характеристик: изменить значение характеристики\r\n  ChangeValue = (param) => (e) => {\r\n    this.setState((prevState) => {\r\n      const newItems = [...prevState.characteristics];\r\n      newItems[param].value = e.target.value;\r\n      return { characteristics: newItems };\r\n    });\r\n  };\r\n\r\n  //Для свзяли: удалить связь\r\n  DeleteRelation = (param) => (e) => {\r\n    this.setState((prevState) => ({\r\n      relations: prevState.relations.filter((rel) => rel.Id !== param),\r\n    }));\r\n  };\r\n  //Для элемента: изменить имя\r\n  onChange(e) {\r\n    var val = e.target.value;\r\n    this.setState({ name: val });\r\n  }\r\n  //Для элемента: изменить фото\r\n  async Save(event) {\r\n    event.preventDefault();\r\n    // await SaveElement(this.state.name, this.props.folder.Id);\r\n    // if (this.state.file != null) await SaveImage(this.state.file);\r\n    this.props.onClose();\r\n    window.location.reload();\r\n  }\r\n\r\n  handleImageChange(e) {\r\n    e.preventDefault();\r\n    if (e.target.files.length > 0) {\r\n      let form = new FormData();\r\n      for (var index = 0; index < e.target.files.length; index++) {\r\n        var element = e.target.files[index];\r\n        form.append(\"image\", element);\r\n      }\r\n      form.append(\"parentfolderid\", this.props.folder.Id);\r\n      this.setState({\r\n        file: form,\r\n        filepath: URL.createObjectURL(e.target.files[0]),\r\n      });\r\n    } else if (this.state.file != null) {\r\n      this.setState({ file: null, filepath: null });\r\n    }\r\n  }\r\n  async GetFoldersElementsRelations(parentid) {\r\n    let tchars;\r\n    let chars;\r\n    let relations;\r\n    await fetch(\r\n      process.env.REACT_APP_API_CHARACTERISTICS + `?idelement=${parentid}`\r\n    )\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n          tchars=data;\r\n      })\r\n      .catch((err) => console.log(err));\r\n    await fetch(process.env.REACT_APP_API_CHARACTERISTICS + `/${parentid}`)\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        chars=data;\r\n      })\r\n      .catch((err) => console.log(err));\r\n    await fetch(process.env.REACT_APP_API_RELATIONS + `/${parentid}`)\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        relations=data;\r\n      })\r\n      .catch((err) => console.log(err));\r\n    this.setState({\r\n      templatecharacteristics: tchars,\r\n      characteristics: chars,\r\n      relations: relations,\r\n    });\r\n  }\r\n\r\n  async componentDidUpdate(prevProps) {\r\n    if (this.props.show) {\r\n      if (this.state.isneedupdate === true) {\r\n        this.setState({\r\n            templatecharacteristics: null,\r\n            characteristics: null,\r\n            typeofedit: \"element\",\r\n            relations: null,\r\n            element: this.props.element,\r\n            isneedupdate: false,\r\n          });\r\n        await this.GetFoldersElementsRelations(this.props.element.Id);\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.show) {\r\n      return null;\r\n    }\r\n    if ((!this.state.characteristics)||(!this.state.templatecharacteristics)||(!this.state.relations)) {\r\n        return null;\r\n      }\r\n\r\n    const array = this.state.templatecharacteristics.map(function (item) {\r\n      return { idparent: item.IdParent, name: item.NameParent };\r\n    });\r\n    var setObj = new Set(); // create key value pair from array of array\r\n\r\n    var groups = array.reduce((acc, item) => {\r\n      if (!setObj.has(item.idparent)) {\r\n        setObj.add(item.idparent, item);\r\n        acc.push(item);\r\n      }\r\n      return acc;\r\n    }, []);\r\n    return (\r\n      <div className=\"ModalPage\" onClick={this.props.onClose}>\r\n        <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n          <div className=\"modal-header\">\r\n            <div className=\"modal-title\">Редактирование элемента</div>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            {this.state.typeofedit === \"element\" ? (\r\n              <div className=\"ShowMenu\">\r\n                <button className=\"button current\">элемент</button>\r\n                <button\r\n                  className=\"button\"\r\n                  onClick={this.ChangeShow(\"characteristics\")}\r\n                >\r\n                  харакеристики\r\n                </button>\r\n                <button\r\n                  className=\"button\"\r\n                  onClick={this.ChangeShow(\"relations\")}\r\n                >\r\n                  связи\r\n                </button>\r\n              </div>\r\n            ) : null}\r\n            {this.state.typeofedit === \"characteristics\" ? (\r\n              <div className=\"ShowMenu\">\r\n                <button className=\"button\" onClick={this.ChangeShow(\"element\")}>\r\n                  элемент\r\n                </button>\r\n                <button className=\"button current\">харакеристики</button>\r\n                <button\r\n                  className=\"button\"\r\n                  onClick={this.ChangeShow(\"relations\")}\r\n                >\r\n                  связи\r\n                </button>\r\n              </div>\r\n            ) : null}\r\n            {this.state.typeofedit === \"relations\" ? (\r\n              <div className=\"ShowMenu\">\r\n                <button className=\"button\" onClick={this.ChangeShow(\"element\")}>\r\n                  элемент\r\n                </button>\r\n                <button\r\n                  className=\"button\"\r\n                  onClick={this.ChangeShow(\"characteristics\")}\r\n                >\r\n                  харакеристики\r\n                </button>\r\n                <button className=\"button current\">связи</button>\r\n              </div>\r\n            ) : null}\r\n\r\n            {this.state.typeofedit === \"element\" ? (\r\n              <div>\r\n                <label className=\"formlabel\"> Название:</label>\r\n                <input\r\n                  className=\"forminput\"\r\n                  type=\"text\"\r\n                  value={this.state.name}\r\n                  onChange={this.onChange}\r\n                />\r\n                <div className=\"modal-image\">\r\n                  <label className=\"formlabel\">Изображение:</label>\r\n                  <input\r\n                    type=\"file\"\r\n                    onChange={(e) => this.handleImageChange(e)}\r\n                  />\r\n                  {this.state.filepath === null ? (\r\n                    <div />\r\n                  ) : (\r\n                    <img className=\"downloadimage\" src={this.state.filepath} />\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ) : null}\r\n            {this.state.typeofedit === \"characteristics\" ? (\r\n              <div>\r\n                {groups.map((group) => (\r\n                  <div key={group.idparent} className=\"ParentElement\">\r\n                    <button className=\"button arrow\">&otimes;</button>{group.name}\r\n                    {/* {templatecharacteristics\r\n                    .filter((number) => number.IdParent === group.idparent)\r\n                    .map((number) => (\r\n                      <div\r\n                        key={number.IdCharacter}\r\n                        className=\"ParentCharacteristic\"\r\n                      >\r\n                        {number.NameCharacter}: {number.ValueCharacter}\r\n                      </div>\r\n                    ))} */}\r\n                  </div>\r\n                ))}\r\n\r\n                {this.state.characteristics.map((folder) => (\r\n                  <div key={folder.Id}>\r\n                    <button className=\"button arrow\">&otimes;</button> {folder.Name}: {folder.Value}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : null}\r\n            {this.state.typeofedit === \"relations\" ? (\r\n              <div>\r\n                {this.state.relations.map((folder) => (\r\n                  <div key={folder.IdFirst}>\r\n                      <button className=\"button arrow\">&otimes;</button>\r\n                    {folder.NameFirstElement}&ensp;&rarr;&ensp;\r\n                    {folder.NameSecondElement}: {folder.Rel1to2}\r\n                    {folder.Rel2to1 !== null ? (\r\n                      <div>\r\n                        {folder.NameSecondElement}&ensp;&rarr;&ensp;\r\n                        {folder.NameFirstElement}: {folder.Rel2to1}\r\n                      </div>\r\n                    ) : null}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button className=\"button SaveButton\" onClick={this.Save}>\r\n              Сохранить изменения\r\n            </button>\r\n            <button className=\"button CloseButton\" onClick={this.props.onClose}>\r\n              Назад\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport '../ModalPages.css';\r\nasync function SaveElement (name, pfid)\r\n{ \r\n    const element =   {\r\n        \"Name\": name,\r\n        \"ParentfolderId\": Number(pfid)\r\n     }\r\n    await fetch(process.env.REACT_APP_API_ELEMENTS,{\r\n        method: 'POST', // или 'PUT'\r\n        body: JSON.stringify(element), // данные могут быть 'строкой' или {объектом}!\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n          }}).then(function(response) {\r\n            console.log(response.status)});\r\n    }\r\n    async function SaveImage (elwithimg){\r\n        await fetch(process.env.REACT_APP_API_ELEMENTS+\"/image\",{\r\n            method: 'POST', // или 'PUT'\r\n            body: elwithimg, // данные могут быть 'строкой' или {объектом}!\r\n            headers: {\r\n                'Accept': 'application/json'\r\n              }}).then(function(response) {\r\n                console.log(response.status)});\r\n    }\r\n\r\nexport default class AddElement extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={name:\"\", filepath:null, file: null}\r\n        this.onChange = this.onChange.bind(this);\r\n        this.sendImage = this.sendImage.bind(this); \r\n        this.handleImageChange = this.handleImageChange.bind(this);     \r\n    }   \r\n    onChange(e) {\r\n        var val = e.target.value;\r\n        this.setState({name: val});\r\n    }\r\n\r\n    async sendImage(event) {\r\n        event.preventDefault();\r\n        await SaveElement(this.state.name, this.props.folder.Id);\r\n        if (this.state.file!=null)\r\n        await SaveImage(this.state.file);\r\n        this.props.onClose();        \r\n        window.location.reload();\r\n    };\r\n    \r\n    handleImageChange(e) {\r\n        e.preventDefault();\r\n        if(e.target.files.length>0)\r\n        {\r\n        let form = new FormData();\r\n        for (var index = 0; index < e.target.files.length; index++) {\r\n            var element = e.target.files[index];\r\n            form.append('image', element);\r\n        }\r\n        form.append('parentfolderid', this.props.folder.Id);\r\n        this.setState({ file: form, filepath: URL.createObjectURL(e.target.files[0])});\r\n    }\r\n    else if (this.state.file!=null)\r\n    {\r\n        this.setState({ file: null, filepath: null})\r\n    }\r\n    };  \r\n\r\n    render(){\r\n        if(!this.props.show)\r\n        {\r\n            return null\r\n        }\r\n        return(\r\n            <div className=\"ModalPage\" onClick={this.props.onClose}> \r\n            <div className=\"modal-content\" onClick={e=>e.stopPropagation()}>\r\n                <div className=\"modal-header\">\r\n                    <div className=\"modal-title\">Создание элемента</div>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                <label className=\"formlabel\"> Название:</label>\r\n                <input className=\"forminput\" type=\"text\" value={this.state.name} onChange={this.onChange}/>\r\n                <label className=\"formlabel\">Расположение:</label>\r\n                <div className=\"place\">\r\n                <label>{this.props.folder.Name}</label> <button className=\"button arrow\"> -{'>'} </button>\r\n                </div>\r\n                <div className=\"modal-image\">\r\n                <label className=\"formlabel\">Фото:</label>                \r\n                <input type=\"file\" onChange={(e)=>this.handleImageChange(e)}/>  \r\n                {this.state.filepath===null ? <div/> :<img className=\"downloadimage\" src={this.state.filepath}/>}             \r\n                \r\n                </div>\r\n                </div>                \r\n                <div className=\"modal-footer\">\r\n                <button className=\"button SaveButton\" onClick={this.sendImage}>Сохранить</button>\r\n                <button className=\"button CloseButton\" onClick={this.props.onClose}>Назад</button>\r\n                </div>\r\n            </div>            \r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"../ModalPages.css\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nasync function AddRelationTwoLines(\r\n  firstelement,\r\n  secondelement,\r\n  firsttosec,\r\n  sectofirst\r\n) {\r\n  const box = {\r\n    Firstelementid: Number(firstelement),\r\n    Secondelementid: Number(secondelement),\r\n    Rel1to2: firsttosec,\r\n    Rel2to1: sectofirst,\r\n  };\r\n  await fetch(process.env.REACT_APP_API_RELATIONS + `/relation2`, {\r\n    method: \"POST\", // или 'PUT'\r\n    body: JSON.stringify(box), // данные могут быть 'строкой' или {объектом}!\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  }).then(function (response) {\r\n    console.log(response.status);\r\n  });\r\n}\r\n\r\nasync function AddRelationOneLine(firstelement, secondelement, firsttosec) {\r\n  const box = {\r\n    Firstelementid: Number(firstelement),\r\n    Secondelementid: Number(secondelement),\r\n    Rel1to2: firsttosec,\r\n    Rel2to1: null,\r\n  };\r\n  await fetch(process.env.REACT_APP_API_RELATIONS + `/relation1`, {\r\n    method: \"POST\", // или 'PUT'\r\n    body: JSON.stringify(box), // данные могут быть 'строкой' или {объектом}!\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  }).then(function (response) {\r\n    console.log(response.status);\r\n  });\r\n}\r\n\r\nexport default class AddRelation extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(this.props);\r\n    this.state = {\r\n      path: { Name: \"\", Id: null },\r\n      typeofrel: \"Односторонняя\",\r\n      firstrel: null,\r\n      secondrel: null,\r\n      defaultdirection: true,\r\n      isneedupdate: true,\r\n      folders: null,\r\n      elements: null,\r\n      breadCrumbs: this.props.prevpages.slice(0, -1),\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.changedirectory = this.changedirectory.bind(this);\r\n    this.Selecttelement = this.Selecttelement.bind(this);\r\n    this.CloseWindow = this.CloseWindow.bind(this);\r\n    this.changedirection = this.changedirection.bind(this);\r\n    this.changeonelinerel = this.changeonelinerel.bind(this);\r\n    this.changesecondlinerel = this.changesecondlinerel.bind(this);\r\n    this.changetypeofrel = this.changetypeofrel.bind(this);\r\n  }\r\n\r\n  changetypeofrel(e) {\r\n    this.state.typeofrel === \"Односторонняя\"\r\n      ? this.setState({ typeofrel: \"Двусторонняя\" })\r\n      : this.setState({ typeofrel: \"Односторонняя\" });\r\n  }\r\n\r\n  changeonelinerel(e) {\r\n    this.setState({ firstrel: e.target.value });\r\n  }\r\n\r\n  changesecondlinerel(e) {\r\n    this.setState({ secondrel: e.target.value });\r\n  }\r\n\r\n  changedirection(e) {\r\n    this.state.defaultdirection\r\n      ? this.setState({ defaultdirection: false })\r\n      : this.setState({ defaultdirection: true });\r\n  }\r\n\r\n  CloseWindow() {\r\n    this.props.onClose();\r\n    this.setState({ isneedupdate: true });\r\n  }\r\n\r\n  Selecttelement = (param) => async (event) => {\r\n    this.setState({ path: { Name: param.Name, Id: param.Id } });\r\n  };\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (this.state.typeofrel === \"Односторонняя\") {\r\n      if (this.state.defaultdirection) {\r\n        await AddRelationOneLine(\r\n          this.props.element.Id,\r\n          this.state.path.Id,\r\n          this.state.firstrel\r\n        );\r\n      } else {\r\n        await AddRelationOneLine(\r\n          this.state.path.Id,\r\n          this.props.element.Id,\r\n          this.state.firstrel\r\n        );\r\n      }\r\n    } else {\r\n      if (this.state.defaultdirection) {\r\n        await AddRelationTwoLines(\r\n          this.props.element.Id,\r\n          this.state.path.Id,\r\n          this.state.firstrel,\r\n          this.state.secondrel\r\n        );\r\n      } else {\r\n        await AddRelationTwoLines(\r\n          this.state.path.Id,\r\n          this.props.element.Id,\r\n          this.state.firstrel,\r\n          this.state.secondrel\r\n        );\r\n      }\r\n    }\r\n    window.location.reload();    \r\n    this.props.onClose();\r\n  };\r\n\r\n  async GetFoldersAndElements(idparent) {\r\n    let folders;\r\n    let elements;\r\n    await fetch(process.env.REACT_APP_API_FOLDERS + `/${idparent}`)\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        folders = data;\r\n      })\r\n      .catch((err) => console.log(err));\r\n    await fetch(process.env.REACT_APP_API_ELEMENTS + `/${idparent}`)\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        elements = data;\r\n      })\r\n      .catch((err) => console.log(err));\r\n    this.setState({ folders: folders, elements: elements });\r\n  }\r\n\r\n  changedirectory = (param) => async (event) => {\r\n    const breadCrumbs = this.state.breadCrumbs;\r\n    const index = breadCrumbs\r\n      .map(function (e) {\r\n        return e.body.Id;\r\n      })\r\n      .indexOf(param.Id);\r\n    if (index === -1) {\r\n      breadCrumbs.push({\r\n        title: param.Name,\r\n        path: `/templates`,\r\n        body: {\r\n          Name: param.Name,\r\n          Id: param.Id,\r\n        },\r\n      });\r\n    } else {\r\n      breadCrumbs.length = index + 1;\r\n    }\r\n    this.setState({ breadCrumbs: breadCrumbs });\r\n    await this.GetFoldersAndElements(param.Id, breadCrumbs);\r\n  };\r\n\r\n  async componentDidUpdate(prevProps) {\r\n    if (this.props.show) {\r\n      if (this.state.isneedupdate === true) {\r\n        this.setState({\r\n          path: { Name: \"\", Id: null },\r\n          defaultdirection: true,\r\n          isneedupdate: false,\r\n          folders: null,\r\n          elements: null,\r\n          breadCrumbs: this.props.prevpages.slice(0, -1),\r\n        });\r\n        await this.GetFoldersAndElements(\r\n          this.state.breadCrumbs[this.state.breadCrumbs.length - 1].body.Id\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.show) {\r\n      return null;\r\n    }\r\n    if (\r\n      !this.state.breadCrumbs ||\r\n      !this.state.folders ||\r\n      !this.state.elements\r\n    ) {\r\n      return null;\r\n    }\r\n    console.log(this.props);\r\n    return (\r\n      <div className=\"ModalPage\" onClick={this.props.onClose}>\r\n        <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n          <div className=\"modal-header\">\r\n            <div className=\"modal-title\">Добавление связи</div>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            <label className=\"formlabel\">Связать элемент с:</label>\r\n            <div className=\"selectedpath\">\r\n              <label>\r\n                {this.state.path.Name !== \"\" ? (\r\n                  <div>{this.state.path.Name}</div>\r\n                ) : (\r\n                  <div>Элемент не выбран</div>\r\n                )}\r\n              </label>\r\n            </div>\r\n            <div className=\"place\">\r\n              <div className=\"parentwindowforselectingpath\">\r\n                <div className=\"modalbreadcrumbs\">\r\n                  {this.state.breadCrumbs.slice(1).map((bc) => (\r\n                    <div key={bc.title} className=\"gt\">\r\n                      <button\r\n                        className=\"BreadCrumb withoutframe\"\r\n                        onClick={this.changedirectory({\r\n                          Id: bc.body.Id,\r\n                          Name: bc.body.Name,\r\n                        })}\r\n                      >\r\n                        {bc.title}\r\n                      </button>\r\n                      &ensp;&rarr;&ensp;\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <div className=\"windowforselectingpath\">\r\n                  {this.state.folders.length > 0 ? (\r\n                    <div className=\"modalfolders\">\r\n                      {this.state.folders.map((folder) => (\r\n                        <div key={folder.Id}>\r\n                          <button\r\n                            className=\"modalbuttonfolder\"\r\n                            onClick={this.changedirectory({\r\n                              Id: folder.Id,\r\n                              Name: folder.Name,\r\n                            })}\r\n                          >\r\n                            <div>{folder.Name}</div>\r\n                          </button>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  ) : null}\r\n\r\n                  {this.state.elements.length > 0 ? (\r\n                    <div className=\"modalfolders\">\r\n                      {this.state.elements.map((el) => (\r\n                        <div key={el.Id}>\r\n                          <button\r\n                            className=\"modalbuttonelement\"\r\n                            onClick={this.Selecttelement({\r\n                              Id: el.Id,\r\n                              Name: el.Name,\r\n                            })}\r\n                          >\r\n                            <div>{el.Name}</div>\r\n                          </button>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  ) : null}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {this.state.path.Name !== \"\" ? (\r\n              <div className=\"Relations\">\r\n                {this.state.defaultdirection ? (\r\n                  <label className=\"formlabel\">\r\n                    Связь {this.props.element.Name} с {this.state.path.Name}\r\n                  </label>\r\n                ) : (\r\n                  <label className=\"formlabel\">\r\n                    Связь {this.state.path.Name} с {this.props.element.Name}\r\n                  </label>\r\n                )}\r\n                <button className=\"button arrow\" onClick={this.changedirection}>\r\n                  &harr;\r\n                </button>\r\n                <input\r\n                  className=\"forminput\"\r\n                  type=\"text\"\r\n                  value={this.state.firstrel}\r\n                  onChange={this.changeonelinerel}\r\n                />\r\n                {this.state.typeofrel === \"Двусторонняя\" ? (\r\n                  <div>\r\n                    {this.state.defaultdirection ? (\r\n                      <label className=\"formlabel\">\r\n                        Связь {this.state.path.Name} с {this.props.element.Name}\r\n                      </label>\r\n                    ) : (\r\n                      <label className=\"formlabel\">\r\n                        Связь {this.props.element.Name} с {this.state.path.Name}\r\n                      </label>\r\n                    )}\r\n                    <input\r\n                      className=\"forminput\"\r\n                      type=\"text\"\r\n                      value={this.state.secondrel}\r\n                      onChange={this.changesecondlinerel}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n                <div className=\"selectedpath\">\r\n                  <label className=\"formlabel\">\r\n                    Тип связи: {this.state.typeofrel}\r\n                  </label>\r\n                  <button\r\n                    className=\"button arrow\"\r\n                    onClick={this.changetypeofrel}\r\n                  >\r\n                    Изменить\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button className=\"button SaveButton\" onClick={this.handleSubmit}>\r\n              Экспортировать\r\n            </button>\r\n            <button className=\"button CloseButton\" onClick={this.CloseWindow}>\r\n              Отменить\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { useState } from 'react';\r\nimport AddCharacteristics from '../ModalForms/Element/AddCharacteristics';\r\nimport AddTemplateElement from '../ModalForms/Element/AddTemplateElement';\r\nimport DeleteElement from '../ModalForms/Element/DeleteElement';\r\nimport EditElement from '../ModalForms/Element/EditElement';\r\nimport ExportElement from '../ModalForms/Element/ExportElement';\r\nimport AddRelation from '../ModalForms/Element/AddRelation';\r\n\r\n\r\nimport './Toolbar.css';\r\n\r\nexport default function Toolbar(props) {\r\n\r\n    const [showAddElement, set_showAddElement] = useState(false);\r\n    const [showAddFolder, set_showAddFolder] = useState(false);\r\n    const [showDeleteComponent, set_showDeleteComponent] = useState(false);\r\n    const [showExportComponent, set_showExportComponent] = useState(false);\r\n    const [showEditComponent, set_showEditComponent] = useState(false);\r\n    const [showRelation, set_showRelation] = useState(false);\r\n    \r\n        return(\r\n            <div className=\"ToolbarRelative\">\r\n            <div className=\"Toolbar\">\r\n            <button className=\"Toolbarbutton\" onClick={() => set_showAddElement(true)}>Добавить характеристики</button>\r\n            <AddCharacteristics element={props.parent} prevpages={props.previouspages} onClose={()=>set_showAddElement(false)} show={showAddElement}/>\r\n            <button className=\"Toolbarbutton\" onClick={() => set_showAddFolder(true)}>Добавить класс</button>            \r\n            <AddTemplateElement element={props.parent} prevpages={props.previouspages} onClose={()=>set_showAddFolder(false)} show={showAddFolder}/>\r\n            <button className=\"Toolbarbutton\" onClick={() => set_showRelation(true)}>Добавить связь</button>\r\n            <AddRelation element={props.parent} prevpages={props.previouspages} onClose={()=>set_showRelation(false)} show={showRelation}/>\r\n            <button className=\"Toolbarbutton\" onClick={() => set_showDeleteComponent(true)}>Удалить элемент</button>\r\n            <DeleteElement prevpages={props.previouspages} element={props.parent} onClose={()=>set_showDeleteComponent(false)} show={showDeleteComponent}/>\r\n            <button className=\"Toolbarbutton\" onClick={() => set_showEditComponent(true)}>Изменить элемент</button>\r\n            <EditElement element={props.parent} prevpages={props.previouspages} onClose={()=>set_showEditComponent(false)} show={showEditComponent}/>\r\n            <button className=\"Toolbarbutton\" onClick={() => set_showExportComponent(true)}>Экспорт элемента</button>\r\n            <ExportElement element={props.parent} prevpages={props.previouspages} onClose={()=>set_showExportComponent(false)} show={showExportComponent}/>\r\n            </div>\r\n            </div>\r\n          )\r\n  \r\n}","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Toolbar from \"../Toolbar/ToolbarElement\";\r\nimport \"./ElementPage.css\";\r\nimport logo from \"../App/logo4x.png\";\r\n\r\nexport default class ElementPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      templatecharacteristics: null,\r\n      breadCrumbs: null,\r\n      characteristics: null,\r\n      showcharacreristics: true,\r\n      relations: null,\r\n    };\r\n  }\r\n\r\n  ChangeShow = (param) => (e) => {\r\n    this.setState({ showcharacreristics: param });\r\n  };\r\n\r\n  async GetTemplateCharacteristics(parentid) {\r\n    const breadCrumbs = this.props.location.state.breadCrumbs;\r\n    const index = breadCrumbs\r\n      .map(function (e) {\r\n        return e.body.Id;\r\n      })\r\n      .indexOf(this.props.location.state.body.Id);\r\n    // const index=breadCrumbs.indexOf(elem => elem.path==`/template/${this.props.match.params.id}/${this.props.match.params.name}`);\r\n    if (index === -1) {\r\n      breadCrumbs.push({\r\n        title: this.props.location.state.body.Name,\r\n        path: `/element`,\r\n        body: {\r\n          Name: this.props.location.state.body.Name,\r\n          Id: this.props.location.state.body.Id,\r\n        },\r\n      });\r\n    } else {\r\n      breadCrumbs.length = index + 1;\r\n    }\r\n    console.log(\r\n      process.env.REACT_APP_API_CHARACTERISTICS + `?idelement=${parentid}`\r\n    );\r\n    await fetch(\r\n      process.env.REACT_APP_API_CHARACTERISTICS + `?idelement=${parentid}`\r\n    )\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        this.setState({\r\n          templatecharacteristics: data,\r\n          breadCrumbs: breadCrumbs,\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n    console.log(this.state);\r\n  }\r\n  async GetCharacteristics(parentid) {\r\n    await fetch(process.env.REACT_APP_API_CHARACTERISTICS + `/${parentid}`)\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        this.setState({ characteristics: data });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  async GetRelations(parentid) {\r\n    await fetch(process.env.REACT_APP_API_RELATIONS + `/${parentid}`)\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        this.setState({ relations: data });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.GetTemplateCharacteristics(this.props.location.state.body.Id);\r\n    await this.GetCharacteristics(this.props.location.state.body.Id);\r\n    await this.GetRelations(this.props.location.state.body.Id);\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.templatecharacteristics || !this.state.characteristics) {\r\n      return <div />;\r\n    }\r\n    const {\r\n      templatecharacteristics,\r\n      characteristics,\r\n      breadCrumbs,\r\n      showcharacreristics,\r\n      relations,\r\n    } = this.state; //сначала\r\n    const array = templatecharacteristics.map(function (item) {\r\n      return { idparent: item.IdParent, name: item.NameParent };\r\n    });\r\n    var setObj = new Set(); // create key value pair from array of array\r\n\r\n    var groups = array.reduce((acc, item) => {\r\n      if (!setObj.has(item.idparent)) {\r\n        setObj.add(item.idparent, item);\r\n        acc.push(item);\r\n      }\r\n      return acc;\r\n    }, []); //converting back to array from mapobject\r\n    return (\r\n      <div>\r\n        <div className=\"Header\">\r\n          <div className=\"BreadCrumbs\">\r\n            {breadCrumbs.map((bc) => (\r\n              <div key={bc.title} className=\"gt\">\r\n                <Link\r\n                  className=\"BreadCrumb\"\r\n                  to={{\r\n                    pathname: bc.path,\r\n                    state: { body: bc.body, breadCrumbs: breadCrumbs },\r\n                  }}\r\n                >\r\n                  {bc.title}\r\n                </Link>\r\n                &ensp;&rarr;&ensp;\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div className=\"settingsinheader\">\r\n            {\r\n              <button className=\"btn_logout\" onClick={this.handleClick}>\r\n                настройки\r\n              </button>\r\n            }\r\n            {\r\n              <button className=\"btn_logout\" onClick={this.handleClick}>\r\n                выход\r\n              </button>\r\n            }\r\n            <img className=\"logo\" src={logo} alt=\"toolbaritem\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"ElementBody\">\r\n          <div className=\"Characteristics\">\r\n            {showcharacreristics ? (\r\n              <div className=\"ShowMenu\">\r\n                <button className=\"button current\">характеристики</button>\r\n                <button className=\"button\" onClick={this.ChangeShow(false)}>\r\n                  связи\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <div className=\"ShowMenu\">\r\n                <button className=\"button\" onClick={this.ChangeShow(true)}>\r\n                  характеристики\r\n                </button>\r\n                <button className=\"button current\">связи</button>\r\n              </div>\r\n            )}\r\n            {showcharacreristics ? (\r\n              <div>\r\n                {groups.map((group) => (\r\n                  <div key={group.idparent} className=\"ParentElement\">\r\n                    {group.name}\r\n                    {templatecharacteristics\r\n                      .filter((number) => number.IdParent === group.idparent)\r\n                      .map((number) => (\r\n                        <div\r\n                          key={number.IdCharacter}\r\n                          className=\"ParentCharacteristic\"\r\n                        >\r\n                          {number.NameCharacter}: {number.ValueCharacter}\r\n                        </div>\r\n                      ))}\r\n                  </div>\r\n                ))}\r\n\r\n                {characteristics.map((folder) => (\r\n                  <div key={folder.Id}>\r\n                    {folder.Name}: {folder.Value}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <div>\r\n                {relations.map((folder) => (\r\n                  <div key={folder.IdFirst}>\r\n                    {folder.NameFirstElement}&ensp;&rarr;&ensp;\r\n                    {folder.NameSecondElement}: {folder.Rel1to2}\r\n                    {folder.Rel2to1 !== null ? (\r\n                      <div>\r\n                        {folder.NameSecondElement}&ensp;&rarr;&ensp;\r\n                        {folder.NameFirstElement}: {folder.Rel2to1}\r\n                      </div>\r\n                    ) : null}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <img\r\n            className=\"ImageElement\"\r\n            src={`data:image/jpeg;base64,${this.props.location.state.body.Image}`}\r\n          />\r\n        </div>\r\n        <Toolbar\r\n          previouspages={breadCrumbs}\r\n          parent={this.props.location.state.body}\r\n        ></Toolbar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport '../ModalPages.css';\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nasync function DeleteFolder (folderid)\r\n{\r\n    await fetch(process.env.REACT_APP_API_FOLDERS + `/${folderid}`,{\r\n        method: 'DELETE', // или 'PUT'\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n          }}).then(function(response) {\r\n            console.log(response.status)});\r\n}\r\nasync function DeleteElement (elementid)\r\n{   \r\n    await fetch(process.env.REACT_APP_API_ELEMENTS + `/${elementid}`,{\r\n        method: 'DELETE', // или 'PUT'\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n          }}).then(function(response) {\r\n            console.log(response.status)});\r\n}\r\n\r\nexport default class DeleteComponent extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        console.log(this.props);\r\n        this.state={isdeleted:null}\r\n        this.handleSubmit = this.handleSubmit.bind(this);        \r\n    }\r\n   \r\n    handleSubmit = async e => {\r\n        e.preventDefault();\r\n        if(this.props.typeofcomponent===\"folder\")\r\n        {\r\n          await DeleteFolder(this.props.component.Id);  \r\n        }        \r\n        else\r\n        {\r\n            await DeleteElement(this.props.component.Id);\r\n        }        \r\n        this.props.onClose();\r\n        this.setState({isdeleted:true});\r\n      }\r\n\r\n    render(){\r\n        console.log(\"рендер удаления\");\r\n        if(this.state.isdeleted)\r\n        {\r\n            let bc=this.props.prevpages;\r\n            bc.length=bc.length-1;\r\n            this.setState({isdeleted: false});\r\n            console.log(\"Я в удалении\");\r\n            return <Redirect to={{pathname: bc[bc.length-1].path, state: { body: bc[bc.length-1].body, breadCrumbs:bc}            \r\n  }}/>\r\n        }\r\n        if(!this.props.show)\r\n        {\r\n            return null\r\n        }     \r\n        \r\n        console.log(this.props);\r\n        return(\r\n            <div className=\"ModalPage\" onClick={this.props.onClose}> \r\n            <div className=\"modal-content\" onClick={e=>e.stopPropagation()}>\r\n                <div className=\"modal-header\">\r\n                    <h4 className=\"modal-title\">Удаление {this.props.component.Name}</h4>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                <label className=\"formlabel\"> Вы действительно хотите удалить {this.props.typeofcomponent===\"template\" ? 'папку' : 'элемент'} {this.props.component.Name}?</label>\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                <button className=\"button\" onClick={this.handleSubmit}>Да</button>\r\n                <button className=\"button\" onClick={this.props.onClose}>Отменить</button>\r\n                </div>\r\n            </div>            \r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { useState } from 'react';\r\nimport AddCharacteristics from '../ModalForms/TemplateElement/AddTemplateCharecterisctics';\r\nimport AddTemplateElement from '../ModalForms/TemplateElement/AddTemplateElement';\r\nimport DeleteElement from '../ModalForms/TemplateElement/DeleteTemplateElement';\r\nimport EditElement from '../ModalForms/TemplateElement/EditTemplateElement';\r\nimport ExportElement from '../ModalForms/TemplateElement/ExportTemplateElement';\r\n\r\n\r\nimport './Toolbar.css';\r\n\r\nexport default function Toolbar(props) {\r\n\r\n    const [showAddElement, set_showAddElement] = useState(false);\r\n    const [showAddFolder, set_showAddFolder] = useState(false);\r\n    const [showDeleteComponent, set_showDeleteComponent] = useState(false);\r\n    const [showExportComponent, set_showExportComponent] = useState(false);\r\n    const [showEditComponent, set_showEditComponent] = useState(false);\r\n    \r\n        return(\r\n            <div className=\"ToolbarRelative\">\r\n            <div className=\"Toolbar\">\r\n            <button className=\"Toolbarbutton\" onClick={() => set_showAddElement(true)}>Добавить характеристики</button>\r\n            <AddCharacteristics element={props.parent} prevpages={props.previouspages} onClose={()=>set_showAddElement(false)} show={showAddElement}/>\r\n            <button className=\"Toolbarbutton\" onClick={() => set_showAddFolder(true)}>Добавить класс</button>\r\n            <AddTemplateElement element={props.parent} prevpages={props.previouspages} onClose={()=>set_showAddFolder(false)} show={showAddFolder}/>\r\n            <button className=\"Toolbarbutton\" onClick={() => set_showDeleteComponent(true)}>Удалить класс</button>\r\n            <DeleteElement prevpages={props.previouspages} component={props.parent} onClose={()=>set_showDeleteComponent(false)} show={showDeleteComponent}/>\r\n            <button className=\"Toolbarbutton\" onClick={() => set_showEditComponent(true)}>Изменить класс</button>\r\n            <EditElement element={props.parent} prevpages={props.previouspages} onClose={()=>set_showEditComponent(false)} show={showEditComponent}/>\r\n            <button className=\"Toolbarbutton\" onClick={() => set_showExportComponent(true)}>Экспорт класса</button>\r\n            <ExportElement component={props.parent} typeofcomponent={props.typeof_parentel} onClose={()=>set_showExportComponent(false)} show={showExportComponent}/>\r\n            </div>\r\n            </div>\r\n          )\r\n  \r\n}","import React, {Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport Toolbar from '../Toolbar/ToolBarTemplateElement';\r\nimport './TempateElementPage.css';\r\n\r\nexport default class TemplateElementPage extends Component{\r\n    constructor(props){\r\n        super(props); \r\n        this.state={templatecharacteristics: null, breadCrumbs:null, characteristics:null, savepath:null};\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }    \r\n    handleClick(e) {\r\n        e.preventDefault();\r\n        this.props.history.push(\"/\");\r\n        localStorage.clear();    \r\n        window.location.reload();      \r\n      }  \r\n    \r\n    async GetTemplateCharacteristics(parentid){\r\n        const breadCrumbs = this.props.location.state.breadCrumbs; \r\n        const index = breadCrumbs.map(function(e) {if (e.path==='/telement') return e.body.Id; else return 0;}).indexOf(this.props.location.state.body.Id);\r\n        // const index=breadCrumbs.indexOf(elem => elem.path==`/template/${this.props.match.params.id}/${this.props.match.params.name}`);\r\n        if(index===-1)\r\n        {\r\n        breadCrumbs.push({\r\n            title: this.props.location.state.body.Name,\r\n            path: `/telement`,\r\n            body:{\r\n                \"Name\":this.props.location.state.body.Name,\r\n                \"Id\":this.props.location.state.body.Id\r\n            }\r\n          });\r\n        }\r\n        else\r\n        {\r\n            breadCrumbs.length=index+1;\r\n        }\r\n        console.log(process.env.REACT_APP_API_TEMPLATECHARACTERISTICS+`?idelement=${parentid}`)\r\n        await fetch(process.env.REACT_APP_API_TEMPLATECHARACTERISTICS+`?idelement=${parentid}`) \r\n        .then(response=>{ return response.json()})\r\n        .then(data=>{\r\n            this.setState({templatecharacteristics:data, breadCrumbs:breadCrumbs});\r\n        }).catch(err => console.log(err));  \r\n        console.log(this.state);\r\n    }\r\n    GetCharacteristics(parentid){\r\n        fetch(process.env.REACT_APP_API_TEMPLATECHARACTERISTICS+`/${parentid}`) \r\n        .then(response=>{ return response.json()})\r\n        .then(data=>{\r\n            this.setState({characteristics:data});\r\n        }).catch(err => console.log(err));\r\n    }\r\n\r\n    async componentDidMount(){\r\n        await this.GetTemplateCharacteristics(this.props.location.state.body.Id);\r\n        await this.GetCharacteristics(this.props.location.state.body.Id);\r\n    }\r\n    async componentDidUpdate(prevProps){\r\n    console.log(\"Я в обновлении темплэйта\");\r\n      if (prevProps.location.state.body.path !== this.props.location.state.body.path)      \r\n      {\r\n        await this.GetTemplateCharacteristics(this.props.location.state.body.Id);\r\n        await this.GetCharacteristics(this.props.location.state.body.Id);\r\n        // window.location.reload();\r\n      }\r\n  }\r\n\r\n    render(){\r\n        if ((!this.state.templatecharacteristics)||(!this.state.characteristics)) {\r\n            return <div />\r\n          }\r\n        const {templatecharacteristics, characteristics,breadCrumbs}=this.state;//сначала\r\n        const array = templatecharacteristics.map(function(item) {\r\n            return {idparent: item.IdParent, name: item.NameParent};\r\n          });\r\n        var setObj = new Set(); // create key value pair from array of array\r\n\r\n        var groups = array.reduce((acc,item)=>{\r\n            if(!setObj.has(item.idparent)){\r\n    setObj.add(item.idparent,item)\r\n    acc.push(item)\r\n  }\r\n  return acc;\r\n},[]);//converting back to array from mapobject     \r\n        return(\r\n            <div>\r\n                <div className='header2'>{breadCrumbs[breadCrumbs.length-1]?.title}</div>\r\n                <div className=\"BreadCrumbs\">\r\n                {breadCrumbs.map(bc=>\r\n                        <div key={bc.title} className=\"gt\">                            \r\n                            {/* <Link to={{pathname: `/template/${folder.Id}/${folder.Name}`}}> */}\r\n                            <Link className=\"BreadCrumb\" to={{pathname:bc.path, state:{body:bc.body, breadCrumbs:breadCrumbs}}} >\r\n                             {bc.title} \r\n                              </Link>\r\n                              &ensp;&rarr;&ensp;\r\n                        </div>)}\r\n                        </div> \r\n                        <Toolbar previouspages={breadCrumbs} typeof_parentel=\"templateelement\" parent={this.props.location.state.body}></Toolbar>   \r\n                        <div className=\"Characteristics\">\r\n                        {/* <Toolbar previouspages={breadCrumbs} typeof_parentel=\"template\" parent={this.props.location.state.body}></Toolbar>         */}\r\n                        {groups.map(group=>\r\n                        <div key={group.idparent} className=\"Element\">\r\n                            {group.name}\r\n                            {templatecharacteristics.filter(number => number.IdParent === group.idparent)\r\n        .map(number => <div key={number.IdCharacter} className=\"Characteristic\">{number.NameCharacter}: {number.ValueCharacter}</div>)}\r\n                        </div>)} \r\n\r\n                        {characteristics.map(folder=>\r\n                        <div key={folder.Id}>\r\n                        {folder.Name}: {folder.Value}\r\n                    </div>)} \r\n                        \r\n                           \r\n                        </div>  \r\n                        </div>\r\n        )\r\n    }\r\n}","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useHistory } from \"react-router\";\r\nimport {Link} from \"react-router-dom\";\r\nimport logo from '../App/logo4x.png';\r\nimport './Login.css';\r\n\r\nasync function loginUser (login, password)\r\n{\r\n    return fetch(process.env.REACT_APP_API_USERS+`?mail=${login}&pass=${password}`,{\r\n        method:'GET',\r\n        headers: {\r\n          'Content-Type':'application/json'\r\n      }}).then(data => data.json())\r\n}\r\n\r\n\r\nexport default function Login({ setToken }) {\r\n  const [username, setUserName] = useState();\r\n  const [password, setPassword] = useState();\r\n  const history = useHistory();\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const user = await loginUser(\r\n      username,\r\n      password\r\n    );\r\n    const token={\r\n      \"Mail\": user.Mail,\r\n      \"Password\": user.Password \r\n    }\r\n    history.push({\r\n      pathname:  \"/\"\r\n   });\r\n    console.log(token);\r\n    setToken(token)\r\n  }\r\n\r\n  return(\r\n    <div className=\"body\">  \r\n    <div className=\"border\">       \r\n      <form className='login-wrapper' onSubmit={handleSubmit}>\r\n      <img className=\"logo\" src={logo} alt=\"toolbaritem\"/>\r\n      <div className='header'>Creapedia</div>\r\n        <label className=\"form-row\">\r\n          <p>почта</p>\r\n          <input type=\"text\" placeholder=\"exapmle@email.com\" onChange={e => setUserName(e.target.value)} />\r\n        </label>\r\n        <label className=\"form-row\">\r\n          <p>пароль</p>\r\n          <input type=\"password\" placeholder=\"•••••••••••••\" onChange={e => setPassword(e.target.value)} />\r\n        </label>\r\n        <div className=\"loginlinks\">\r\n        <Link className=\"RegistrationLink\" to={{pathname:`/registration`, state: {body:null}}}> \r\n                             регистрация\r\n                              </Link>\r\n        <Link className=\"ForgotPass\" to={{pathname:`/registration`, state: {body:null}}}> \r\n                             забыли пароль?\r\n                              </Link>\r\n                              </div>\r\n        <label className=\"form-row\">\r\n          <button type=\"submit\">войти</button>\r\n        </label>\r\n      </form>\r\n           \r\n                              </div>                          \r\n      </div>\r\n  )\r\n}\r\n\r\nLogin.propTypes = {\r\n  setToken: PropTypes.func.isRequired\r\n};","import React, {Component} from 'react';\r\nimport {Redirect, Link} from \"react-router-dom\";\r\nimport logo from '../App/logo4x.png';\r\n\r\nasync function SingUp (mail, password)\r\n{   \r\n    const user =   {\r\n      \"Mail\":mail,\r\n      \"Password\": password\r\n   }\r\n    await fetch(process.env.REACT_APP_API_USERS,{\r\n        method: 'POST', // или 'PUT'\r\n        body: JSON.stringify(user), // данные могут быть 'строкой' или {объектом}!\r\n        headers: {\r\n            'Access-Control-Request-Method':'POST',\r\n            'Origin': 'http://localhost:3000',\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n          }}).then(function(response) {\r\n            console.log(response.status)});\r\n}\r\n\r\n\r\nexport default class Registration extends Component{\r\n    constructor(props){\r\n        super(props); \r\n        this.state={mail:\"\", password:\"\", ifregister:null};\r\n        this.onChangeMail = this.onChangeMail.bind(this);\r\n        this.onChangePassword = this.onChangePassword.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    } \r\n\r\n    onChangeMail(e) {\r\n        var val = e.target.value;\r\n        this.setState({mail: val});\r\n    }\r\n    onChangePassword(e) {\r\n        var val = e.target.value;\r\n        this.setState({password: val});\r\n    }\r\n   \r\n    handleSubmit = async e => {\r\n        e.preventDefault();\r\n        await SingUp(this.state.mail,this.state.password);\r\n        alert(\"Вы зарегистрировались! Для подтверждения адреса, пожалуйста, перейдите по ссылке, отправленную вам на указанную почту\");  \r\n        this.setState({ifregister: true});\r\n      }\r\n    render(){\r\n        if(this.state.ifregister)\r\n        {\r\n            return <Redirect to={{pathname: '/', state: { body: null}            \r\n  }}/>}\r\n       return(\r\n<div className=\"body\">  \r\n    <div className=\"border\">       \r\n      <form className='login-wrapper' onSubmit={this.handleSubmit}>\r\n      <img className=\"logo\" src={logo} alt=\"toolbaritem\"/>\r\n      <div className='header'>Регистрация</div>\r\n        <label className=\"form-row\">\r\n          <p>почта</p>\r\n          <input type=\"text\" value={this.state.mail} onChange={this.onChangeMail} placeholder=\"exapmle@email.com\"/>\r\n        </label>\r\n        <label className=\"form-row\">\r\n          <p>пароль</p>\r\n          <input type=\"password\" value={this.state.password} onChange={this.onChangePassword} placeholder=\"•••••••••••••\"/>\r\n        </label>\r\n        <div className=\"loginlinks\">\r\n        <Link className=\"RegistrationLink\" to={{pathname:`/login`, state: {body:null}}}> \r\n                             назад\r\n                              </Link>        \r\n                              </div>\r\n        <label className=\"form-row\">\r\n          <button type=\"submit\">зарегистрироваться</button>\r\n        </label>\r\n      </form>\r\n           \r\n                              </div>                          \r\n      </div>            \r\n        )\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport {Redirect, Link} from \"react-router-dom\";\r\nimport logo from '../App/logo4x.png';\r\n\r\nasync function ChangeData (mail, password)\r\n{   \r\n    const user =   {\r\n      \"Mail\":mail,\r\n      \"Password\": password\r\n   }\r\n    // await fetch(process.env.REACT_APP_API_USERS,{\r\n    //     method: 'PUT', // или 'PUT'\r\n    //     body: JSON.stringify(user), // данные могут быть 'строкой' или {объектом}!\r\n    //     headers: {\r\n    //         'Access-Control-Request-Method':'POST',\r\n    //         'Origin': 'http://localhost:3000',\r\n    //         'Accept': 'application/json',\r\n    //         'Content-Type': 'application/json'\r\n    //       }}).then(function(response) {\r\n    //         console.log(response.status)});\r\n}\r\n\r\nasync function DeleteAcc (mail, password)\r\n{   \r\n    const user =   {\r\n      \"Mail\":mail,\r\n      \"Password\": password\r\n   }\r\n    // await fetch(process.env.REACT_APP_API_USERS,{\r\n    //     method: 'PUT', // или 'PUT'\r\n    //     body: JSON.stringify(user), // данные могут быть 'строкой' или {объектом}!\r\n    //     headers: {\r\n    //         'Access-Control-Request-Method':'POST',\r\n    //         'Origin': 'http://localhost:3000',\r\n    //         'Accept': 'application/json',\r\n    //         'Content-Type': 'application/json'\r\n    //       }}).then(function(response) {\r\n    //         console.log(response.status)});\r\n}\r\n\r\n\r\nexport default class Settings extends Component{\r\n    constructor(props){\r\n        super(props); \r\n        this.state={mail:this.props.body.Mail, password:this.props.body.Password};\r\n        this.onChangeMail = this.onChangeMail.bind(this);\r\n        this.onChangePassword = this.onChangePassword.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.DeleteAcc = this.DeleteAcc.bind(this);\r\n    } \r\n\r\n    onChangeMail(e) {\r\n        var val = e.target.value;\r\n        this.setState({mail: val});\r\n    }\r\n    onChangePassword(e) {\r\n        var val = e.target.value;\r\n        this.setState({password: val});\r\n    }\r\n    DeleteAcc = async e => {\r\n        e.preventDefault();\r\n        await ChangeData(this.state.mail,this.state.password);\r\n        alert(\"Данные успешно обновлены\");  \r\n      }\r\n   \r\n    handleSubmit = async e => {\r\n        e.preventDefault();\r\n        await ChangeData(this.state.mail,this.state.password);\r\n        alert(\"Данные успешно обновлены\");  \r\n      }\r\n    render(){        \r\n       return(\r\n<div className=\"body\">  \r\n    <div className=\"border\">       \r\n      <form className='login-wrapper' onSubmit={this.handleSubmit}>\r\n      <img className=\"logo\" src={logo} alt=\"toolbaritem\"/>\r\n      <div className='header'>настройки</div>\r\n        <label className=\"form-row\">\r\n          <p>почта</p>\r\n          <input type=\"text\" value={this.state.mail} onChange={this.onChangeMail} placeholder=\"exapmle@email.com\"/>\r\n        </label>\r\n        <label className=\"form-row\">\r\n          <p>пароль</p>\r\n          <input type=\"password\" value={this.state.password} onChange={this.onChangePassword} placeholder=\"•••••••••••••\"/>\r\n        </label>\r\n        \r\n        <label className=\"form-row\">\r\n          <button type=\"submit\">изменить</button>\r\n          </label>\r\n          <label className=\"form-row\">\r\n          <button onClick={this.DeleteAcc}>удалить профиль</button>\r\n        </label>\r\n        <div className=\"loginlinks\">            \r\n        <Link className=\"RegistrationLink\" to={{pathname:`/main`, state: {body:{Mail:this.state.mail, Password:this.state.password}}}}> \r\n                             назад\r\n                              </Link>        \r\n                              </div>\r\n      </form>\r\n           \r\n                              </div>                          \r\n      </div>            \r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport {BrowserRouter as Router,Switch,Route, Redirect, withRouter} from \"react-router-dom\";\r\nimport MainPage from '../MainPage/MainPage';\r\nimport TemplatePage from '../TemplatePage/TemplatePage';\r\nimport FolderPage from '../FolderPage/FolderPage';\r\nimport ElementPage from '../ElementPage/ElementPage';\r\nimport TemplateElementPage from '../TemplateElementPage/TemplateElementPage';\r\nimport Login from '../Login/Login';\r\nimport useToken from './useToken';\r\nimport Registration from '../Registration/Registration';\r\nimport Settings from '../Settings/Settings';\r\nimport GeneralLibrary from '../GeneralLibrary/GeneralLibrary';\r\nimport './App.css';\r\n\r\n\r\nfunction App(props) {\r\n  \r\n  const { token, setToken } = useToken();  //Получение данных из localstorage\r\n\r\n  if(!token) //при отсутствии данных в localstorage\r\n  {\r\n    return (\r\n        <Router>\r\n            <Switch>            \r\n            <Route path=\"/CreapediaWeb/registration\" component={Registration}></Route>  \r\n            <Route path=\"/CreapediaWeb/login\"><Login setToken={setToken}/></Route>     \r\n            <Redirect from=\"/\" to={{pathname: `/CreapediaWeb/login`}}></Redirect>\r\n            </Switch>\r\n            </Router>  \r\n    )\r\n  }  \r\n  //при наличии данных в localstorage\r\n  return (\r\n    <Router>\r\n            <Switch>\r\n            <Route path=\"/main\" component={MainPage}></Route>\r\n            <Route path=\"/template\" component={TemplatePage}></Route>\r\n            <Route path=\"/projects\" component={FolderPage}></Route> \r\n            <Route path=\"/element\" component={ElementPage}></Route>\r\n            <Route path=\"/telement\" component={TemplateElementPage}></Route>\r\n            <Route path=\"/library\" component={GeneralLibrary}></Route>  \r\n            <Route path=\"/settings\"><Settings body={token}/></Route>\r\n            <Redirect from=\"/\" to={{pathname: `/main`, state: {body:token}}}/>          \r\n            </Switch>\r\n            </Router>\r\n  );\r\n}\r\n\r\nexport default withRouter(App);","import { useState } from 'react';\r\n\r\nexport default function useToken() {\r\n  const getToken = () => {\r\n    const tokenString = localStorage.getItem('token');\r\n    const userToken = JSON.parse(tokenString);\r\n    console.log(userToken);\r\n    return userToken;\r\n  };\r\n\r\n  const [token, setToken] = useState(getToken());\r\n\r\n  const saveToken = userToken => {\r\n    localStorage.setItem('token', JSON.stringify(userToken));\r\n    setToken(userToken);\r\n  };\r\n\r\n  return {\r\n    setToken: saveToken,\r\n    token\r\n  }\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'normalize.css';\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App/>\n    </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}