(this.webpackJsonpcreapediaweb=this.webpackJsonpcreapediaweb||[]).push([[0],{11:function(e,t,n){},21:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var a=n(3),s=n(28),r=n.n(s),c=(n(34),n(35),n(9)),o=n(12),i=n(1),l=n.n(i),u=n(2),d=n(5),h=n(6),p=n(4),b=n(8),m=n(7),j=(n(37),n.p+"static/media/logo4x.bffe58ac.png"),f=n(0),x=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),a=t.call(this,e),console.log(e),a.state={user:null,mainfolders:null},a.handleClick=a.handleClick.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.history.push("/"),localStorage.clear(),window.location.reload()}},{key:"GetMainFolders",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/main/".concat(t)).then((function(e){return e.json()})).then((function(e){n.setState({mainfolders:e}),console.log(e)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"loginUser",value:function(){var e=Object(u.a)(l.a.mark((function e(t,n){var a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/users"+"?mail=".concat(t,"&pass=").concat(n)).then((function(e){return e.json()})).then((function(e){return a.setState({user:e}),e})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==this.props.location.state.body&&(localStorage.clear(),window.location.reload()),e.next=3,this.loginUser(this.props.location.state.body.Mail,this.props.location.state.body.Password);case 3:if(!(t=e.sent)){e.next=9;break}return e.next=7,this.GetMainFolders(t.Id);case 7:e.next=11;break;case 9:localStorage.clear(),window.location.reload();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.user||!this.state.mainfolders)return Object(f.jsx)("div",{className:"waitingpage",children:Object(f.jsxs)("div",{className:"Loading",children:[Object(f.jsx)("img",{className:"logo",src:j,alt:"toolbaritem"}),Object(f.jsx)("label",{className:"formlabel",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})]})});var e=this.state.mainfolders,t=[{title:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",path:"/",body:{Mail:this.state.user.Mail,Password:this.state.user.Password}}];return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"Header",children:[Object(f.jsx)("div",{className:"BreadCrumbs",children:t.map((function(e){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)(c.b,{className:"BreadCrumb",to:{pathname:e.path,state:{body:e.body,breadCrumbs:t}},children:e.title}),"\u2002\u2192\u2002"]},e.title)}))}),Object(f.jsxs)("div",{className:"settingsinheader",children:[Object(f.jsx)(c.b,{to:{pathname:"/library",state:{breadCrumbs:t}},children:Object(f.jsx)("button",{className:"btn_logout",children:"\u043e\u0431\u0449\u0430\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430"})}),Object(f.jsx)(c.b,{to:{pathname:"/settings",state:{breadCrumbs:t}},children:Object(f.jsx)("button",{className:"btn_logout",children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),Object(f.jsx)("button",{className:"btn_logout",onClick:this.handleClick,children:"\u0432\u044b\u0445\u043e\u0434"}),Object(f.jsx)("img",{className:"logo",src:j,alt:"toolbaritem"})]})]}),Object(f.jsx)("div",{className:"mainfolders",children:e.map((function(e){return Object(f.jsx)("div",{className:"mfolder",children:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b"===e.Name?Object(f.jsx)(c.b,{to:{pathname:"/projects",state:{breadCrumbs:t,body:{Id:e.Id,Name:e.Name}}},children:Object(f.jsx)("button",{className:"buttonfolder",children:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b"})}):Object(f.jsx)(c.b,{to:{pathname:"/template",state:{breadCrumbs:t,body:{Id:e.Id,Name:e.Name}}},children:Object(f.jsx)("button",{className:"buttonfolder",children:"\u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430"})})},e.Id)}))})]})}}]),n}(a.Component),O=(n(44),n(10));n(11);function v(e,t){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={Name:t,ParentfolderId:Number(n)},e.next=3,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templateelements",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={name:""},a.onChange=a.onChange.bind(Object(p.a)(a)),a.sendImage=a.sendImage.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"onChange",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"sendImage",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,v(this.state.name,this.props.folder.Id);case 3:this.props.onClose(),window.location.reload();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.props.show?Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u0430"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.name,onChange:this.onChange})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.sendImage,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})}):null}}]),n}(a.Component);function y(e,t){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={Name:t,ParentfolderId:Number(n)},e.next=3,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).changedirectory=function(e){return function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},a.handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(a.props),e.next=4,y(a.state.name,a.props.folder.Id);case 4:a.props.onClose(),window.location.reload();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={name:"",folders:null,breadCrumbs:null},a.onChange=a.onChange.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.changedirectory=a.changedirectory.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"onChange",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"render",value:function(){return this.props.show?Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.name,onChange:this.onChange})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})}):null}}]),n}(a.Component);function k(e){return I.apply(this,arguments)}function I(){return(I=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders"+"/".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,k(a.props.component.Id);case 3:a.props.onClose(),a.setState({isdeleted:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),console.log(a.props),a.state={isdeleted:null},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"render",value:function(){if(this.state.isdeleted){var e=this.props.prevpages;return e.length=e.length-1,this.setState({isdeleted:!1}),Object(f.jsx)(o.a,{to:{pathname:e[e.length-1].path,state:{body:e[e.length-1].body,breadCrumbs:e}}})}return this.props.show?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsxs)("div",{className:"modal-title",children:["\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438 ",this.props.component.Name]})}),Object(f.jsx)("div",{className:"modal-body",children:Object(f.jsxs)("label",{className:"formlabel",children:[" \u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443 ",this.props.component.Name,"?"]})}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u0414\u0430"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component);function A(e,t,n,a,s){return T.apply(this,arguments)}function T(){return(T=Object(u.a)(l.a.mark((function e(t,n,a,s,r){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={IdFolder:Number(t),Name:n,IdParent:Number(a),subfolders:s,elements:r},e.next=3,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders",{method:"PUT",body:JSON.stringify(c),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).RemoveSubfolder=function(e){return function(t){a.setState((function(t){return{subfolders:t.subfolders.filter((function(t){return t.Id!==e}))}}))}},a.RemoveElement=function(e){return function(t){a.setState((function(t){return{elements:t.elements.filter((function(t){return t.Id!==e}))}}))}},a.changedirectory=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var s,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a.state.breadCrumbs,-1===(r=s.map((function(e){return e.body.Id})).indexOf(e.Id))?s.push({title:e.Name,path:"/projects",body:{Name:e.Name,Id:e.Id}}):s.length=r+1,t.next=5,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders"+"/".concat(e.Id)).then((function(e){return e.json()})).then((function(t){a.setState({folders:t,breadCrumbs:s,path:{Name:e.Name,Id:e.Id}})})).catch((function(e){return console.log(e)}));case 5:console.log(a.state);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},a.ChangeShow=function(e){return function(t){a.setState({typeofedit:e})}},a.handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,A(a.props.folder.Id,a.state.name,a.state.path.Id,a.state.subfolders,a.state.elements);case 3:a.props.onClose(),a.setState({needupate:!0}),window.location.reload();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={name:null,folders:null,isupdated:null,breadCrumbs:null,typeofedit:null,path:null,text:null,needupate:!0,subfolders:null,elements:null},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.showlocation=a.showlocation.bind(Object(p.a)(a)),a.Close=a.Close.bind(Object(p.a)(a)),a.onChange=a.onChange.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"Close",value:function(e){this.props.onClose(),this.setState({needupate:!0})}},{key:"onChange",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"GetSubFoldersAndElements",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){n=e})).catch((function(e){return console.log(e)}));case 2:return console.log(this.state),e.next=5,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templateelements"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){a=e})).catch((function(e){return console.log(e)}));case 5:this.setState({subfolders:n,elements:a});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"showlocation",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders"+"/".concat(this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Id)).then((function(e){return e.json()})).then((function(e){"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===n.state.text?n.setState({text:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c",folders:e}):n.setState({text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.show||!this.state.needupate){e.next=4;break}return this.setState({name:this.props.folder.Name,folders:null,typeofedit:"folder",isupdated:null,needupate:!1,breadCrumbs:this.props.prevpages.filter((function(e){return e.body.Id!==n.props.folder.Id})),path:{Name:this.props.prevpages[this.props.prevpages.length-2].body.Name,Id:this.props.prevpages[this.props.prevpages.length-2].body.Id},text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"}),e.next=4,this.GetSubFoldersAndElements(this.props.folder.Id);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.show&&this.state.elements&&this.state.subfolders?Object(f.jsx)("div",{className:"ModalPage",onClick:this.Close,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u043f\u043a\u0443"})}),"folder"===this.state.typeofedit?Object(f.jsxs)("div",{className:"ShowSelector",children:[Object(f.jsx)("button",{className:"button-selector-modal current",children:"\u043f\u0430\u043f\u043a\u0430"}),Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("subfolders"),children:"\u043f\u043e\u0434\u043f\u0430\u043f\u043a\u0438"}),Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("elements"),children:"\u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b"})]}):null,"subfolders"===this.state.typeofedit?Object(f.jsxs)("div",{className:"ShowSelector",children:[Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("folder"),children:"\u043f\u0430\u043f\u043a\u0430"}),Object(f.jsx)("button",{className:"button-selector-modal current",children:"\u043f\u043e\u0434\u043f\u0430\u043f\u043a\u0438"}),Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("elements"),children:"\u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b"})]}):null,"elements"===this.state.typeofedit?Object(f.jsxs)("div",{className:"ShowSelector",children:[Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("folder"),children:"\u043f\u0430\u043f\u043a\u0430"}),Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("subfolders"),children:"\u043f\u043e\u0434\u043f\u0430\u043f\u043a\u0438"}),Object(f.jsx)("button",{className:"button-selector-modal current",children:"\u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b"})]}):null,"folder"===this.state.typeofedit?Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.name,onChange:this.onChange}),Object(f.jsx)("label",{className:"formlabel",children:"\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435:"}),Object(f.jsxs)("div",{className:"selectedpath",children:[Object(f.jsx)("label",{children:this.state.path.Name})," ",Object(f.jsxs)("button",{className:"arrow",onClick:this.showlocation,children:[" ",this.state.text," ","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?Object(f.jsx)("div",{children:"\u2002\u2193"}):Object(f.jsx)("div",{children:"\u2002\u2191"})," "]})]}),Object(f.jsx)("div",{className:"place",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?null:Object(f.jsxs)("div",{className:"parentwindowforselectingpath",children:[Object(f.jsx)("div",{className:"modalbreadcrumbs",children:this.state.breadCrumbs.slice(1).map((function(t){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)("button",{className:"BreadCrumb withoutframe",onClick:e.changedirectory({Id:t.body.Id,Name:t.body.Name}),children:t.title}),"\u2002\u2192\u2002"]},t.title)}))}),Object(f.jsx)("div",{className:"windowforselectingpath",children:Object(f.jsx)("div",{className:"modalfolders",children:this.state.folders.filter((function(t){return t.Id!==e.props.folder.Id})).map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonfolder",onClick:e.changedirectory({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))})})]})})]}):null,"subfolders"===this.state.typeofedit?Object(f.jsx)("div",{className:"modal-body-withoutcenter",children:this.state.subfolders.map((function(t){return Object(f.jsxs)("div",{className:"element-with-delete-button",children:[Object(f.jsx)("button",{className:"arrow",onClick:e.RemoveSubfolder(t.Id),children:"\u2297"}),Object(f.jsx)("label",{children:t.Name})]},t.Id)}))}):null,"elements"===this.state.typeofedit?Object(f.jsx)("div",{className:"modal-body-withoutcenter",children:this.state.elements.map((function(t){return Object(f.jsxs)("div",{className:"element-with-delete-button",children:[Object(f.jsx)("button",{className:"arrow",onClick:e.RemoveElement(t.Id),children:"\u2297"}),Object(f.jsx)("label",{children:t.Name})]},t.Id)}))}):null,Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"SaveButton button",onClick:this.handleSubmit,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)("button",{className:"CloseButton button",onClick:this.Close,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})}):null}}]),n}(a.Component);function E(e,t,n){return z.apply(this,arguments)}function z(){return(z=Object(u.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders"+"/importfromfolder?folderid=".concat(t,"&importcompid=").concat(n,"&type=").concat(a),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t,n){return M.apply(this,arguments)}function M(){return(M=Object(u.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders"+"/importfromlib?folderid=".concat(t,"&importcompid=").concat(n,"&password=").concat(a),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"fromfolder"!==a.state.importtype){e.next=7;break}return e.next=4,E(a.props.folder.Id,a.state.path.Id,a.state.path.type);case 4:a.props.onClose(),e.next=14;break;case 7:if("fromlibrary"!==a.state.importtype){e.next=13;break}return e.next=10,B(a.props.folder.Id,a.state.selcomp.Id,a.state.body);case 10:a.props.onClose(),e.next=14;break;case 13:alert("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0438\u043c\u043f\u043e\u0440\u0442\u0430");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.selectelement=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({path:{Name:e.Name,Id:e.Id,type:"element"}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},a.selectcomponent=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({selcomp:{Name:e.Name,Id:e.Id,type:e.type}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},a.changedirectory=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var s,r,c,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a.state.breadCrumbs,-1===(r=s.map((function(e){return e.body.Id})).indexOf(e.Id))?s.push({title:e.Name,path:"/projects",body:{Name:e.Name,Id:e.Id}}):s.length=r+1,t.next=5,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders"+"/".concat(e.Id)).then((function(e){return e.json()})).then((function(e){c=e})).catch((function(e){return console.log(e)}));case 5:return t.next=7,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templateelements"+"/".concat(e.Id)).then((function(e){return e.json()})).then((function(e){o=e})).catch((function(e){return console.log(e)}));case 7:a.setState({elements:o,folders:c,path:{Name:a.state.breadCrumbs[a.state.breadCrumbs.length-1].body.Name,Id:a.state.breadCrumbs[a.state.breadCrumbs.length-1].body.Id,type:"folder"}});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},console.log(a.props),a.state={importtype:null,body:null,path:{Name:a.props.folder.Name,Id:a.props.folder.Id,type:"folder"},selcomp:{Id:null,Name:"",type:""},libcomponents:null,folders:null,elements:null,breadCrumbs:a.props.prevpages,text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.setTypeOfImport=a.setTypeOfImport.bind(Object(p.a)(a)),a.showlocation=a.showlocation.bind(Object(p.a)(a)),a.onPasswordChange=a.onPasswordChange.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"setTypeOfImport",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("fromfolder"!==t.target.value){e.next=8;break}return e.next=3,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders"+"/".concat(this.state.path.Id)).then((function(e){return e.json()})).then((function(e){n=e})).catch((function(e){return console.log(e)}));case 3:return e.next=5,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders"+"/".concat(this.state.path.Id)).then((function(e){return e.json()})).then((function(e){a=e})).catch((function(e){return console.log(e)}));case 5:this.setState({elements:a,folders:n,importtype:t.target.value,path:{Name:this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Name,Id:this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Id}}),e.next=11;break;case 8:return e.next=10,fetch("https://creapediawebapi20210507000107.azurewebsites.net/library/\u043f\u0430\u043f\u043a\u0430 \u0441 \u043a\u043b\u0430\u0441\u0441\u0430\u043c\u0438").then((function(e){return e.json()})).then((function(e){s=e})).catch((function(e){return console.log(e)}));case 10:this.setState({selcomp:{Id:null,Name:""},libcomponents:s,importtype:t.target.value});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"showlocation",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders"+"/".concat(this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Id)).then((function(e){return e.json()})).then((function(e){n=e})).catch((function(e){return console.log(e)}));case 2:return e.next=4,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templateelements"+"/".concat(this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Id)).then((function(e){return e.json()})).then((function(e){a=e})).catch((function(e){return console.log(e)}));case 4:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?this.setState({text:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c",folders:n,elements:a}):this.setState({text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onPasswordChange",value:function(e){this.setState({body:e.target.value})}},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.folder.Id!==this.props.folder.Id&&this.setState({importtype:null,body:"",selcomp:{Id:null,Name:""},path:{Name:this.props.folder.Name,Id:this.props.folder.Id,type:"folder"},libcomponents:null,folders:null,breadCrumbs:this.props.prevpages,text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.show?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsxs)("div",{className:"modal-title",children:["\u0418\u043c\u043f\u043e\u0440\u0442 \u0432 \u043f\u0430\u043f\u043a\u0443 ",this.props.folder.Name]})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsxs)("div",{className:"formwithradio",children:[Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfImport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"fromfolder",name:"gender"})," \u0418\u0437 \u0434\u0440\u0443\u0433\u043e\u0439 \u043f\u0430\u043f\u043a\u0438"]}),Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfImport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"fromlibrary",name:"gender"})," \u0418\u0437 \u043e\u0431\u0449\u0435\u0439 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438"]})]}),"fromlibrary"===this.state.importtype?Object(f.jsxs)("div",{className:"exportdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u0418\u043c\u043f\u043e\u0440\u0442:"}),Object(f.jsxs)("div",{className:"selectedpath",children:[Object(f.jsx)("label",{children:this.state.selcomp.Name})," "]}),Object(f.jsx)("div",{className:"place",children:Object(f.jsx)("div",{className:"parentwindowforselectingpath",children:Object(f.jsx)("div",{className:"windowforselectingpath",children:Object(f.jsx)("div",{children:this.state.libcomponents.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{onClick:e.selectcomponent({Id:t.Id,Name:t.Name,type:t.Typeofcomponent}),className:"libcomponent",children:[Object(f.jsx)("div",{children:t.Name})," ",Object(f.jsx)("div",{children:t.Typeofcomponent})]})},t.Id)}))})})})}),Object(f.jsxs)("div",{className:"exportdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u0417\u0430\u0434\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.body,onChange:this.onPasswordChange})]})]}):null,"fromfolder"===this.state.importtype?Object(f.jsxs)("div",{className:"exportdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u0418\u043c\u043f\u043e\u0440\u0442:"}),Object(f.jsxs)("div",{className:"selectedpath",children:[Object(f.jsx)("label",{children:this.state.path.Name})," ",Object(f.jsxs)("button",{className:"arrow",onClick:this.showlocation,children:[" ",this.state.text," ","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?Object(f.jsx)("div",{children:"\u2002\u2193"}):Object(f.jsx)("div",{children:"\u2002\u2191"})," "]})]}),Object(f.jsx)("div",{className:"place",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?null:Object(f.jsxs)("div",{className:"parentwindowforselectingpath",children:[Object(f.jsx)("div",{className:"modalbreadcrumbs",children:this.state.breadCrumbs.slice(1).map((function(t){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)("button",{className:"BreadCrumb withoutframe",onClick:e.changedirectory({Id:t.body.Id,Name:t.body.Name}),children:t.title}),"\u2002\u2192\u2002"]},t.title)}))}),Object(f.jsx)("div",{className:"windowforselectingpath",children:Object(f.jsxs)("div",{className:"modalfolders import",children:[this.state.folders.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonfolder",onClick:e.changedirectory({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)})),this.state.elements.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonelement",onClick:e.selectelement({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))]})})]})})]}):null]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component);function G(e,t){return R.apply(this,arguments)}function R(){return(R=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders"+"/exporttouser?folderid=".concat(t,"&usermail=").concat(n),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t,n){return F.apply(this,arguments)}function F(){return(F=Object(u.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders"+"/exporttolibrary?folderid=".concat(t,"&name=").concat(n,"&password=").concat(a),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t){return V.apply(this,arguments)}function V(){return(V=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders"+"/exporttofolder?folderid=".concat(t,"&newrootid=").concat(n),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"user"!==a.state.exporttype){e.next=6;break}return e.next=4,G(a.props.folder.Id,a.state.body);case 4:e.next=14;break;case 6:if("library"!==a.state.exporttype){e.next=11;break}return e.next=9,L(a.props.folder.Id,a.props.folder.Name,a.state.body);case 9:e.next=14;break;case 11:if("folder"!==a.state.exporttype){e.next=14;break}return e.next=14,U(a.props.folder.Id,a.state.path.Id);case 14:a.props.onClose();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.changedirectory=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var s,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a.state.breadCrumbs,-1===(r=s.map((function(e){return e.body.Id})).indexOf(e.Id))?s.push({title:e.Name,path:"/projects",body:{Name:e.Name,Id:e.Id}}):s.length=r+1,t.next=5,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders"+"/".concat(e.Id)).then((function(e){return e.json()})).then((function(t){a.setState({folders:t,breadCrumbs:s,path:{Name:e.Name,Id:e.Id}})})).catch((function(e){return console.log(e)}));case 5:console.log(a.state);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},console.log(a.props),a.state={exporttype:null,body:"",path:{Name:a.props.folder.Name,Id:a.props.folder.Id},folders:null,breadCrumbs:a.props.prevpages,text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.setTypeOfExport=a.setTypeOfExport.bind(Object(p.a)(a)),a.onMailChange=a.onMailChange.bind(Object(p.a)(a)),a.onPasswordChange=a.onPasswordChange.bind(Object(p.a)(a)),a.showlocation=a.showlocation.bind(Object(p.a)(a)),a.changedirectory=a.changedirectory.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"showlocation",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders"+"/".concat(this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Id)).then((function(e){return e.json()})).then((function(e){"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===n.state.text?n.setState({text:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c",folders:e}):n.setState({text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTypeOfExport",value:function(e){"folder"===e.target.value?this.setState({exporttype:e.target.value,path:{Name:this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Name,Id:this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Id}}):this.setState({exporttype:e.target.value,body:""}),console.log("wow")}},{key:"onMailChange",value:function(e){this.setState({body:e.target.value})}},{key:"onPasswordChange",value:function(e){this.setState({body:e.target.value})}},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.folder.Id!==this.props.folder.Id&&this.setState({exporttype:null,body:"",path:{Name:this.props.folder.Name,Id:this.props.folder.Id},folders:null,breadCrumbs:this.props.prevpages,text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.show?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsxs)("div",{className:"modal-title",children:["\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u043f\u0430\u043f\u043a\u0438 ",this.props.folder.Name]})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsxs)("div",{className:"formwithradio",children:[Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfExport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"user",name:"gender"})," \u0414\u0440\u0443\u0433\u043e\u043c\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e"]}),Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfExport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"folder",name:"gender"})," \u0412 \u0434\u0440\u0443\u0433\u0443\u044e \u043f\u0430\u043f\u043a\u0443"]}),Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfExport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"library",name:"gender"})," \u0412 \u043e\u0431\u0449\u0443\u044e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443"]})]}),"user"===this.state.exporttype?Object(f.jsxs)("div",{className:"exportdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.body,onChange:this.onMailChange})]}):null,"library"===this.state.exporttype?Object(f.jsxs)("div",{className:"exportdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u0417\u0430\u0434\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.body,onChange:this.onPasswordChange})]}):null,"folder"===this.state.exporttype?Object(f.jsxs)("div",{className:"exportdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0432 \u043f\u0430\u043f\u043a\u0443:"}),Object(f.jsxs)("div",{className:"selectedpath",children:[Object(f.jsx)("label",{children:this.state.path.Name})," ",Object(f.jsxs)("button",{className:"arrow",onClick:this.showlocation,children:[" ",this.state.text," ","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?Object(f.jsx)("div",{children:"\u2002\u2193"}):Object(f.jsx)("div",{children:"\u2002\u2191"})," "]})]}),Object(f.jsx)("div",{className:"place",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?null:Object(f.jsxs)("div",{className:"parentwindowforselectingpath",children:[Object(f.jsx)("div",{className:"modalbreadcrumbs",children:this.state.breadCrumbs.slice(1).map((function(t){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)("button",{className:"BreadCrumb withoutframe",onClick:e.changedirectory({Id:t.body.Id,Name:t.body.Name}),children:t.title}),"\u2002\u2192\u2002"]},t.title)}))}),Object(f.jsx)("div",{className:"windowforselectingpath",children:Object(f.jsx)("div",{className:"modalfolders",children:this.state.folders.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonfolder",onClick:e.changedirectory({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))})})]})})]}):null]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component);n(21);function q(e){var t=Object(a.useState)(!1),n=Object(O.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(!1),o=Object(O.a)(c,2),i=o[0],l=o[1],u=Object(a.useState)(!1),d=Object(O.a)(u,2),h=d[0],p=d[1],b=Object(a.useState)(!1),m=Object(O.a)(b,2),j=m[0],x=m[1],v=Object(a.useState)(!1),N=Object(O.a)(v,2),y=N[0],w=N[1],k=Object(a.useState)(!1),I=Object(O.a)(k,2),A=I[0],T=I[1];return Object(f.jsx)("div",{className:"ToolbarRelative",children:Object(f.jsxs)("div",{className:"Toolbar",children:[Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return r(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0441"}),Object(f.jsx)(g,{prevpages:e.previouspages,folder:e.parent,onClose:function(){return r(!1)},show:s}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return l(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443"}),Object(f.jsx)(C,{prevpages:e.previouspages,folder:e.parent,onClose:function(){return l(!1)},show:i}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return p(!0)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443"}),Object(f.jsx)(S,{prevpages:e.previouspages,component:e.parent,onClose:function(){return p(!1)},show:h}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return x(!0)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443"}),Object(f.jsx)(P,{prevpages:e.previouspages,folder:e.parent,onClose:function(){return x(!1)},show:j}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return w(!0)},children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u043f\u0430\u043f\u043a\u0438"}),Object(f.jsx)(W,{prevpages:e.previouspages,folder:e.parent,onClose:function(){return w(!1)},show:y}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return T(!0)},children:"\u0418\u043c\u043f\u043e\u0440\u0442 \u0432 \u043f\u0430\u043f\u043a\u0443"}),Object(f.jsx)(D,{prevpages:e.previouspages,folder:e.parent,onClose:function(){return T(!1)},show:A})]})})}var H=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={folders:null,elements:null,breadCrumbs:null},a.handleClick=a.handleClick.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.history.push("/"),localStorage.clear(),window.location.reload()}},{key:"GetFolders",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.location.state.breadCrumbs,-1===(a=n.map((function(e){return e.body.Id})).indexOf(this.props.location.state.body.Id))?n.push({title:this.props.location.state.body.Name,path:"/template",body:{Name:this.props.location.state.body.Name,Id:this.props.location.state.body.Id}}):n.length=a+1,console.log("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders"+"/".concat(t)),e.next=6,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){s.setState({folders:e,breadCrumbs:n})})).catch((function(e){return console.log(e)}));case 6:console.log(this.state);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetElements",value:function(e){var t=this;console.log("https://creapediawebapi20210507000107.azurewebsites.net/templateelements"+"/".concat(e)),fetch("https://creapediawebapi20210507000107.azurewebsites.net/templateelements"+"/".concat(e)).then((function(e){return e.json()})).then((function(e){t.setState({elements:e})})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.GetFolders(this.props.location.state.body.Id);case 2:return e.next=4,this.GetElements(this.props.location.state.body.Id);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("\u042f \u0432 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0442\u0435\u043c\u043f\u043b\u044d\u0439\u0442\u0430"),t.location.state.body.Id===this.props.location.state.body.Id){e.next=7;break}return this.setState({folders:null,elements:null,breadCrumbs:null}),e.next=5,this.GetFolders(this.props.location.state.body.Id);case 5:return e.next=7,this.GetElements(this.props.location.state.body.Id);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.folders||!this.state.elements)return Object(f.jsx)("div",{className:"waitingpage",children:Object(f.jsxs)("div",{className:"Loading",children:[Object(f.jsx)("img",{className:"logo",src:j,alt:"toolbaritem"}),Object(f.jsx)("label",{className:"formlabel",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})]})});var e=this.state,t=e.folders,n=e.elements,a=e.breadCrumbs;return Object(f.jsxs)("div",{className:"folderPage",children:[Object(f.jsxs)("div",{className:"Header",children:[Object(f.jsx)("div",{className:"BreadCrumbs",children:a.map((function(e){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)(c.b,{className:"BreadCrumb",to:{pathname:e.path,state:{body:e.body,breadCrumbs:a}},children:e.title}),"\u2002\u2192\u2002"]},e.title)}))}),Object(f.jsxs)("div",{className:"settingsinheader",children:[Object(f.jsx)("input",{type:"text",className:"search",placeholder:"\u043f\u043e\u0438\u0441\u043a"}),Object(f.jsx)(c.b,{to:{pathname:"/library",state:{breadCrumbs:a}},children:Object(f.jsx)("button",{className:"btn_logout",children:"\u043e\u0431\u0449\u0430\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430"})}),Object(f.jsx)(c.b,{to:{pathname:"/settings",state:{breadCrumbs:a}},children:Object(f.jsx)("button",{className:"btn_logout",children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),Object(f.jsx)("button",{className:"btn_logout",onClick:this.handleClick,children:"\u0432\u044b\u0445\u043e\u0434"}),Object(f.jsx)("img",{className:"logo",src:j,alt:"toolbaritem"})]})]}),Object(f.jsxs)("div",{className:"listview",children:[t.map((function(e){return Object(f.jsx)("div",{children:Object(f.jsx)(c.b,{className:"folderinlist",to:{pathname:"/template",state:{breadCrumbs:a,body:e}},children:Object(f.jsx)("div",{className:"NameElementOfList",children:e.Name})})},e.Id)})),n.map((function(e){return Object(f.jsx)("div",{children:Object(f.jsx)(c.b,{className:"elementinlist",to:{pathname:"/telement",state:{breadCrumbs:a,body:e}},children:Object(f.jsx)("div",{className:"NameElementOfList",children:e.Name})})},e.Id)})),Object(f.jsx)("div",{className:"foldercomponents"})]}),Object(f.jsx)("div",{className:"foldercomponents",children:Object(f.jsx)(q,{previouspages:a,parent:this.props.location.state.body})})]})}}]),n}(a.Component);function K(e,t){return Q.apply(this,arguments)}function Q(){return(Q=Object(u.a)(l.a.mark((function e(t,n){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={Name:t,ParentfolderId:Number(n)},e.next=3,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){s=e})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e,t){return J.apply(this,arguments)}function J(){return(J=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements"+"/image/".concat(t),{method:"POST",body:n,headers:{Accept:"application/json"}}).then((function(e){console.log(e.status)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={name:"",filepath:null,file:null},a.onChange=a.onChange.bind(Object(p.a)(a)),a.sendImage=a.sendImage.bind(Object(p.a)(a)),a.handleImageChange=a.handleImageChange.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"onChange",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"sendImage",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,K(this.state.name,this.props.folder.Id);case 3:if(n=e.sent,null==this.state.file){e.next=7;break}return e.next=7,Y(n,this.state.file);case 7:this.props.onClose(),window.location.reload();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleImageChange",value:function(e){if(e.preventDefault(),e.target.files.length>0){for(var t=new FormData,n=0;n<e.target.files.length;n++){var a=e.target.files[n];t.append("image",a)}this.setState({file:t,filepath:URL.createObjectURL(e.target.files[0])})}else null!=this.state.file&&this.setState({file:null,filepath:null})}},{key:"render",value:function(){var e=this;return this.props.show?Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.name,onChange:this.onChange}),Object(f.jsxs)("div",{className:"modal-image",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435:"}),Object(f.jsxs)("label",{className:"custom-file-upload",children:["\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",Object(f.jsx)("input",{type:"file",onChange:function(t){return e.handleImageChange(t)}})]}),null===this.state.filepath?Object(f.jsx)("div",{}):Object(f.jsx)("img",{className:"downloadimage",src:this.state.filepath})]})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.sendImage,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})}):null}}]),n}(a.Component);function Z(e,t){return _.apply(this,arguments)}function _(){return(_=Object(u.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={Name:t,ParentfolderId:Number(n)},e.next=3,fetch("https://creapediawebapi20210507000107.azurewebsites.net/folders",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).changedirectory=function(e){return function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},a.handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(a.props),e.next=4,Z(a.state.name,a.props.folder.Id);case 4:a.props.onClose(),window.location.reload();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={name:"",folders:null,breadCrumbs:null},a.onChange=a.onChange.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.changedirectory=a.changedirectory.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"onChange",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"render",value:function(){return this.props.show?Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.name,onChange:this.onChange})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})}):null}}]),n}(a.Component);function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ne=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,ee(a.props.component.Id);case 3:a.props.onClose(),a.setState({isdeleted:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),console.log(a.props),a.state={isdeleted:null},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"render",value:function(){if(console.log("\u0440\u0435\u043d\u0434\u0435\u0440 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f"),this.state.isdeleted){var e=this.props.prevpages;return e.length=e.length-1,this.setState({isdeleted:!1}),console.log("\u042f \u0432 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438"),Object(f.jsx)(o.a,{to:{pathname:e[e.length-1].path,state:{body:e[e.length-1].body,breadCrumbs:e}}})}return this.props.show?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsxs)("div",{className:"modal-title",children:["\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438 ",this.props.component.Name]})}),Object(f.jsx)("div",{className:"modal-body",children:Object(f.jsxs)("label",{className:"formlabel",children:[" ","\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443 ",this.props.component.Name,"?"]})}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u0414\u0430"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component);function ae(e,t,n,a,s){return se.apply(this,arguments)}function se(){return(se=Object(u.a)(l.a.mark((function e(t,n,a,s,r){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={IdFolder:Number(t),Name:n,IdParent:Number(a),subfolders:s,elements:r},e.next=3,fetch("https://creapediawebapi20210507000107.azurewebsites.net/folders",{method:"PUT",body:JSON.stringify(c),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var re=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).RemoveSubfolder=function(e){return function(t){a.setState((function(t){return{subfolders:t.subfolders.filter((function(t){return t.Id!==e}))}}))}},a.RemoveElement=function(e){return function(t){a.setState((function(t){return{elements:t.elements.filter((function(t){return t.Id!==e}))}}))}},a.changedirectory=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var s,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a.state.breadCrumbs,-1===(r=s.map((function(e){return e.body.Id})).indexOf(e.Id))?s.push({title:e.Name,path:"/projects",body:{Name:e.Name,Id:e.Id}}):s.length=r+1,t.next=5,fetch("https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(e.Id)).then((function(e){return e.json()})).then((function(t){a.setState({folders:t,breadCrumbs:s,path:{Name:e.Name,Id:e.Id}})})).catch((function(e){return console.log(e)}));case 5:console.log(a.state);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},a.ChangeShow=function(e){return function(t){a.setState({typeofedit:e})}},a.handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,ae(a.props.folder.Id,a.state.name,a.state.path.Id,a.state.subfolders,a.state.elements);case 3:a.props.onClose(),a.setState({needupate:!0}),window.location.reload();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={name:null,folders:null,isupdated:null,breadCrumbs:null,typeofedit:null,path:null,text:null,needupate:!0,subfolders:null,elements:null},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.showlocation=a.showlocation.bind(Object(p.a)(a)),a.Close=a.Close.bind(Object(p.a)(a)),a.onChange=a.onChange.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"Close",value:function(e){this.props.onClose(),this.setState({needupate:!0})}},{key:"onChange",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"GetSubFoldersAndElements",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){n=e})).catch((function(e){return console.log(e)}));case 2:return console.log(this.state),e.next=5,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){a=e})).catch((function(e){return console.log(e)}));case 5:this.setState({subfolders:n,elements:a});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"showlocation",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Id)).then((function(e){return e.json()})).then((function(e){"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===n.state.text?n.setState({text:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c",folders:e}):n.setState({text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.show||!this.state.needupate){e.next=4;break}return this.setState({name:this.props.folder.Name,folders:null,typeofedit:"folder",isupdated:null,needupate:!1,breadCrumbs:this.props.prevpages.filter((function(e){return e.body.Id!==n.props.folder.Id})),path:{Name:this.props.prevpages[this.props.prevpages.length-2].body.Name,Id:this.props.prevpages[this.props.prevpages.length-2].body.Id},text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"}),e.next=4,this.GetSubFoldersAndElements(this.props.folder.Id);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.show&&this.state.elements&&this.state.subfolders?Object(f.jsx)("div",{className:"ModalPage",onClick:this.Close,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u043f\u043a\u0443"})}),"folder"===this.state.typeofedit?Object(f.jsxs)("div",{className:"ShowSelector",children:[Object(f.jsx)("button",{className:"button-selector-modal current",children:"\u043f\u0430\u043f\u043a\u0430"}),Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("subfolders"),children:"\u043f\u043e\u0434\u043f\u0430\u043f\u043a\u0438"}),Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("elements"),children:"\u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b"})]}):null,"subfolders"===this.state.typeofedit?Object(f.jsxs)("div",{className:"ShowSelector",children:[Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("folder"),children:"\u043f\u0430\u043f\u043a\u0430"}),Object(f.jsx)("button",{className:"button-selector-modal current",children:"\u043f\u043e\u0434\u043f\u0430\u043f\u043a\u0438"}),Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("elements"),children:"\u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b"})]}):null,"elements"===this.state.typeofedit?Object(f.jsxs)("div",{className:"ShowSelector",children:[Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("folder"),children:"\u043f\u0430\u043f\u043a\u0430"}),Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("subfolders"),children:"\u043f\u043e\u0434\u043f\u0430\u043f\u043a\u0438"}),Object(f.jsx)("button",{className:"button-selector-modal current",children:"\u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b"})]}):null,"folder"===this.state.typeofedit?Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.name,onChange:this.onChange}),Object(f.jsx)("label",{className:"formlabel",children:"\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435:"}),Object(f.jsxs)("div",{className:"selectedpath",children:[Object(f.jsx)("label",{children:this.state.path.Name})," ",Object(f.jsxs)("button",{className:"arrow",onClick:this.showlocation,children:[" ",this.state.text," ","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?Object(f.jsx)("div",{children:"\u2002\u2193"}):Object(f.jsx)("div",{children:"\u2002\u2191"})," "]})]}),Object(f.jsx)("div",{className:"place",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?null:Object(f.jsxs)("div",{className:"parentwindowforselectingpath",children:[Object(f.jsx)("div",{className:"modalbreadcrumbs",children:this.state.breadCrumbs.slice(1).map((function(t){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)("button",{className:"BreadCrumb withoutframe",onClick:e.changedirectory({Id:t.body.Id,Name:t.body.Name}),children:t.title}),"\u2002\u2192\u2002"]},t.title)}))}),Object(f.jsx)("div",{className:"windowforselectingpath",children:Object(f.jsx)("div",{className:"modalfolders",children:this.state.folders.filter((function(t){return t.Id!==e.props.folder.Id})).map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonfolder",onClick:e.changedirectory({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))})})]})})]}):null,"subfolders"===this.state.typeofedit?Object(f.jsx)("div",{className:"modal-body-withoutcenter",children:this.state.subfolders.map((function(t){return Object(f.jsxs)("div",{className:"element-with-delete-button",children:[Object(f.jsx)("button",{className:"arrow",onClick:e.RemoveSubfolder(t.Id),children:"\u2297"}),Object(f.jsx)("label",{children:t.Name})]},t.Id)}))}):null,"elements"===this.state.typeofedit?Object(f.jsx)("div",{className:"modal-body-withoutcenter",children:this.state.elements.map((function(t){return Object(f.jsxs)("div",{className:"element-with-delete-button",children:[Object(f.jsx)("button",{className:"arrow",onClick:e.RemoveElement(t.Id),children:"\u2297"}),Object(f.jsx)("label",{children:t.Name})]},t.Id)}))}):null,Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"SaveButton button",onClick:this.handleSubmit,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)("button",{className:"CloseButton button",onClick:this.Close,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})}):null}}]),n}(a.Component);function ce(e,t,n){return oe.apply(this,arguments)}function oe(){return(oe=Object(u.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/importfromfolder?folderid=".concat(t,"&importcompid=").concat(n,"&type=").concat(a),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e,t,n){return le.apply(this,arguments)}function le(){return(le=Object(u.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/importfromlib?folderid=".concat(t,"&importcompid=").concat(n,"&password=").concat(a),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ue=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"fromfolder"!==a.state.importtype){e.next=8;break}return e.next=4,ce(a.props.folder.Id,a.state.path.Id,a.state.path.type);case 4:a.props.onClose(),window.location.reload(),e.next=16;break;case 8:if("fromlibrary"!==a.state.importtype){e.next=15;break}return e.next=11,ie(a.props.folder.Id,a.state.selcomp.Id,a.state.body);case 11:a.props.onClose(),window.location.reload(),e.next=16;break;case 15:alert("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0438\u043c\u043f\u043e\u0440\u0442\u0430");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.selectelement=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({path:{Name:e.Name,Id:e.Id,type:"element"}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},a.selectcomponent=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({selcomp:{Name:e.Name,Id:e.Id,type:e.type}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},a.changedirectory=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var s,r,c,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a.state.breadCrumbs,-1===(r=s.map((function(e){return e.body.Id})).indexOf(e.Id))?s.push({title:e.Name,path:"/projects",body:{Name:e.Name,Id:e.Id}}):s.length=r+1,t.next=5,fetch("https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(e.Id)).then((function(e){return e.json()})).then((function(e){c=e})).catch((function(e){return console.log(e)}));case 5:return t.next=7,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements"+"/".concat(e.Id)).then((function(e){return e.json()})).then((function(e){o=e})).catch((function(e){return console.log(e)}));case 7:a.setState({elements:o,folders:c,path:{Name:a.state.breadCrumbs[a.state.breadCrumbs.length-1].body.Name,Id:a.state.breadCrumbs[a.state.breadCrumbs.length-1].body.Id,type:"folder"}});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},console.log(a.props),a.state={importtype:null,body:null,path:{Name:a.props.folder.Name,Id:a.props.folder.Id,type:"folder"},selcomp:{Id:null,Name:"",type:""},libcomponents:null,folders:null,elements:null,breadCrumbs:a.props.prevpages,text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.setTypeOfImport=a.setTypeOfImport.bind(Object(p.a)(a)),a.showlocation=a.showlocation.bind(Object(p.a)(a)),a.onPasswordChange=a.onPasswordChange.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"setTypeOfImport",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("fromfolder"!==t.target.value){e.next=8;break}return e.next=3,fetch("https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(this.state.path.Id)).then((function(e){return e.json()})).then((function(e){n=e})).catch((function(e){return console.log(e)}));case 3:return e.next=5,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements"+"/".concat(this.state.path.Id)).then((function(e){return e.json()})).then((function(e){a=e})).catch((function(e){return console.log(e)}));case 5:this.setState({elements:a,folders:n,importtype:t.target.value,path:{Name:this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Name,Id:this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Id}}),e.next=11;break;case 8:return e.next=10,fetch("https://creapediawebapi20210507000107.azurewebsites.net/library/\u043f\u0430\u043f\u043a\u0430 \u0441 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430\u043c\u0438").then((function(e){return e.json()})).then((function(e){s=e})).catch((function(e){return console.log(e)}));case 10:this.setState({selcomp:{Id:null,Name:""},libcomponents:s,importtype:t.target.value});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"showlocation",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Id)).then((function(e){return e.json()})).then((function(e){n=e})).catch((function(e){return console.log(e)}));case 2:return e.next=4,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements"+"/".concat(this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Id)).then((function(e){return e.json()})).then((function(e){a=e})).catch((function(e){return console.log(e)}));case 4:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?this.setState({text:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c",folders:n,elements:a}):this.setState({text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onPasswordChange",value:function(e){this.setState({body:e.target.value})}},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.folder.Id!==this.props.folder.Id&&this.setState({importtype:null,body:"",selcomp:{Id:null,Name:""},path:{Name:this.props.folder.Name,Id:this.props.folder.Id,type:"folder"},libcomponents:null,folders:null,breadCrumbs:this.props.prevpages,text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.show?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsxs)("div",{className:"modal-title",children:["\u0418\u043c\u043f\u043e\u0440\u0442 \u0432 \u043f\u0430\u043f\u043a\u0443 ",this.props.folder.Name]})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsxs)("div",{className:"formwithradio",children:[Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfImport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"fromfolder",name:"gender"})," \u0418\u0437 \u0434\u0440\u0443\u0433\u043e\u0439 \u043f\u0430\u043f\u043a\u0438"]}),Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfImport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"fromlibrary",name:"gender"})," \u0418\u0437 \u043e\u0431\u0449\u0435\u0439 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438"]})]}),"fromlibrary"===this.state.importtype?Object(f.jsxs)("div",{className:"exportdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u0418\u043c\u043f\u043e\u0440\u0442:"}),Object(f.jsxs)("div",{className:"selectedpath",children:[Object(f.jsx)("label",{children:this.state.selcomp.Name})," "]}),Object(f.jsx)("div",{className:"place",children:Object(f.jsx)("div",{className:"parentwindowforselectingpath",children:Object(f.jsx)("div",{className:"windowforselectingpath",children:Object(f.jsx)("div",{children:this.state.libcomponents.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{onClick:e.selectcomponent({Id:t.Id,Name:t.Name,type:t.Typeofcomponent}),className:"libcomponent",children:[Object(f.jsx)("div",{children:t.Name})," ",Object(f.jsx)("div",{children:t.Typeofcomponent})]})},t.Id)}))})})})}),Object(f.jsxs)("div",{className:"exportdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.body,onChange:this.onPasswordChange})]})]}):null,"fromfolder"===this.state.importtype?Object(f.jsxs)("div",{className:"exportdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u0418\u043c\u043f\u043e\u0440\u0442:"}),Object(f.jsxs)("div",{className:"selectedpath",children:[Object(f.jsx)("label",{children:this.state.path.Name})," ",Object(f.jsxs)("button",{className:"arrow",onClick:this.showlocation,children:[" ",this.state.text," ","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?Object(f.jsx)("div",{children:"\u2002\u2193"}):Object(f.jsx)("div",{children:"\u2002\u2191"})," "]})]}),Object(f.jsx)("div",{className:"place",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?null:Object(f.jsxs)("div",{className:"parentwindowforselectingpath",children:[Object(f.jsx)("div",{className:"modalbreadcrumbs",children:this.state.breadCrumbs.slice(1).map((function(t){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)("button",{className:"BreadCrumb withoutframe",onClick:e.changedirectory({Id:t.body.Id,Name:t.body.Name}),children:t.title}),"\u2002\u2192\u2002"]},t.title)}))}),Object(f.jsx)("div",{className:"windowforselectingpath",children:Object(f.jsxs)("div",{className:"modalfolders import",children:[this.state.folders.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonfolder",onClick:e.changedirectory({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)})),this.state.elements.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonelement",onClick:e.selectelement({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))]})})]})})]}):null]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component);function de(e,t){return he.apply(this,arguments)}function he(){return(he=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/exporttouser?folderid=".concat(t,"&usermail=").concat(n),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e,t,n){return be.apply(this,arguments)}function be(){return(be=Object(u.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/exporttolibrary?folderid=".concat(t,"&name=").concat(n,"&password=").concat(a),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(e,t){return je.apply(this,arguments)}function je(){return(je=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/exporttofolder?folderid=".concat(t,"&newrootid=").concat(n),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fe=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"user"!==a.state.exporttype){e.next=6;break}return e.next=4,de(a.props.folder.Id,a.state.body);case 4:e.next=14;break;case 6:if("library"!==a.state.exporttype){e.next=11;break}return e.next=9,pe(a.props.folder.Id,a.props.folder.Name,a.state.body);case 9:e.next=14;break;case 11:if("folder"!==a.state.exporttype){e.next=14;break}return e.next=14,me(a.props.folder.Id,a.state.path.Id);case 14:a.props.onClose();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.changedirectory=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var s,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a.state.breadCrumbs,-1===(r=s.map((function(e){return e.body.Id})).indexOf(e.Id))?s.push({title:e.Name,path:"/projects",body:{Name:e.Name,Id:e.Id}}):s.length=r+1,t.next=5,fetch("https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(e.Id)).then((function(e){return e.json()})).then((function(t){a.setState({folders:t,breadCrumbs:s,path:{Name:e.Name,Id:e.Id}})})).catch((function(e){return console.log(e)}));case 5:console.log(a.state);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},console.log(a.props),a.state={exporttype:null,body:"",path:{Name:a.props.folder.Name,Id:a.props.folder.Id},folders:null,breadCrumbs:a.props.prevpages,text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.setTypeOfExport=a.setTypeOfExport.bind(Object(p.a)(a)),a.onMailChange=a.onMailChange.bind(Object(p.a)(a)),a.onPasswordChange=a.onPasswordChange.bind(Object(p.a)(a)),a.showlocation=a.showlocation.bind(Object(p.a)(a)),a.changedirectory=a.changedirectory.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"showlocation",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Id)).then((function(e){return e.json()})).then((function(e){"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===n.state.text?n.setState({text:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c",folders:e}):n.setState({text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTypeOfExport",value:function(e){"folder"===e.target.value?this.setState({exporttype:e.target.value,path:{Name:this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Name,Id:this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Id}}):this.setState({exporttype:e.target.value,body:""}),console.log("wow")}},{key:"onMailChange",value:function(e){this.setState({body:e.target.value})}},{key:"onPasswordChange",value:function(e){this.setState({body:e.target.value})}},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.folder.Id!==this.props.folder.Id&&this.setState({exporttype:null,body:"",path:{Name:this.props.folder.Name,Id:this.props.folder.Id},folders:null,breadCrumbs:this.props.prevpages,text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.show?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsxs)("div",{className:"modal-title",children:["\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u043f\u0430\u043f\u043a\u0438 ",this.props.folder.Name]})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsxs)("div",{className:"formwithradio",children:[Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfExport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"user",name:"gender"})," \u0414\u0440\u0443\u0433\u043e\u043c\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e"]}),Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfExport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"folder",name:"gender"})," \u0412 \u0434\u0440\u0443\u0433\u0443\u044e \u043f\u0430\u043f\u043a\u0443"]}),Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfExport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"library",name:"gender"})," \u0412 \u043e\u0431\u0449\u0443\u044e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443"]})]}),"user"===this.state.exporttype?Object(f.jsxs)("div",{className:"exportdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.body,onChange:this.onMailChange})]}):null,"library"===this.state.exporttype?Object(f.jsxs)("div",{className:"exportdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u0417\u0430\u0434\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.body,onChange:this.onPasswordChange})]}):null,"folder"===this.state.exporttype?Object(f.jsxs)("div",{className:"exportdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0432 \u043f\u0430\u043f\u043a\u0443:"}),Object(f.jsxs)("div",{className:"selectedpath",children:[Object(f.jsx)("label",{children:this.state.path.Name})," ",Object(f.jsxs)("button",{className:"arrow",onClick:this.showlocation,children:[" ",this.state.text," ","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?Object(f.jsx)("div",{children:"\u2002\u2193"}):Object(f.jsx)("div",{children:"\u2002\u2191"})," "]})]}),Object(f.jsx)("div",{className:"place",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?null:Object(f.jsxs)("div",{className:"parentwindowforselectingpath",children:[Object(f.jsx)("div",{className:"modalbreadcrumbs",children:this.state.breadCrumbs.slice(1).map((function(t){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)("button",{className:"BreadCrumb withoutframe",onClick:e.changedirectory({Id:t.body.Id,Name:t.body.Name}),children:t.title}),"\u2002\u2192\u2002"]},t.title)}))}),Object(f.jsx)("div",{className:"windowforselectingpath",children:Object(f.jsx)("div",{className:"modalfolders",children:this.state.folders.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonfolder",onClick:e.changedirectory({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))})})]})})]}):null]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component);function xe(e){var t=Object(a.useState)(!1),n=Object(O.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(!1),o=Object(O.a)(c,2),i=o[0],l=o[1],u=Object(a.useState)(!1),d=Object(O.a)(u,2),h=d[0],p=d[1],b=Object(a.useState)(!1),m=Object(O.a)(b,2),j=m[0],x=m[1],v=Object(a.useState)(!1),N=Object(O.a)(v,2),g=N[0],y=N[1],w=Object(a.useState)(!1),C=Object(O.a)(w,2),k=C[0],I=C[1];return Object(f.jsx)("div",{className:"ToolbarRelative",children:Object(f.jsxs)("div",{className:"Toolbar",children:[Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return r(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442"}),Object(f.jsx)(X,{prevpages:e.previouspages,folder:e.parent,onClose:function(){return r(!1)},show:s}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return l(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443"}),Object(f.jsx)($,{prevpages:e.previouspages,folder:e.parent,onClose:function(){return l(!1)},show:i}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return p(!0)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443"}),Object(f.jsx)(ne,{prevpages:e.previouspages,component:e.parent,onClose:function(){return p(!1)},show:h}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return x(!0)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443"}),Object(f.jsx)(re,{prevpages:e.previouspages,folder:e.parent,onClose:function(){return x(!1)},show:j}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return y(!0)},children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u043f\u0430\u043f\u043a\u0438"}),Object(f.jsx)(fe,{prevpages:e.previouspages,folder:e.parent,onClose:function(){return y(!1)},show:g}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return I(!0)},children:"\u0418\u043c\u043f\u043e\u0440\u0442 \u0432 \u043f\u0430\u043f\u043a\u0443"}),Object(f.jsx)(ue,{prevpages:e.previouspages,folder:e.parent,onClose:function(){return I(!1)},show:k})]})})}n(45);var Oe=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={search:"",folders:null,elements:null,breadCrumbs:null},a.handleClick=a.handleClick.bind(Object(p.a)(a)),a.Search=a.Search.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.history.push("/"),localStorage.clear(),window.location.reload()}},{key:"Search",value:function(e){this.setState({search:e.target.value})}},{key:"GetFolders",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.location.state.breadCrumbs,-1===(a=n.map((function(e){return e.body.Id})).indexOf(this.props.location.state.body.Id))?n.push({title:this.props.location.state.body.Name,path:"/projects",body:{Name:this.props.location.state.body.Name,Id:this.props.location.state.body.Id}}):n.length=a+1,e.next=5,fetch("https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){s.setState({folders:e,breadCrumbs:n,search:"  "})})).catch((function(e){return console.log(e)}));case 5:console.log(this.state);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetElements",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){n.setState({elements:e})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.GetFolders(this.props.location.state.body.Id);case 2:return e.next=4,this.GetElements(this.props.location.state.body.Id);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("\u042f \u0432 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0442\u0435\u043c\u043f\u043b\u044d\u0439\u0442\u0430"),t.location.state.body.Id===this.props.location.state.body.Id){e.next=7;break}return this.setState({search:"",folders:null,elements:null,breadCrumbs:null}),e.next=5,this.GetFolders(this.props.location.state.body.Id);case 5:return e.next=7,this.GetElements(this.props.location.state.body.Id);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(!this.state.folders||!this.state.elements)return Object(f.jsx)("div",{className:"waitingpage",children:Object(f.jsxs)("div",{className:"Loading",children:[Object(f.jsx)("img",{className:"logo",src:j,alt:"toolbaritem"}),Object(f.jsx)("label",{className:"formlabel",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})]})});var t=this.state,n=t.folders,a=t.elements,s=t.breadCrumbs;return Object(f.jsxs)("div",{className:"folderPage",children:[Object(f.jsxs)("div",{className:"Header",children:[Object(f.jsx)("div",{className:"BreadCrumbs",children:s.map((function(e){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)(c.b,{className:"BreadCrumb",to:{pathname:e.path,state:{body:e.body,breadCrumbs:s}},children:e.title}),"\u2002\u2192\u2002"]},e.title)}))}),Object(f.jsxs)("div",{className:"settingsinheader",children:[Object(f.jsx)("input",{type:"text",className:"search",onChange:this.Search,placeholder:"\u043f\u043e\u0438\u0441\u043a"}),Object(f.jsx)(c.b,{to:{pathname:"/library",state:{breadCrumbs:s}},children:Object(f.jsx)("button",{className:"btn_logout",children:"\u043e\u0431\u0449\u0430\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430"})}),Object(f.jsx)(c.b,{to:{pathname:"/settings",state:{breadCrumbs:s}},children:Object(f.jsx)("button",{className:"btn_logout",children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),Object(f.jsx)("button",{className:"btn_logout",onClick:this.handleClick,children:"\u0432\u044b\u0445\u043e\u0434"}),Object(f.jsx)("img",{className:"logo",src:j,alt:"toolbaritem"})]})]}),"  "===this.state.search?Object(f.jsxs)("div",{className:"listview",children:[n.map((function(e){return Object(f.jsx)("div",{children:Object(f.jsx)(c.b,{className:"folderinlist",to:{pathname:"/projects",state:{breadCrumbs:s,body:e}},children:Object(f.jsx)("div",{className:"NameElementOfList",children:e.Name})})},e.Id)})),a.map((function(e){return Object(f.jsx)("div",{children:Object(f.jsxs)(c.b,{className:"elementinlist",to:{pathname:"/element",state:{breadCrumbs:s,body:e}},children:[null!==e.Image?Object(f.jsx)("img",{className:"elementimage",src:"data:image/jpeg;base64,".concat(e.Image),alt:"No Image"}):Object(f.jsx)("div",{className:"NoImage",children:"No Image"}),Object(f.jsx)("div",{className:"NameElementOfList",children:e.Name})]})},e.Id)}))]}):Object(f.jsxs)("div",{className:"listview",children:[n.filter((function(t){return t.Name.includes(e.state.search)})).map((function(e){return Object(f.jsx)("div",{children:Object(f.jsx)(c.b,{className:"folderinlist",to:{pathname:"/projects",state:{breadCrumbs:s,body:e}},children:Object(f.jsx)("div",{className:"NameElementOfList",children:e.Name})})},e.Id)})),a.filter((function(t){return t.Name.includes(e.state.search)})).map((function(e){return Object(f.jsx)("div",{children:Object(f.jsxs)(c.b,{className:"elementinlist",to:{pathname:"/element",state:{breadCrumbs:s,body:e}},children:[null!==e.Image?Object(f.jsx)("img",{className:"elementimage",src:"data:image/jpeg;base64,".concat(e.Image),alt:"No Image"}):Object(f.jsx)("div",{className:"NoImage",children:"No Image"}),Object(f.jsx)("div",{className:"NameElementOfList",children:e.Name})]})},e.Id)}))]}),Object(f.jsx)("div",{className:"foldercomponents",children:Object(f.jsx)(xe,{previouspages:s,parent:this.props.location.state.body})})]})}}]),n}(a.Component),ve=n(17);function Ne(e,t){return ge.apply(this,arguments)}function ge(){return(ge=Object(u.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={characteristics:t,elementid:Number(n)},e.next=3,fetch("https://creapediawebapi20210507000107.azurewebsites.net/characteristics",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ye=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).ChangeName=function(e){return function(t){a.setState((function(n){var a=Object(ve.a)(n.characteristics);return a[e].name=t.target.value,{characteristics:a}}))}},a.ChangeValue=function(e){return function(t){a.setState((function(n){var a=Object(ve.a)(n.characteristics);return a[e].value=t.target.value,{characteristics:a}}))}},a.state={characteristics:null,currentchar:{name:"",value:""}},a.ChangeName=a.ChangeName.bind(Object(p.a)(a)),a.ChangeValue=a.ChangeValue.bind(Object(p.a)(a)),a.CreateNew=a.CreateNew.bind(Object(p.a)(a)),a.CreateNewName=a.CreateNewName.bind(Object(p.a)(a)),a.CreateNewValue=a.CreateNewValue.bind(Object(p.a)(a)),a.Save=a.Save.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"Save",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=[],n=""!==this.state.currentchar.name||""!==this.state.currentchar.name?null===this.state.characteristics?[{name:this.state.currentchar.name,value:this.state.currentchar.value,id:0}]:[].concat(Object(ve.a)(this.state.characteristics),[{name:this.state.currentchar.name,value:this.state.currentchar.value,id:this.state.characteristics.length}]):this.state.characteristics,e.next=5,Ne(n,this.props.element.Id);case 5:this.props.onClose(),window.location.reload();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"CreateNewName",value:function(e){var t=e.target.value;this.setState((function(e){return{currentchar:{name:t,value:e.currentchar.value}}}))}},{key:"CreateNewValue",value:function(e){var t=e.target.value;this.setState((function(e){return{currentchar:{name:e.currentchar.name,value:t}}}))}},{key:"CreateNew",value:function(e){e.preventDefault(),null===this.state.characteristics?this.setState((function(e){return{characteristics:[{name:e.currentchar.name,value:e.currentchar.value,id:0}],currentchar:{name:"",value:""}}})):this.setState((function(e){return{characteristics:[].concat(Object(ve.a)(e.characteristics),[{name:e.currentchar.name,value:e.currentchar.value,id:e.characteristics.length}]),currentchar:{name:"",value:""}}}))}},{key:"render",value:function(){var e=this;return this.props.show?Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsxs)("div",{className:"newcharswindow",children:[Object(f.jsxs)("div",{className:"newcharacter",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.currentchar.name,onChange:this.CreateNewName})]}),Object(f.jsxs)("div",{className:"newcharacter",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.currentchar.value,onChange:this.CreateNewValue})]}),null!==this.state.characteristics?this.state.characteristics.map((function(t){return Object(f.jsxs)("div",{className:"linenewchar",children:[Object(f.jsxs)("div",{className:"newcharacter",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:t.name,onChange:e.ChangeName(t.id)})]}),Object(f.jsxs)("div",{className:"newcharacter",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:t.value,onChange:e.ChangeValue(t.id)})]})]},t.id)})):null]}),Object(f.jsx)("button",{className:"arrow",onClick:this.CreateNew,children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u043e\u0434\u043d\u0443"})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.Save,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})}):null}}]),n}(a.Component);function we(e,t){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements"+"/templatefolder?templateid=".concat(t,"&elementid=").concat(n),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ke=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).Selecttelement=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({path:{Name:e.Name,Id:e.Id}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},a.handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,we(a.state.path.Id,a.props.element.Id);case 3:a.props.onClose(),window.location.reload();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.changedirectory=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var s,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a.state.breadCrumbs,-1===(r=s.map((function(e){return e.body.Id})).indexOf(e.Id))?s.push({title:e.Name,path:"/templates",body:{Name:e.Name,Id:e.Id}}):s.length=r+1,a.setState({breadCrumbs:s}),t.next=6,a.GetFoldersAndElements(e.Id,s);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},console.log(a.props),a.state={path:{Name:"",Id:null},isneedupdate:!0,folders:null,telements:null,breadCrumbs:null},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.changedirectory=a.changedirectory.bind(Object(p.a)(a)),a.Selecttelement=a.Selecttelement.bind(Object(p.a)(a)),a.CloseWindow=a.CloseWindow.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"CloseWindow",value:function(){this.props.onClose(),this.setState({isneedupdate:!0})}},{key:"GetFoldersAndElements",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){n=e})).catch((function(e){return console.log(e)}));case 2:return e.next=4,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templateelements"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){a=e})).catch((function(e){return console.log(e)}));case 4:this.setState({telements:a,folders:n});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.show){e.next=5;break}if(!0!==this.state.isneedupdate){e.next=5;break}return this.setState({path:{Name:"",Id:null},folders:null,telements:null,breadCrumbs:[{title:"\u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430",path:"/templae",body:{Name:"\u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430",Id:0}}],isneedupdate:!1}),e.next=5,this.GetFoldersAndElements(0,null);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.show&&this.state.breadCrumbs&&this.state.folders&&this.state.telements?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u0430"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsxs)("div",{className:"flexdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u0430:"}),Object(f.jsx)("label",{children:this.state.path.Name})]}),Object(f.jsx)("div",{className:"place",children:Object(f.jsxs)("div",{className:"parentwindowforselectingpath",children:[Object(f.jsx)("div",{className:"modalbreadcrumbs",children:this.state.breadCrumbs.map((function(t){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)("button",{className:"BreadCrumb withoutframe",onClick:e.changedirectory({Id:t.body.Id,Name:t.body.Name}),children:t.title}),"\u2002\u2192\u2002"]},t.title)}))}),Object(f.jsxs)("div",{className:"windowforselectingpath",children:[this.state.folders.length>0?Object(f.jsx)("div",{className:"modalfolders",children:this.state.folders.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonfolder",onClick:e.changedirectory({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))}):null,this.state.telements.length>0?Object(f.jsx)("div",{className:"modalfolders",children:this.state.telements.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonelement",onClick:e.Selecttelement({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))}):null]})]})})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0441"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.CloseWindow,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component);function Ie(e){return Se.apply(this,arguments)}function Se(){return(Se=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements"+"/".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ae=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Ie(a.props.element.Id);case 3:a.props.onClose(),a.setState({isdeleted:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),console.log(a.props),a.state={isdeleted:null},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"render",value:function(){if(console.log("\u0440\u0435\u043d\u0434\u0435\u0440 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f"),this.state.isdeleted){var e=this.props.prevpages;return e.length=e.length-1,this.setState({isdeleted:!1}),console.log("\u042f \u0432 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438"),Object(f.jsx)(o.a,{to:{pathname:e[e.length-1].path,state:{body:e[e.length-1].body,breadCrumbs:e}}})}return this.props.show?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsxs)("div",{className:"modal-title",children:["\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430 ",this.props.element.Name]})}),Object(f.jsx)("div",{className:"modal-body",children:Object(f.jsxs)("label",{className:"formlabel",children:[" \u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442 ",this.props.element.Name,"?"]})}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u0414\u0430"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component);function Te(e,t,n,a,s){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(u.a)(l.a.mark((function e(t,n,a,s,r){var c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={IdElement:Number(t),Name:n,characteristics:a,templatecharacteristics:s,relations:r},e.next=3,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements",{method:"PUT",body:JSON.stringify(o),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){c=e})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(e,t){return ze.apply(this,arguments)}function ze(){return(ze=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements"+"/image/".concat(t),{method:"POST",body:n,headers:{Accept:"application/json"}}).then((function(e){console.log(e.status)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Be=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).ChangeShow=function(e){return function(t){a.setState({typeofedit:e})}},a.DeleteChar=function(e){return function(t){a.setState((function(t){return{characteristics:t.characteristics.filter((function(t){return t.Id!==e}))}}))}},a.DeleteClass=function(e){return function(t){a.setState((function(t){return{templatecharacteristics:t.templatecharacteristics.filter((function(t){return t.Id!==e}))}}))}},a.DeleteRelation=function(e){return function(t){a.setState((function(t){return{relations:t.relations.filter((function(t){return t.Id!==e}))}}))}},a.state={templatecharacteristics:null,characteristics:null,typeofedit:"element",relations:null,file:null,filepath:null,name:a.props.element.Name,isneedupdate:!0},a.onChange=a.onChange.bind(Object(p.a)(a)),a.Save=a.Save.bind(Object(p.a)(a)),a.handleImageChange=a.handleImageChange.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"onChange",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"Save",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Te(this.props.element.Id,this.state.name,this.state.characteristics,this.state.templatecharacteristics,this.state.relations);case 3:if(n=e.sent,null==this.state.file){e.next=7;break}return e.next=7,Ee(n,this.state.file);case 7:this.props.onClose(),window.location.reload();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleImageChange",value:function(e){if(e.preventDefault(),e.target.files.length>0){for(var t=new FormData,n=0;n<e.target.files.length;n++){var a=e.target.files[n];t.append("image",a)}this.setState({file:t,filepath:URL.createObjectURL(e.target.files[0])})}else null!=this.state.file&&this.setState({file:null,filepath:null})}},{key:"GetFoldersElementsRelations",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/characteristics"+"/only?idelement=".concat(t)).then((function(e){return e.json()})).then((function(e){n=e})).catch((function(e){return console.log(e)}));case 2:return e.next=4,fetch("https://creapediawebapi20210507000107.azurewebsites.net/characteristics"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){a=e})).catch((function(e){return console.log(e)}));case 4:return e.next=6,fetch("https://creapediawebapi20210507000107.azurewebsites.net/relations"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){s=e})).catch((function(e){return console.log(e)}));case 6:this.setState({templatecharacteristics:n,characteristics:a,relations:s});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.show){e.next=5;break}if(!0!==this.state.isneedupdate){e.next=5;break}return this.setState({templatecharacteristics:null,characteristics:null,typeofedit:"element",relations:null,file:null,filepath:null,name:this.props.element.Name,isneedupdate:!1}),e.next=5,this.GetFoldersElementsRelations(this.props.element.Id);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.show&&this.state.characteristics&&this.state.templatecharacteristics&&this.state.relations?Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430"})}),"element"===this.state.typeofedit?Object(f.jsxs)("div",{className:"ShowSelector",children:[Object(f.jsx)("button",{className:"button-selector-modal current",children:"\u044d\u043b\u0435\u043c\u0435\u043d\u0442"}),Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("characteristics"),children:"\u0445\u0430\u0440\u0430\u043a\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("relations"),children:"\u0441\u0432\u044f\u0437\u0438"})]}):null,"characteristics"===this.state.typeofedit?Object(f.jsxs)("div",{className:"ShowSelector",children:[Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("element"),children:"\u044d\u043b\u0435\u043c\u0435\u043d\u0442"}),Object(f.jsx)("button",{className:"button-selector-modal current",children:"\u0445\u0430\u0440\u0430\u043a\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("relations"),children:"\u0441\u0432\u044f\u0437\u0438"})]}):null,"relations"===this.state.typeofedit?Object(f.jsxs)("div",{className:"ShowSelector",children:[Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("element"),children:"\u044d\u043b\u0435\u043c\u0435\u043d\u0442"}),Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("characteristics"),children:"\u0445\u0430\u0440\u0430\u043a\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),Object(f.jsx)("button",{className:"button-selector-modal current",children:"\u0441\u0432\u044f\u0437\u0438"})]}):null,"element"===this.state.typeofedit?Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.name,onChange:this.onChange}),Object(f.jsxs)("div",{className:"modal-image",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435:"}),Object(f.jsxs)("label",{className:"custom-file-upload",children:["\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",Object(f.jsx)("input",{type:"file",onChange:function(t){return e.handleImageChange(t)}})]}),null===this.state.filepath?Object(f.jsx)("div",{children:Object(f.jsx)("img",{className:"downloadimage",src:"data:image/jpeg;base64,".concat(this.props.element.Image)})}):Object(f.jsx)("img",{className:"downloadimage",src:this.state.filepath})]})]}):null,"characteristics"===this.state.typeofedit?Object(f.jsxs)("div",{children:[this.state.templatecharacteristics.map((function(t){return Object(f.jsxs)("div",{onClick:e.DeleteClass(t.Id),className:"element-with-delete-button ParentElement",children:[Object(f.jsx)("button",{className:"arrow",children:"\u2297"}),t.Name]},t.Id)})),this.state.characteristics.map((function(t){return Object(f.jsxs)("div",{onClick:e.DeleteChar(t.Id),className:"element-with-delete-button",children:[Object(f.jsx)("button",{className:"arrow",children:"\u2297"})," ",t.Name,": ",t.Value]},t.Id)}))]}):null,"relations"===this.state.typeofedit?Object(f.jsx)("div",{children:this.state.relations.map((function(t){return Object(f.jsxs)("div",{className:"element-with-delete-button",children:[Object(f.jsx)("button",{className:"arrow",onClick:e.DeleteRelation(t.Id),children:"\u2297"}),t.NameFirstElement,"\u2002\u2014\u2002",t.NameSecondElement]},t.Id)}))}):null,Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.Save,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})}):null}}]),n}(a.Component);function Me(e,t){return De.apply(this,arguments)}function De(){return(De=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements"+"/exporttouser?elementid=".concat(t,"&usermail=").concat(n),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(e,t,n){return Re.apply(this,arguments)}function Re(){return(Re=Object(u.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements"+"/exporttolibrary?elementid=".concat(t,"&name=").concat(n,"&password=").concat(a),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e,t){return Fe.apply(this,arguments)}function Fe(){return(Fe=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements"+"/exporttofolder?elementid=".concat(t,"&newrootid=").concat(n),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ue=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"user"!==a.state.exporttype){e.next=6;break}return e.next=4,Me(a.props.element.Id,a.element.body);case 4:e.next=14;break;case 6:if("library"!==a.state.exporttype){e.next=11;break}return e.next=9,Ge(a.props.element.Id,a.props.element.Name,a.state.body);case 9:e.next=14;break;case 11:if("folder"!==a.state.exporttype){e.next=14;break}return e.next=14,Le(a.props.element.Id,a.state.path.Id);case 14:a.props.onClose();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.changedirectory=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var s,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a.state.breadCrumbs,-1===(r=s.map((function(e){return e.body.Id})).indexOf(e.Id))?s.push({title:e.Name,path:"/projects",body:{Name:e.Name,Id:e.Id}}):s.length=r+1,t.next=5,fetch("https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(e.Id)).then((function(e){return e.json()})).then((function(t){a.setState({folders:t,breadCrumbs:s,path:{Name:e.Name,Id:e.Id}})})).catch((function(e){return console.log(e)}));case 5:console.log(a.state);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},console.log(a.props),a.state={exporttype:null,body:"",path:{Name:a.props.prevpages[a.props.prevpages.length-2].Name,Id:a.props.prevpages[a.props.prevpages.length-2].Id},folders:null,breadCrumbs:a.props.prevpages.filter((function(e){return e.body.Id!==a.props.element.Id})),text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.setTypeOfExport=a.setTypeOfExport.bind(Object(p.a)(a)),a.onMailChange=a.onMailChange.bind(Object(p.a)(a)),a.onPasswordChange=a.onPasswordChange.bind(Object(p.a)(a)),a.showlocation=a.showlocation.bind(Object(p.a)(a)),a.changedirectory=a.changedirectory.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"showlocation",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Id)).then((function(e){return e.json()})).then((function(e){"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===n.state.text?n.setState({text:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c",folders:e}):n.setState({text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTypeOfExport",value:function(e){"folder"===e.target.value?this.setState({exporttype:e.target.value,path:{Name:this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Name,Id:this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Id}}):this.setState({exporttype:e.target.value,body:""}),console.log("wow")}},{key:"onMailChange",value:function(e){this.setState({body:e.target.value})}},{key:"onPasswordChange",value:function(e){this.setState({body:e.target.value})}},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.element.Id!==this.props.element.Id&&this.setState({exporttype:null,body:"",path:{Name:this.props.prevpages[this.props.prevpages.length-1].Name,Id:this.props.prevpages[this.props.prevpages.length-1].Id},folders:null,breadCrumbs:this.props.prevpages.filter((function(e){return e.body.Id!==n.props.element.Id})),text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.show?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsxs)("div",{className:"modal-title",children:["\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430 ",this.props.element.Name]})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsxs)("div",{className:"formwithradio",children:[Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfExport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"user",name:"gender"})," \u0414\u0440\u0443\u0433\u043e\u043c\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e"]}),Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfExport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"folder",name:"gender"})," \u0412 \u0434\u0440\u0443\u0433\u0443\u044e \u043f\u0430\u043f\u043a\u0443"]}),Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfExport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"library",name:"gender"})," \u0412 \u043e\u0431\u0449\u0443\u044e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443"]})]}),"user"===this.state.exporttype?Object(f.jsxs)("div",{className:"exportdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.body,onChange:this.onMailChange})]}):null,"library"===this.state.exporttype?Object(f.jsxs)("div",{className:"exportdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u0417\u0430\u0434\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.body,onChange:this.onPasswordChange})]}):null,"folder"===this.state.exporttype?Object(f.jsxs)("div",{className:"exportdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0432 \u043f\u0430\u043f\u043a\u0443:"}),Object(f.jsxs)("div",{className:"selectedpath",children:[Object(f.jsx)("label",{children:this.state.path.Name})," ",Object(f.jsxs)("button",{className:"arrow",onClick:this.showlocation,children:[" ",this.state.text," ","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?Object(f.jsx)("div",{children:"\u2002\u2193"}):Object(f.jsx)("div",{children:"\u2002\u2191"})," "]})]}),Object(f.jsx)("div",{className:"place",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?null:Object(f.jsxs)("div",{className:"parentwindowforselectingpath",children:[Object(f.jsx)("div",{className:"modalbreadcrumbs",children:this.state.breadCrumbs.slice(1).map((function(t){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)("button",{className:"BreadCrumb withoutframe",onClick:e.changedirectory({Id:t.body.Id,Name:t.body.Name}),children:t.title}),"\u2002\u2192\u2002"]},t.title)}))}),Object(f.jsx)("div",{className:"windowforselectingpath",children:Object(f.jsx)("div",{className:"modalfolders",children:this.state.folders.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonfolder",onClick:e.changedirectory({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))})})]})})]}):null]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component);function Ve(e,t,n,a){return We.apply(this,arguments)}function We(){return(We=Object(u.a)(l.a.mark((function e(t,n,a,s){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={Firstelementid:Number(t),Secondelementid:Number(n),Rel1to2:a,Rel2to1:s},e.next=3,fetch("https://creapediawebapi20210507000107.azurewebsites.net/relations/relation2",{method:"POST",body:JSON.stringify(r),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(e,t,n){return He.apply(this,arguments)}function He(){return(He=Object(u.a)(l.a.mark((function e(t,n,a){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={Firstelementid:Number(t),Secondelementid:Number(n),Rel1to2:a,Rel2to1:null},e.next=3,fetch("https://creapediawebapi20210507000107.azurewebsites.net/relations/relation1",{method:"POST",body:JSON.stringify(s),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ke=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).Selecttelement=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({path:{Name:e.Name,Id:e.Id}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},a.handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"\u041e\u0434\u043d\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u044f\u044f"!==a.state.typeofrel){e.next=11;break}if(!a.state.defaultdirection){e.next=7;break}return e.next=5,qe(a.props.element.Id,a.state.path.Id,a.state.firstrel);case 5:e.next=9;break;case 7:return e.next=9,qe(a.state.path.Id,a.props.element.Id,a.state.firstrel);case 9:e.next=18;break;case 11:if(!a.state.defaultdirection){e.next=16;break}return e.next=14,Ve(a.props.element.Id,a.state.path.Id,a.state.firstrel,a.state.secondrel);case 14:e.next=18;break;case 16:return e.next=18,Ve(a.state.path.Id,a.props.element.Id,a.state.firstrel,a.state.secondrel);case 18:window.location.reload(),a.props.onClose();case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.changedirectory=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var s,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a.state.breadCrumbs,-1===(r=s.map((function(e){return e.body.Id})).indexOf(e.Id))?s.push({title:e.Name,path:"/templates",body:{Name:e.Name,Id:e.Id}}):s.length=r+1,a.setState({breadCrumbs:s}),t.next=6,a.GetFoldersAndElements(e.Id,s);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},console.log(a.props),a.state={path:{Name:"",Id:null},typeofrel:"\u041e\u0434\u043d\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u044f\u044f",firstrel:null,secondrel:null,defaultdirection:!0,isneedupdate:!0,folders:null,elements:null,breadCrumbs:a.props.prevpages.slice(0,-1)},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.changedirectory=a.changedirectory.bind(Object(p.a)(a)),a.Selecttelement=a.Selecttelement.bind(Object(p.a)(a)),a.CloseWindow=a.CloseWindow.bind(Object(p.a)(a)),a.changedirection=a.changedirection.bind(Object(p.a)(a)),a.changeonelinerel=a.changeonelinerel.bind(Object(p.a)(a)),a.changesecondlinerel=a.changesecondlinerel.bind(Object(p.a)(a)),a.changetypeofrel=a.changetypeofrel.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"changetypeofrel",value:function(e){"\u041e\u0434\u043d\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u044f\u044f"===this.state.typeofrel?this.setState({typeofrel:"\u0414\u0432\u0443\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u044f\u044f"}):this.setState({typeofrel:"\u041e\u0434\u043d\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u044f\u044f"})}},{key:"changeonelinerel",value:function(e){this.setState({firstrel:e.target.value})}},{key:"changesecondlinerel",value:function(e){this.setState({secondrel:e.target.value})}},{key:"changedirection",value:function(e){this.state.defaultdirection?this.setState({defaultdirection:!1}):this.setState({defaultdirection:!0})}},{key:"CloseWindow",value:function(){this.props.onClose(),this.setState({isneedupdate:!0})}},{key:"GetFoldersAndElements",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){n=e})).catch((function(e){return console.log(e)}));case 2:return e.next=4,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){a=e})).catch((function(e){return console.log(e)}));case 4:this.setState({folders:n,elements:a});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.show){e.next=5;break}if(!0!==this.state.isneedupdate){e.next=5;break}return this.setState({path:{Name:"",Id:null},defaultdirection:!0,isneedupdate:!1,folders:null,elements:null,breadCrumbs:this.props.prevpages.slice(0,-1)}),e.next=5,this.GetFoldersAndElements(this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Id);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.show&&this.state.breadCrumbs&&this.state.folders&&this.state.elements?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0432\u044f\u0437\u0438"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsxs)("div",{className:"flexdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u0421\u0432\u044f\u0437\u0430\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0441:"}),Object(f.jsx)("label",{children:""!==this.state.path.Name?Object(f.jsx)("div",{children:this.state.path.Name}):Object(f.jsx)("div",{children:"\u2002 \u042d\u043b\u0435\u043c\u0435\u043d\u0442 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d"})})]}),Object(f.jsx)("div",{className:"place",children:Object(f.jsxs)("div",{className:"parentwindowforselectingpath",children:[Object(f.jsx)("div",{className:"modalbreadcrumbs",children:this.state.breadCrumbs.slice(1).map((function(t){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)("button",{className:"BreadCrumb withoutframe",onClick:e.changedirectory({Id:t.body.Id,Name:t.body.Name}),children:t.title}),"\u2002\u2192\u2002"]},t.title)}))}),Object(f.jsxs)("div",{className:"windowforselectingpath",children:[this.state.folders.length>0?Object(f.jsx)("div",{className:"modalfolders",children:this.state.folders.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonfolder",onClick:e.changedirectory({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))}):null,this.state.elements.length>0?Object(f.jsx)("div",{className:"modalfolders",children:this.state.elements.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonelement",onClick:e.Selecttelement({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))}):null]})]})}),""!==this.state.path.Name?Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"Relations",children:[Object(f.jsxs)("div",{className:"flexdiv",children:[this.state.defaultdirection?Object(f.jsxs)("label",{className:"formlabel",children:["\u0421\u0432\u044f\u0437\u044c ",this.props.element.Name," \u0441 ",this.state.path.Name]}):Object(f.jsxs)("label",{className:"formlabel",children:["\u0421\u0432\u044f\u0437\u044c ",this.state.path.Name," \u0441 ",this.props.element.Name]}),Object(f.jsx)("button",{className:"button arrow",onClick:this.changedirection,children:"\u2194"})]}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.firstrel,onChange:this.changeonelinerel})]}),"\u0414\u0432\u0443\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u044f\u044f"===this.state.typeofrel?Object(f.jsxs)("div",{className:"Relations",children:[Object(f.jsx)("div",{className:"flexdiv",children:this.state.defaultdirection?Object(f.jsxs)("label",{className:"formlabel",children:["\u0421\u0432\u044f\u0437\u044c ",this.state.path.Name," \u0441 ",this.props.element.Name]}):Object(f.jsxs)("label",{className:"formlabel",children:["\u0421\u0432\u044f\u0437\u044c ",this.props.element.Name," \u0441 ",this.state.path.Name]})}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.secondrel,onChange:this.changesecondlinerel})]}):null,Object(f.jsxs)("div",{className:"flexdiv",children:[Object(f.jsxs)("label",{className:"formlabel",children:["\u0422\u0438\u043f \u0441\u0432\u044f\u0437\u0438: ",this.state.typeofrel]}),Object(f.jsx)("button",{className:"arrow",onClick:this.changetypeofrel,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]})]}):null]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u0421\u0432\u044f\u0437\u0430\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.CloseWindow,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component);function Qe(e){var t=Object(a.useState)(!1),n=Object(O.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(!1),o=Object(O.a)(c,2),i=o[0],l=o[1],u=Object(a.useState)(!1),d=Object(O.a)(u,2),h=d[0],p=d[1],b=Object(a.useState)(!1),m=Object(O.a)(b,2),j=m[0],x=m[1],v=Object(a.useState)(!1),N=Object(O.a)(v,2),g=N[0],y=N[1],w=Object(a.useState)(!1),C=Object(O.a)(w,2),k=C[0],I=C[1];return Object(f.jsx)("div",{className:"ToolbarRelative",children:Object(f.jsxs)("div",{className:"Toolbar",children:[Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return r(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),Object(f.jsx)(ye,{element:e.parent,prevpages:e.previouspages,onClose:function(){return r(!1)},show:s}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return l(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0441"}),Object(f.jsx)(ke,{element:e.parent,prevpages:e.previouspages,onClose:function(){return l(!1)},show:i}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return I(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0432\u044f\u0437\u044c"}),Object(f.jsx)(Ke,{element:e.parent,prevpages:e.previouspages,onClose:function(){return I(!1)},show:k}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return p(!0)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442"}),Object(f.jsx)(Ae,{prevpages:e.previouspages,element:e.parent,onClose:function(){return p(!1)},show:h}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return y(!0)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442"}),Object(f.jsx)(Be,{element:e.parent,prevpages:e.previouspages,onClose:function(){return y(!1)},show:g}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return x(!0)},children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430"}),Object(f.jsx)(Ue,{element:e.parent,prevpages:e.previouspages,onClose:function(){return x(!1)},show:j})]})})}n(46);var Ye="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAxYAAAAoCAYAAABjJmznAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPESURBVHgB7d2xbhN3HMDx3/8SOWVq3qDmCZqlE6rkhE4VQ/IEOCPQChiSsgFbm1ZKhkLGJk9AO7QSC3YHJLbyBvgR0i3Q5v69MyKiwQ4YuxVwn8/m+50jK4Plr+7+908BAAA0RufadrtonbmaU17KTw/X+jvXD2IGUgAAAB+8zsb2UlF8dDVy7r44VsXA46NnT5dnERdFAAAAH7witVZfjopajliaay30qqsYizElYQEAAA1QFsVeFRKDk8dnFRduhQIAgIbo3NhtpzL3qghon5xNe1uUsAAAgAap46Ioyz+qFBh1hWJQPo+LQUzIrVAAANAg/W8vDcocyxF51JWJdvH8tqh2TEhYAABAw/S/v/K4LMu1MeO3igthAQAADdT/4et+mfP6mPHEcSEsAACgoaorF3sR+faY8URxMRcAAEBjPXn4W//suS9TROqMGC+mufnVTz774pfBo/unPi3KU6EAAIBY2bizEyldHTMelDmv1Wszxr1fWAAAAEPLmz/upSgujhkfVHGxPC4uhAUAAHDs/MZuL6fcGTcvI7r9rcv7J49bvA0AABw7+utwLUeMveWpCoi9lc3dmyePW7wNAAAcGzy6f9j+/ML9yLGaIhbHnNY5e+5CPHn46+8vDqSVjTvdUWemlA6OyqNTV37DG/t7fhAwtcOD/s5130sA8D/o3NhtpzL3qrhojz8r3XqwdWn4uNq0snk3BwA0Sq4CNYlUppZzGgTMQPXjfRDvoBS5nVN0XnPSzoPvLl8XFgAAwHRy3rN4GwAAmE5KXWEBAABMpX6KlLAAAADeWh0V+dmZ5fkAAIBXvD8POah+2B4U+T35rKn6v74nn7XyZxTxceTcPeWcn6uoWO/vrB/YeRsAAHhF59p2u2gt9GLM42ZzlPu9ra+6L14LCwAA4F8mjYqaNRYAAMCxKioW51oL92KCqKgJCwAA4FgVFb0csTR6mm+PioqasAAAAIZWvrnz02lR8WDryq1x7xUWAABArGzu3oycuqOnp0dFzeJtAABouGFURL41evr6qKgJCwAAaLBZREVNWAAAQEN1Nu9eLCL2Rk/fPCpqwgIAABro/Obd1Rxxb/R0sqioCQsAAGiYzsb2UpFavSoHFl+dTh4VtfkAAAAaY7irdhpugDezqKi5YgEAAA0xjIrWQnWlYtSu2m8fFTVhAQAADXBaVOQo98ftqP2mbJAHAAANULRa3fiPomL49wMAAPjglUWxlyP2Xz5WvX48i6iouRUKAAAapHNjt53K4YZ4n+ZnZ5b7O+sHMQP/AMBKP3wl6wERAAAAAElFTkSuQmCC",Je=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).ChangeShow=function(e){return function(t){a.setState({showcharacreristics:e})}},a.state={templatecharacteristics:null,breadCrumbs:null,characteristics:null,showcharacreristics:!0,relations:null},a}return Object(h.a)(n,[{key:"GetTemplateCharacteristics",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.location.state.breadCrumbs,-1===(a=n.map((function(e){return e.body.Id})).indexOf(this.props.location.state.body.Id))?n.push({title:this.props.location.state.body.Name,path:"/element",body:{Name:this.props.location.state.body.Name,Id:this.props.location.state.body.Id}}):n.length=a+1,console.log("https://creapediawebapi20210507000107.azurewebsites.net/characteristics"+"?idelement=".concat(t)),e.next=6,fetch("https://creapediawebapi20210507000107.azurewebsites.net/characteristics"+"?idelement=".concat(t)).then((function(e){return e.json()})).then((function(e){s.setState({templatecharacteristics:e,breadCrumbs:n})})).catch((function(e){return console.log(e)}));case 6:console.log(this.state);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetCharacteristics",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/characteristics"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){n.setState({characteristics:e})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetRelations",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/relations"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){n.setState({relations:e})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.GetTemplateCharacteristics(this.props.location.state.body.Id);case 2:return e.next=4,this.GetCharacteristics(this.props.location.state.body.Id);case 4:return e.next=6,this.GetRelations(this.props.location.state.body.Id);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.templatecharacteristics||!this.state.characteristics)return Object(f.jsx)("div",{className:"waitingpage",children:Object(f.jsxs)("div",{className:"Loading",children:[Object(f.jsx)("img",{className:"logo",src:j,alt:"toolbaritem"}),Object(f.jsx)("label",{className:"formlabel",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})]})});var e=this.state,t=e.templatecharacteristics,n=e.characteristics,a=e.breadCrumbs,s=e.showcharacreristics,r=e.relations,o=t.map((function(e){return{idparent:e.IdParent,name:e.NameParent}})),i=new Set,l=o.reduce((function(e,t){return i.has(t.idparent)||(i.add(t.idparent,t),e.push(t)),e}),[]);return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"Header",children:[Object(f.jsx)("div",{className:"BreadCrumbs",children:a.map((function(e){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)(c.b,{className:"BreadCrumb",to:{pathname:e.path,state:{body:e.body,breadCrumbs:a}},children:e.title}),"\u2002\u2192\u2002"]},e.title)}))}),Object(f.jsxs)("div",{className:"settingsinheader",children:[Object(f.jsx)("input",{type:"text",className:"search",placeholder:"\u043f\u043e\u0438\u0441\u043a"}),Object(f.jsx)(c.b,{to:{pathname:"/library",state:{breadCrumbs:a}},children:Object(f.jsx)("button",{className:"btn_logout",children:"\u043e\u0431\u0449\u0430\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430"})}),Object(f.jsx)(c.b,{to:{pathname:"/settings",state:{breadCrumbs:a}},children:Object(f.jsx)("button",{className:"btn_logout",children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),Object(f.jsx)("button",{className:"btn_logout",onClick:this.handleClick,children:"\u0432\u044b\u0445\u043e\u0434"}),Object(f.jsx)("img",{className:"logo",src:j,alt:"toolbaritem"})]})]}),Object(f.jsxs)("div",{className:"ElementBody",children:[Object(f.jsxs)("div",{className:"Characteristics",children:[s?Object(f.jsxs)("div",{className:"ShowMenu",children:[Object(f.jsx)("button",{className:"button current",children:"\u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),Object(f.jsx)("button",{className:"button",onClick:this.ChangeShow(!1),children:"\u0441\u0432\u044f\u0437\u0438"})]}):Object(f.jsxs)("div",{className:"ShowMenu",children:[Object(f.jsx)("button",{className:"button",onClick:this.ChangeShow(!0),children:"\u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),Object(f.jsx)("button",{className:"button current",children:"\u0441\u0432\u044f\u0437\u0438"})]}),s?Object(f.jsxs)("div",{children:[l.map((function(e){return Object(f.jsxs)("div",{className:"ParentElement",children:[e.name,t.filter((function(t){return t.IdParent===e.idparent})).map((function(e){return Object(f.jsxs)("div",{className:"ParentCharacteristic",children:[e.NameCharacter,": ",e.ValueCharacter]},e.IdCharacter)}))]},e.idparent)})),n.map((function(e){return Object(f.jsxs)("div",{children:[e.Name,": ",e.Value]},e.Id)}))]}):Object(f.jsx)("div",{className:"container-center",children:Object(f.jsx)("div",{className:"relations",children:r.map((function(e){return Object(f.jsx)("div",{children:null==e.Rel2to1?Object(f.jsxs)("div",{className:"onerelation",children:[e.NameFirstElement,Object(f.jsxs)("div",{className:"relation",children:[Object(f.jsx)("div",{className:"firstelement",children:e.Rel1to2}),Object(f.jsx)("img",{src:Ye,className:"imagearrow",alt:"toolbaritem"})]}),e.NameSecondElement]}):Object(f.jsxs)("div",{className:"onerelation",children:[e.NameFirstElement,Object(f.jsxs)("div",{className:"relation",children:[Object(f.jsx)("div",{className:"firstelement",children:e.Rel1to2}),Object(f.jsx)("img",{src:Ye,className:"imagearrow",alt:"toolbaritem"}),Object(f.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAxYAAAAoCAYAAABjJmznAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOsSURBVHgB7d2xbxtVHMDx37sUp2z+Dwj/QTowsdiGBSb4D9wxCYh0aMrWdKtcpGRJOyaMTO2ExBJ7QWIjbGz4T8jYVuDHXUmhLTk7sQNqcp/PFN+9WCdHivzVu/cuxQXpbO60l1rLw5zS0eTZ03uj3VvjAAAAGiHFBflo6+HPOWL1n3dOBwIDAACaoYgL0Luzt/9aVFRy7hetVj8AAIAr71osqIqKyKn/5vEyNMa5KA4CAAC48haasehtPbpbHxWpO7q/Ng4AAODKm3uNxYuoiLz95nFRAQAAzbMUc6iLivLYcc7xyWiw/msAAACNce41FvVRUU1/pJujB+tHAQAANMq5wmJaVExyLqNi40kAAACNc+bF29Oiojx+r4yKgwAAABrpTIu3Z0XF4WBjOwAAgMaaGRaiAgAAmGVqWEyLihyTb4eDL/oBAAA0Xm1YTI+KOBoO1m8EAABA1OwK1buztx859087V0VFfv5uNwAAAE78a1eov6Ii9U8bfPJU7c9HuzePAwAA4MRrt0KdISq6o/tr4wAAAHjFi7DobO60i9byfvnjZ/Uj00EZHceRczsug5TbOadLca1Fda0Rl+Nzjervfzk+VwAA/j+pioql1vKw/GK7GgAAAHMoRAUAALCoQlQAAACLKqoH3QUAAMACXize7t3e242Uvpo2MOc0KgeP4y1UXtdKwAXIKa8ELMwmBwA0z9/bzfa29rbLl3enjB1Pnj/rjnZvjQMA+M91NvfLQH0qUlnctd9XAi5CjnZRFKf+X3r9ORbiAgAAmMPSqy9++/H70fsffpqqXWhrxreLpWud9z74+LvxTz88DQAAgFLx5oHDwcb2JOebdb9Q7SKV3rn+OAAAAE6kuhOd23urRYph7QLEnA8OH2zUBggAANAcRd2J0YONo0mObq7bCSqlfu/Ow50AAAAar5h2soqLXKT6uMix2dt6NG2xNwAA0ADpLIM6Xz9aSZM8rH9eRNo+HKzdCwAAoJHOFBaVWXExieiPBuue4g0AAA105rCozIyLyR/d0TdfjgIAAGiUc4VFZUZcHE9y7lZrMwIAAGiMc4dFZWZcPH92w9O5AQCgOYqYw+j+2jiX8ZAjTpuZaBet5WFnc2clAACARphrxuKlMh7aqYyI8k1WTzk9LmcuumYuAADg6ptrxuKlMhqOy5mLbs3MxUrRavUDAAC48hYKi0ptXKR0MMnxJAAAgCtvoVuhXlXdFrW0fP1xnsQvk6XYrdZhBAAA0Ah/AtYESHtuzTU8AAAAAElFTkSuQmCC",className:"imagearrow",alt:"toolbaritem"}),Object(f.jsx)("div",{className:"secondelement",children:e.Rel2to1})]}),e.NameSecondElement]})},e.IdFirst)}))})})]}),Object(f.jsx)("img",{className:"ImageElement",src:"data:image/jpeg;base64,".concat(this.props.location.state.body.Image)})]}),Object(f.jsx)(Qe,{previouspages:a,parent:this.props.location.state.body})]})}}]),n}(a.Component);function Xe(e,t){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(u.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={characteristics:t,elementid:Number(n)},e.next=3,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatecharacteristics",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _e=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).ChangeName=function(e){return function(t){a.setState((function(n){var a=Object(ve.a)(n.characteristics);return a[e].name=t.target.value,{characteristics:a}}))}},a.ChangeValue=function(e){return function(t){a.setState((function(n){var a=Object(ve.a)(n.characteristics);return a[e].value=t.target.value,{characteristics:a}}))}},a.state={characteristics:null,currentchar:{name:"",value:""}},a.ChangeName=a.ChangeName.bind(Object(p.a)(a)),a.ChangeValue=a.ChangeValue.bind(Object(p.a)(a)),a.CreateNew=a.CreateNew.bind(Object(p.a)(a)),a.CreateNewName=a.CreateNewName.bind(Object(p.a)(a)),a.CreateNewValue=a.CreateNewValue.bind(Object(p.a)(a)),a.Save=a.Save.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"Save",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=[],n=""!==this.state.currentchar.name||""!==this.state.currentchar.name?null===this.state.characteristics?[{name:this.state.currentchar.name,value:this.state.currentchar.value,id:0}]:[].concat(Object(ve.a)(this.state.characteristics),[{name:this.state.currentchar.name,value:this.state.currentchar.value,id:this.state.characteristics.length}]):this.state.characteristics,e.next=5,Xe(n,this.props.element.Id);case 5:this.props.onClose(),window.location.reload();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"CreateNewName",value:function(e){var t=e.target.value;this.setState((function(e){return{currentchar:{name:t,value:e.currentchar.value}}}))}},{key:"CreateNewValue",value:function(e){var t=e.target.value;this.setState((function(e){return{currentchar:{name:e.currentchar.name,value:t}}}))}},{key:"CreateNew",value:function(e){e.preventDefault(),null===this.state.characteristics?this.setState((function(e){return{characteristics:[{name:e.currentchar.name,value:e.currentchar.value,id:0}],currentchar:{name:"",value:""}}})):this.setState((function(e){return{characteristics:[].concat(Object(ve.a)(e.characteristics),[{name:e.currentchar.name,value:e.currentchar.value,id:e.characteristics.length}]),currentchar:{name:"",value:""}}}))}},{key:"render",value:function(){var e=this;return this.props.show?Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsxs)("div",{className:"newcharswindow",children:[Object(f.jsxs)("div",{className:"newcharacter",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.currentchar.name,onChange:this.CreateNewName})]}),Object(f.jsxs)("div",{className:"newcharacter",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.currentchar.value,onChange:this.CreateNewValue})]}),null!==this.state.characteristics?this.state.characteristics.map((function(t){return Object(f.jsxs)("div",{className:"linenewchar",children:[Object(f.jsxs)("div",{className:"newcharacter",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:t.name,onChange:e.ChangeName(t.id)})]}),Object(f.jsxs)("div",{className:"newcharacter",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:t.value,onChange:e.ChangeValue(t.id)})]})]},t.id)})):null]}),Object(f.jsx)("button",{className:"arrow",onClick:this.CreateNew,children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u043e\u0434\u043d\u0443"})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.Save,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})}):null}}]),n}(a.Component);function $e(e,t){return et.apply(this,arguments)}function et(){return(et=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templateelements"+"/templatefolder?templateid=".concat(t,"&elementid=").concat(n),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tt=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).Selecttelement=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({path:{Name:e.Name,Id:e.Id}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},a.handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,$e(a.state.path.Id,a.props.element.Id);case 3:a.props.onClose(),window.location.reload();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.changedirectory=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var s,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a.state.breadCrumbs,-1===(r=s.map((function(e){return e.body.Id})).indexOf(e.Id))?s.push({title:e.Name,path:"/templates",body:{Name:e.Name,Id:e.Id}}):s.length=r+1,a.setState({breadCrumbs:s}),t.next=6,a.GetFoldersAndElements(e.Id,s);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},console.log(a.props),a.state={path:{Name:"",Id:null},isneedupdate:!0,folders:null,telements:null,breadCrumbs:null},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.changedirectory=a.changedirectory.bind(Object(p.a)(a)),a.Selecttelement=a.Selecttelement.bind(Object(p.a)(a)),a.CloseWindow=a.CloseWindow.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"CloseWindow",value:function(){this.props.onClose(),this.setState({isneedupdate:!0})}},{key:"GetFoldersAndElements",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){n=e})).catch((function(e){return console.log(e)}));case 2:return e.next=4,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templateelements"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){a=e})).catch((function(e){return console.log(e)}));case 4:this.setState({telements:a,folders:n});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.show){e.next=5;break}if(!0!==this.state.isneedupdate){e.next=5;break}return this.setState({path:{Name:"",Id:null},folders:null,telements:null,breadCrumbs:[{title:"\u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430",path:"/templae",body:{Name:"\u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430",Id:0}}],isneedupdate:!1}),e.next=5,this.GetFoldersAndElements(0,null);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.show&&this.state.breadCrumbs&&this.state.folders&&this.state.telements?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u0430"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsxs)("div",{className:"flexdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u0430:"}),Object(f.jsx)("label",{children:this.state.path.Name})]}),Object(f.jsx)("div",{className:"place",children:Object(f.jsxs)("div",{className:"parentwindowforselectingpath",children:[Object(f.jsx)("div",{className:"modalbreadcrumbs",children:this.state.breadCrumbs.map((function(t){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)("button",{className:"BreadCrumb withoutframe",onClick:e.changedirectory({Id:t.body.Id,Name:t.body.Name}),children:t.title}),"\u2002\u2192\u2002"]},t.title)}))}),Object(f.jsxs)("div",{className:"windowforselectingpath",children:[this.state.folders.length>0?Object(f.jsx)("div",{className:"modalfolders",children:this.state.folders.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonfolder",onClick:e.changedirectory({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))}):null,this.state.telements.length>0?Object(f.jsx)("div",{className:"modalfolders",children:this.state.telements.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonelement",onClick:e.Selecttelement({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))}):null]})]})})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0441"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.CloseWindow,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component);function nt(e){return at.apply(this,arguments)}function at(){return(at=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templateelements"+"/".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var st=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,nt(a.props.component.Id);case 3:a.props.onClose(),a.setState({isdeleted:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),console.log(a.props),a.state={isdeleted:null},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"render",value:function(){if(this.state.isdeleted){var e=this.props.prevpages;return e.length=e.length-1,this.setState({isdeleted:!1}),Object(f.jsx)(o.a,{to:{pathname:e[e.length-1].path,state:{body:e[e.length-1].body,breadCrumbs:e}}})}return this.props.show?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsxs)("div",{className:"modal-title",children:["\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u0430 ",this.props.component.Name]})}),Object(f.jsx)("div",{className:"modal-body",children:Object(f.jsxs)("label",{className:"formlabel",children:[" \u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0441 ",this.props.component.Name,"?"]})}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u0414\u0430"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component);function rt(e,t,n,a){return ct.apply(this,arguments)}function ct(){return(ct=Object(u.a)(l.a.mark((function e(t,n,a,s){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={IdElement:Number(t),Name:n,characteristics:a,templatecharacteristics:s},e.next=3,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templateelements",{method:"PUT",body:JSON.stringify(c),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){r=e})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ot=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).ChangeShow=function(e){return function(t){a.setState({typeofedit:e})}},a.DeleteChar=function(e){return function(t){a.setState((function(t){return{characteristics:t.characteristics.filter((function(t){return t.Id!==e}))}}))}},a.DeleteClass=function(e){return function(t){a.setState((function(t){return{templatecharacteristics:t.templatecharacteristics.filter((function(t){return t.Id!==e}))}}))}},a.DeleteRelation=function(e){return function(t){a.setState((function(t){return{relations:t.relations.filter((function(t){return t.Id!==e}))}}))}},a.state={templatecharacteristics:null,characteristics:null,typeofedit:"element",name:a.props.element.Name,isneedupdate:!0},a.onChange=a.onChange.bind(Object(p.a)(a)),a.Save=a.Save.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"onChange",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"Save",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,rt(this.props.element.Id,this.state.name,this.state.characteristics,this.state.templatecharacteristics,this.state.relations);case 3:e.sent,this.props.onClose(),window.location.reload();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetFoldersElementsRelations",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatecharacteristics"+"/only?idelement=".concat(t)).then((function(e){return e.json()})).then((function(e){n=e})).catch((function(e){return console.log(e)}));case 2:return e.next=4,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatecharacteristics"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){a=e})).catch((function(e){return console.log(e)}));case 4:this.setState({templatecharacteristics:n,characteristics:a});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.show){e.next=5;break}if(!0!==this.state.isneedupdate){e.next=5;break}return this.setState({templatecharacteristics:null,characteristics:null,typeofedit:"element",name:this.props.element.Name,isneedupdate:!1}),e.next=5,this.GetFoldersElementsRelations(this.props.element.Id);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.show&&this.state.characteristics&&this.state.templatecharacteristics?Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u0430"})}),"element"===this.state.typeofedit?Object(f.jsxs)("div",{className:"ShowSelector",children:[Object(f.jsx)("button",{className:"button-selector-modal current",children:"\u043a\u043b\u0430\u0441\u0441"}),Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("characteristics"),children:"\u0445\u0430\u0440\u0430\u043a\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"})]}):null,"characteristics"===this.state.typeofedit?Object(f.jsxs)("div",{className:"ShowSelector",children:[Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("element"),children:"\u044d\u043b\u0435\u043c\u0435\u043d\u0442"}),Object(f.jsx)("button",{className:"button-selector-modal current",children:"\u0445\u0430\u0440\u0430\u043a\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"})]}):null,"element"===this.state.typeofedit?Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.name,onChange:this.onChange})]}):null,"characteristics"===this.state.typeofedit?Object(f.jsxs)("div",{children:[this.state.templatecharacteristics.map((function(t){return Object(f.jsxs)("div",{onClick:e.DeleteClass(t.Id),className:"element-with-delete-button ParentElement",children:[Object(f.jsx)("button",{className:"arrow",children:"\u2297"}),t.Name]},t.Id)})),this.state.characteristics.map((function(t){return Object(f.jsxs)("div",{onClick:e.DeleteChar(t.Id),className:"element-with-delete-button",children:[Object(f.jsx)("button",{className:"arrow",children:"\u2297"})," ",t.Name,": ",t.Value]},t.Id)}))]}):null,Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.Save,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})}):null}}]),n}(a.Component);function it(e,t){return lt.apply(this,arguments)}function lt(){return(lt=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templateelements"+"/exporttouser?elementid=".concat(t,"&usermail=").concat(n),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(e,t,n){return dt.apply(this,arguments)}function dt(){return(dt=Object(u.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templateelements"+"/exporttolibrary?elementid=".concat(t,"&name=").concat(n,"&password=").concat(a),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(e,t){return pt.apply(this,arguments)}function pt(){return(pt=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templateelements"+"/exporttofolder?elementid=".concat(t,"&newrootid=").concat(n),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bt=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"user"!==a.state.exporttype){e.next=6;break}return e.next=4,it(a.props.folder.Id,a.state.body);case 4:e.next=14;break;case 6:if("library"!==a.state.exporttype){e.next=11;break}return e.next=9,ut(a.props.folder.Id,a.props.folder.Name,a.state.body);case 9:e.next=14;break;case 11:if("folder"!==a.state.exporttype){e.next=14;break}return e.next=14,ht(a.props.folder.Id,a.state.path.Id);case 14:a.props.onClose();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.changedirectory=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var s,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a.state.breadCrumbs,-1===(r=s.map((function(e){return e.body.Id})).indexOf(e.Id))?s.push({title:e.Name,path:"/projects",body:{Name:e.Name,Id:e.Id}}):s.length=r+1,t.next=5,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders"+"/".concat(e.Id)).then((function(e){return e.json()})).then((function(t){a.setState({folders:t,breadCrumbs:s,path:{Name:e.Name,Id:e.Id}})})).catch((function(e){return console.log(e)}));case 5:console.log(a.state);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},console.log(a.props),a.state={exporttype:null,body:"",path:{Name:a.props.prevpages[a.props.prevpages.length-2].Name,Id:a.props.prevpages[a.props.prevpages.length-2].Id},folders:null,breadCrumbs:a.props.prevpages.filter((function(e){return e.body.Id!==a.props.element.Id})),text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.setTypeOfExport=a.setTypeOfExport.bind(Object(p.a)(a)),a.onMailChange=a.onMailChange.bind(Object(p.a)(a)),a.onPasswordChange=a.onPasswordChange.bind(Object(p.a)(a)),a.showlocation=a.showlocation.bind(Object(p.a)(a)),a.changedirectory=a.changedirectory.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"showlocation",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders"+"/".concat(this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Id)).then((function(e){return e.json()})).then((function(e){"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===n.state.text?n.setState({text:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c",folders:e}):n.setState({text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTypeOfExport",value:function(e){"folder"===e.target.value?this.setState({exporttype:e.target.value,path:{Name:this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Name,Id:this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Id}}):this.setState({exporttype:e.target.value,body:""}),console.log("wow")}},{key:"onMailChange",value:function(e){this.setState({body:e.target.value})}},{key:"onPasswordChange",value:function(e){this.setState({body:e.target.value})}},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.element.Id!==this.props.element.Id&&this.setState({exporttype:null,body:"",path:{Name:this.props.prevpages[this.props.prevpages.length-1].Name,Id:this.props.prevpages[this.props.prevpages.length-1].Id},folders:null,breadCrumbs:this.props.prevpages.filter((function(e){return e.body.Id!==n.props.element.Id})),text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.show?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsxs)("div",{className:"modal-title",children:["\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430 ",this.props.element.Name]})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsxs)("div",{className:"formwithradio",children:[Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfExport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"user",name:"gender"})," \u0414\u0440\u0443\u0433\u043e\u043c\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e"]}),Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfExport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"folder",name:"gender"})," \u0412 \u0434\u0440\u0443\u0433\u0443\u044e \u043f\u0430\u043f\u043a\u0443"]}),Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfExport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"library",name:"gender"})," \u0412 \u043e\u0431\u0449\u0443\u044e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443"]})]}),"user"===this.state.exporttype?Object(f.jsxs)("div",{className:"exportdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.body,onChange:this.onMailChange})]}):null,"library"===this.state.exporttype?Object(f.jsxs)("div",{className:"exportdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u0417\u0430\u0434\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.body,onChange:this.onPasswordChange})]}):null,"folder"===this.state.exporttype?Object(f.jsxs)("div",{className:"exportdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0432 \u043f\u0430\u043f\u043a\u0443:"}),Object(f.jsxs)("div",{className:"selectedpath",children:[Object(f.jsx)("label",{children:this.state.path.Name})," ",Object(f.jsxs)("button",{className:"arrow",onClick:this.showlocation,children:[" ",this.state.text," ","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?Object(f.jsx)("div",{children:"\u2002\u2193"}):Object(f.jsx)("div",{children:"\u2002\u2191"})," "]})]}),Object(f.jsx)("div",{className:"place",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?null:Object(f.jsxs)("div",{className:"parentwindowforselectingpath",children:[Object(f.jsx)("div",{className:"modalbreadcrumbs",children:this.state.breadCrumbs.slice(1).map((function(t){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)("button",{className:"BreadCrumb withoutframe",onClick:e.changedirectory({Id:t.body.Id,Name:t.body.Name}),children:t.title}),"\u2002\u2192\u2002"]},t.title)}))}),Object(f.jsx)("div",{className:"windowforselectingpath",children:Object(f.jsx)("div",{className:"modalfolders",children:this.state.folders.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonfolder",onClick:e.changedirectory({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))})})]})})]}):null]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component);function mt(e){var t=Object(a.useState)(!1),n=Object(O.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(!1),o=Object(O.a)(c,2),i=o[0],l=o[1],u=Object(a.useState)(!1),d=Object(O.a)(u,2),h=d[0],p=d[1],b=Object(a.useState)(!1),m=Object(O.a)(b,2),j=m[0],x=m[1],v=Object(a.useState)(!1),N=Object(O.a)(v,2),g=N[0],y=N[1];return Object(f.jsx)("div",{className:"ToolbarRelative",children:Object(f.jsxs)("div",{className:"Toolbar",children:[Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return r(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),Object(f.jsx)(_e,{element:e.parent,prevpages:e.previouspages,onClose:function(){return r(!1)},show:s}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return l(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0441"}),Object(f.jsx)(tt,{element:e.parent,prevpages:e.previouspages,onClose:function(){return l(!1)},show:i}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return p(!0)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0441"}),Object(f.jsx)(st,{prevpages:e.previouspages,component:e.parent,onClose:function(){return p(!1)},show:h}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return y(!0)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0441"}),Object(f.jsx)(ot,{element:e.parent,prevpages:e.previouspages,onClose:function(){return y(!1)},show:g}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return x(!0)},children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u043a\u043b\u0430\u0441\u0441\u0430"}),Object(f.jsx)(bt,{element:e.parent,prevpages:e.previouspages,onClose:function(){return x(!1)},show:j})]})})}n(47);var jt=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={templatecharacteristics:null,breadCrumbs:null,characteristics:null},a.handleClick=a.handleClick.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.history.push("/"),localStorage.clear(),window.location.reload()}},{key:"GetTemplateCharacteristics",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.location.state.breadCrumbs,-1===(a=n.map((function(e){return e.body.Id})).indexOf(this.props.location.state.body.Id))?n.push({title:this.props.location.state.body.Name,path:"/telement",body:{Name:this.props.location.state.body.Name,Id:this.props.location.state.body.Id}}):n.length=a+1,e.next=5,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatecharacteristics"+"?idelement=".concat(t)).then((function(e){return e.json()})).then((function(e){s.setState({templatecharacteristics:e,breadCrumbs:n})})).catch((function(e){return console.log(e)}));case 5:console.log(this.state);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetCharacteristics",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatecharacteristics"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){n.setState({characteristics:e})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.GetTemplateCharacteristics(this.props.location.state.body.Id);case 2:return e.next=4,this.GetCharacteristics(this.props.location.state.body.Id);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.templatecharacteristics||!this.state.characteristics)return Object(f.jsx)("div",{className:"waitingpage",children:Object(f.jsxs)("div",{className:"Loading",children:[Object(f.jsx)("img",{className:"logo",src:j,alt:"toolbaritem"}),Object(f.jsx)("label",{className:"formlabel",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})]})});var e=this.state,t=e.templatecharacteristics,n=e.breadCrumbs,a=e.characteristics,s=t.map((function(e){return{idparent:e.IdParent,name:e.NameParent}})),r=new Set,o=s.reduce((function(e,t){return r.has(t.idparent)||(r.add(t.idparent,t),e.push(t)),e}),[]);return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"Header",children:[Object(f.jsx)("div",{className:"BreadCrumbs",children:n.map((function(e){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)(c.b,{className:"BreadCrumb",to:{pathname:e.path,state:{body:e.body,breadCrumbs:n}},children:e.title}),"\u2002\u2192\u2002"]},e.title)}))}),Object(f.jsxs)("div",{className:"settingsinheader",children:[Object(f.jsx)("input",{type:"text",className:"search",placeholder:"\u043f\u043e\u0438\u0441\u043a"}),Object(f.jsx)(c.b,{to:{pathname:"/library",state:{breadCrumbs:n}},children:Object(f.jsx)("button",{className:"btn_logout",children:"\u043e\u0431\u0449\u0430\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430"})}),Object(f.jsx)(c.b,{to:{pathname:"/settings",state:{breadCrumbs:n}},children:Object(f.jsx)("button",{className:"btn_logout",children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),Object(f.jsx)("button",{className:"btn_logout",onClick:this.handleClick,children:"\u0432\u044b\u0445\u043e\u0434"}),Object(f.jsx)("img",{className:"logo",src:j,alt:"toolbaritem"})]})]}),Object(f.jsx)("div",{className:"ElementBody",children:Object(f.jsx)("div",{className:"Characteristics",children:Object(f.jsxs)("div",{children:[o.map((function(e){return Object(f.jsxs)("div",{className:"ParentElement",children:[e.name,t.filter((function(t){return t.IdParent===e.idparent})).map((function(e){return Object(f.jsxs)("div",{className:"ParentCharacteristic",children:[e.NameCharacter,": ",e.ValueCharacter]},e.IdCharacter)}))]},e.idparent)})),a.map((function(e){return Object(f.jsxs)("div",{children:[e.Name,": ",e.Value]},e.Id)}))]})})}),Object(f.jsx)(mt,{previouspages:n,parent:this.props.location.state.body})]})}}]),n}(a.Component);n(48);function ft(e,t){return xt.apply(this,arguments)}function xt(){return(xt=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://creapediawebapi20210507000107.azurewebsites.net/users"+"?mail=".concat(t,"&pass=").concat(n),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ot(e){var t=e.setToken,n=Object(a.useState)(),s=Object(O.a)(n,2),r=s[0],i=s[1],d=Object(a.useState)(),h=Object(O.a)(d,2),p=h[0],b=h[1],m=Object(o.g)(),x=function(){var e=Object(u.a)(l.a.mark((function e(n){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,ft(r,p);case 3:a=e.sent,s={Mail:a.Mail,Password:a.Password},m.push({pathname:"/"}),console.log(s),t(s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{className:"body",children:Object(f.jsx)("div",{className:"border",children:Object(f.jsxs)("form",{className:"login-wrapper",onSubmit:x,children:[Object(f.jsx)("img",{className:"logologin",src:j,alt:"toolbaritem"}),Object(f.jsx)("div",{className:"header",children:"Creapedia"}),Object(f.jsxs)("label",{className:"form-row",children:[Object(f.jsx)("p",{children:"\u043f\u043e\u0447\u0442\u0430"}),Object(f.jsx)("input",{type:"text",placeholder:"exapmle@email.com",onChange:function(e){return i(e.target.value)}})]}),Object(f.jsxs)("label",{className:"form-row",children:[Object(f.jsx)("p",{children:"\u043f\u0430\u0440\u043e\u043b\u044c"}),Object(f.jsx)("input",{type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",onChange:function(e){return b(e.target.value)}})]}),Object(f.jsxs)("div",{className:"loginlinks",children:[Object(f.jsx)(c.b,{className:"RegistrationLink",to:{pathname:"/registration",state:{body:null}},children:"\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(f.jsx)(c.b,{className:"ForgotPass",to:{pathname:"/registration",state:{body:null}},children:"\u0437\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})]}),Object(f.jsx)("label",{className:"form-row",children:Object(f.jsx)("button",{type:"submit",children:"\u0432\u043e\u0439\u0442\u0438"})})]})})})}function vt(e,t){return Nt.apply(this,arguments)}function Nt(){return(Nt=Object(u.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={Mail:t,Password:n},e.next=3,fetch("https://creapediawebapi20210507000107.azurewebsites.net/users",{method:"POST",body:JSON.stringify(a),headers:{"Access-Control-Request-Method":"POST",Origin:"http://localhost:3000",Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gt=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,vt(a.state.mail,a.state.password);case 3:alert("\u0412\u044b \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c! \u0414\u043b\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u0430\u0434\u0440\u0435\u0441\u0430, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435, \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u0443\u044e \u0432\u0430\u043c \u043d\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443"),a.setState({ifregister:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={mail:"",password:"",ifregister:null},a.onChangeMail=a.onChangeMail.bind(Object(p.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"onChangeMail",value:function(e){var t=e.target.value;this.setState({mail:t})}},{key:"onChangePassword",value:function(e){var t=e.target.value;this.setState({password:t})}},{key:"render",value:function(){return this.state.ifregister?Object(f.jsx)(o.a,{to:{pathname:"/",state:{body:null}}}):Object(f.jsx)("div",{className:"body",children:Object(f.jsx)("div",{className:"border",children:Object(f.jsxs)("form",{className:"login-wrapper",onSubmit:this.handleSubmit,children:[Object(f.jsx)("img",{className:"logologin",src:j,alt:"toolbaritem"}),Object(f.jsx)("div",{className:"header",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(f.jsxs)("label",{className:"form-row",children:[Object(f.jsx)("p",{children:"\u043f\u043e\u0447\u0442\u0430"}),Object(f.jsx)("input",{type:"text",value:this.state.mail,onChange:this.onChangeMail,placeholder:"exapmle@email.com"})]}),Object(f.jsxs)("label",{className:"form-row",children:[Object(f.jsx)("p",{children:"\u043f\u0430\u0440\u043e\u043b\u044c"}),Object(f.jsx)("input",{type:"password",value:this.state.password,onChange:this.onChangePassword,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]}),Object(f.jsx)("div",{className:"loginlinks",children:Object(f.jsx)(c.b,{className:"RegistrationLink",to:{pathname:"/login",state:{body:null}},children:"\u043d\u0430\u0437\u0430\u0434"})}),Object(f.jsx)("label",{className:"form-row",children:Object(f.jsx)("button",{type:"submit",children:"\u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]})})})}}]),n}(a.Component);function yt(e,t,n){return wt.apply(this,arguments)}function wt(){return(wt=Object(u.a)(l.a.mark((function e(t,n,a){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={Mail:n,Password:a},e.next=3,fetch("https://creapediawebapi20210507000107.azurewebsites.net/users"+"/".concat(t),{method:"PUT",body:JSON.stringify(s),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ct(e){return kt.apply(this,arguments)}function kt(){return(kt=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/users"+"?mail=".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var It=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).DeleteAcc=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Ct(a.props.location.state.breadCrumbs[a.props.location.state.breadCrumbs.length-a.props.location.state.breadCrumbs.length].body.Mail);case 3:localStorage.clear(),window.location.reload(),alert("\u0410\u043a\u043a\u0430\u0443\u043d\u0442 \u0443\u0434\u0430\u043b\u0435\u043d");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,yt(a.props.location.state.breadCrumbs[a.props.location.state.breadCrumbs.length-a.props.location.state.breadCrumbs.length].body.Mail,a.state.mail,a.state.password);case 3:alert("\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={mail:a.props.location.state.breadCrumbs[a.props.location.state.breadCrumbs.length-a.props.location.state.breadCrumbs.length].body.Mail,password:a.props.location.state.breadCrumbs[a.props.location.state.breadCrumbs.length-a.props.location.state.breadCrumbs.length].body.Password},a.onChangeMail=a.onChangeMail.bind(Object(p.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.DeleteAcc=a.DeleteAcc.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"onChangeMail",value:function(e){var t=e.target.value;this.setState({mail:t})}},{key:"onChangePassword",value:function(e){var t=e.target.value;this.setState({password:t})}},{key:"render",value:function(){return Object(f.jsx)("div",{className:"body",children:Object(f.jsx)("div",{className:"border",children:Object(f.jsxs)("form",{className:"login-wrapper",onSubmit:this.handleSubmit,children:[Object(f.jsx)("img",{className:"logo",src:j,alt:"toolbaritem"}),Object(f.jsx)("div",{className:"header",children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(f.jsxs)("label",{className:"form-row",children:[Object(f.jsx)("p",{children:"\u043f\u043e\u0447\u0442\u0430"}),Object(f.jsx)("input",{type:"text",value:this.state.mail,onChange:this.onChangeMail,placeholder:"exapmle@email.com"})]}),Object(f.jsxs)("label",{className:"form-row",children:[Object(f.jsx)("p",{children:"\u043f\u0430\u0440\u043e\u043b\u044c"}),Object(f.jsx)("input",{type:"password",value:this.state.password,onChange:this.onChangePassword,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]}),Object(f.jsx)("label",{className:"form-row",children:Object(f.jsx)("button",{type:"submit",children:"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})}),Object(f.jsx)("label",{className:"form-row",children:Object(f.jsx)("button",{onClick:this.DeleteAcc,children:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(f.jsx)("div",{className:"loginlinks",children:Object(f.jsx)(c.b,{className:"RegistrationLink",to:{pathname:this.props.location.state.breadCrumbs[this.props.location.state.breadCrumbs.length-1].path,state:{breadCrumbs:this.props.location.state.breadCrumbs,body:this.props.location.state.breadCrumbs[this.props.location.state.breadCrumbs.length-1].body}},children:"\u043d\u0430\u0437\u0430\u0434"})})]})})})}}]),n}(a.Component);n(49);function St(e,t,n){return At.apply(this,arguments)}function At(){return(At=Object(u.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/library"+"/importfromlib?userid=".concat(n,"&importcompid=").concat(t),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Tt=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).Import=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,St(e);case 2:a.state.showcomponents?alert('\u042d\u043b\u0435\u043c\u0435\u043d\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0451\u043d \u0432 \u0440\u0430\u0437\u0434\u0435\u043b "\u041f\u0440\u043e\u0435\u043a\u0442\u044b", \u043f\u0430\u043f\u043a\u0430 "\u0418\u043c\u043f\u043e\u0440\u0442"'):alert('\u042d\u043b\u0435\u043c\u0435\u043d\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0451\u043d \u0432 \u0440\u0430\u0437\u0434\u0435\u043b "\u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430", \u043f\u0430\u043f\u043a\u0430 "\u0418\u043c\u043f\u043e\u0440\u0442"');case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},a.ChangeShow=function(e){return function(t){a.setState({showcomponents:e})}},a.state={breadCrumbs:a.props.location.state.breadCrumbs,components:null,showcomponents:!0},a}return Object(h.a)(n,[{key:"GetLibrary",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.location.state.breadCrumbs,-1===(n=t.map((function(e){return e.body.Id})).indexOf(0))?t.push({title:"\u041e\u0431\u0449\u0430\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430",path:"/library",body:{Name:"\u041e\u0431\u0449\u0430\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430",Id:0}}):t.length=n+1,e.next=5,fetch("https://creapediawebapi20210507000107.azurewebsites.net/library/all").then((function(e){return e.json()})).then((function(e){a.setState({components:e,breadCrumbs:t})})).catch((function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.GetLibrary();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(!this.state.components)return Object(f.jsx)("div",{className:"waitingpage",children:Object(f.jsxs)("div",{className:"Loading",children:[Object(f.jsx)("img",{className:"logo",src:j,alt:"toolbaritem"}),Object(f.jsx)("label",{className:"formlabel",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})]})});var t=this.state,n=t.breadCrumbs,a=t.components,s=t.showcomponents;return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"Header",children:[Object(f.jsx)("div",{className:"BreadCrumbs",children:n.map((function(e){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)(c.b,{className:"BreadCrumb",to:{pathname:e.path,state:{body:e.body,breadCrumbs:n}},children:e.title}),"\u2002\u2192\u2002"]},e.title)}))}),Object(f.jsxs)("div",{className:"settingsinheader",children:[Object(f.jsx)("input",{type:"text",className:"search",placeholder:"\u043f\u043e\u0438\u0441\u043a"}),Object(f.jsx)(c.b,{to:{pathname:"/library",state:{breadCrumbs:n}},children:Object(f.jsx)("button",{className:"btn_logout",children:"\u043e\u0431\u0449\u0430\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430"})}),Object(f.jsx)(c.b,{to:{pathname:"/settings"},children:Object(f.jsx)("button",{className:"btn_logout",children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),Object(f.jsx)("button",{className:"btn_logout",onClick:this.handleClick,children:"\u0432\u044b\u0445\u043e\u0434"}),Object(f.jsx)("img",{className:"logo",src:j,alt:"toolbaritem"})]})]}),Object(f.jsx)("div",{className:"libmenu",children:s?Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"ShowMenu",children:[Object(f.jsx)("button",{className:"button current",children:"\u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b"}),Object(f.jsx)("button",{className:"button",onClick:this.ChangeShow(!1),children:"\u043a\u043b\u0430\u0441\u0441\u044b"})]}),Object(f.jsxs)("table",{className:"LibTable",children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"td-header",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(f.jsx)("td",{className:"td-header",children:"\u0422\u0438\u043f"}),Object(f.jsx)("td",{className:"td-header",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(f.jsx)("td",{className:"td-header"})]}),a.filter((function(e){return"\u043f\u0430\u043f\u043a\u0430 \u0441 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430\u043c\u0438"===e.Typeofcomponent||"\u044d\u043b\u0435\u043c\u0435\u043d\u0442"===e.Typeofcomponent})).map((function(t){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:t.Name}),Object(f.jsx)("td",{children:t.Typeofcomponent}),Object(f.jsx)("td",{children:null==t.Password?Object(f.jsx)("div",{children:"\u041d\u0435\u0442"}):Object(f.jsx)("div",{children:"\u0415\u0441\u0442\u044c"})}),Object(f.jsx)("td",{className:"ImportButton",onClick:e.Import(t.Id),children:"\u0418\u043c\u043f\u043e\u0440\u0442"})]},t.Id)}))]})]}):Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"ShowMenu",children:[Object(f.jsx)("button",{className:"button",onClick:this.ChangeShow(!0),children:"\u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b"}),Object(f.jsx)("button",{className:"button current",children:"\u043a\u043b\u0430\u0441\u0441\u044b"})]}),Object(f.jsxs)("table",{className:"LibTable",children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"td-header",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(f.jsx)("td",{className:"td-header",children:"\u0422\u0438\u043f"}),Object(f.jsx)("td",{className:"td-header",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(f.jsx)("td",{className:"td-header"})]}),a.filter((function(e){return"\u043f\u0430\u043f\u043a\u0430 \u0441 \u043a\u043b\u0430\u0441\u0441\u0430\u043c\u0438"===e.Typeofcomponent||"\u043a\u043b\u0430\u0441\u0441"===e.Typeofcomponent})).map((function(t){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:t.Name}),Object(f.jsx)("td",{children:t.Typeofcomponent}),Object(f.jsx)("td",{children:null==t.Password?Object(f.jsx)("div",{children:"\u041d\u0435\u0442"}):Object(f.jsx)("div",{children:"\u0415\u0441\u0442\u044c"})}),Object(f.jsx)("td",{className:"ImportButton",onClick:e.Import(t.Id),children:"\u0418\u043c\u043f\u043e\u0440\u0442"})]},t.Id)}))]})]})})]})}}]),n}(a.Component);n(50);var Pt=Object(o.h)((function(e){var t=function(){var e=Object(a.useState)(function(){var e=localStorage.getItem("token"),t=JSON.parse(e);return console.log(t),t}()),t=Object(O.a)(e,2),n=t[0],s=t[1];return{setToken:function(e){localStorage.setItem("token",JSON.stringify(e)),s(e)},token:n}}(),n=t.token,s=t.setToken;return n?Object(f.jsx)(c.a,{children:Object(f.jsxs)(o.d,{children:[Object(f.jsx)(o.b,{path:"/main",component:x}),Object(f.jsx)(o.b,{path:"/template",component:H}),Object(f.jsx)(o.b,{path:"/projects",component:Oe}),Object(f.jsx)(o.b,{path:"/element",component:Je}),Object(f.jsx)(o.b,{path:"/telement",component:jt}),Object(f.jsx)(o.b,{path:"/library",component:Tt}),Object(f.jsx)(o.b,{path:"/settings",component:It}),Object(f.jsx)(o.a,{from:"/",to:{pathname:"/main",state:{body:n}}})]})}):Object(f.jsx)(c.a,{children:Object(f.jsxs)(o.d,{children:[Object(f.jsx)(o.b,{path:"/registration",component:gt}),Object(f.jsx)(o.b,{path:"/login",children:Object(f.jsx)(Ot,{setToken:s})}),Object(f.jsx)(o.a,{from:"/",to:{pathname:"/login"}})]})})})),Et=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))};r.a.render(Object(f.jsx)(c.a,{children:Object(f.jsx)(Pt,{})}),document.getElementById("root")),Et()}},[[51,1,2]]]);
//# sourceMappingURL=main.c5fe0e7d.chunk.js.map