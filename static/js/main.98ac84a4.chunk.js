(this.webpackJsonpcreapediaweb=this.webpackJsonpcreapediaweb||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},,,,,,,,function(e,t,n){},,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,function(e,t,n){},,function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(2),s=n(28),r=n.n(s),c=(n(42),n(43),n(9)),o=n(11),i=n(1),l=n.n(i),u=n(3),h=n(5),d=n(6),p=n(4),b=n(8),j=n(7),m=(n(45),n.p+"static/media/logo4x.bffe58ac.png"),f=n(0),O=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(h.a)(this,n),a=t.call(this,e),console.log(e),a.state={user:null,mainfolders:null},a.handleClick=a.handleClick.bind(Object(p.a)(a)),a}return Object(d.a)(n,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.history.push("/"),localStorage.clear(),window.location.reload()}},{key:"GetMainFolders",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:44348/folders"+"/main/".concat(t)).then((function(e){return e.json()})).then((function(e){n.setState({mainfolders:e}),console.log(e)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"loginUser",value:function(){var e=Object(u.a)(l.a.mark((function e(t,n){var a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:44348/users"+"?mail=".concat(t,"&pass=").concat(n)).then((function(e){return e.json()})).then((function(e){return a.setState({user:e}),e})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==this.props.location.state.body&&(localStorage.clear(),window.location.reload()),e.next=3,this.loginUser(this.props.location.state.body.Mail,this.props.location.state.body.Password);case 3:if(!(t=e.sent)){e.next=9;break}return e.next=7,this.GetMainFolders(t.Id);case 7:e.next=11;break;case 9:localStorage.clear(),window.location.reload();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.user||!this.state.mainfolders)return Object(f.jsx)("div",{});var e=this.state.mainfolders,t=[{title:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",path:"/",body:{Mail:this.state.user.Mail,Password:this.state.user.Password}}];return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"Header",children:[Object(f.jsx)("div",{className:"BreadCrumbs",children:t.map((function(e){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)(c.b,{className:"BreadCrumb",to:{pathname:e.path,state:{body:e.body,breadCrumbs:t}},children:e.title}),"\u2002\u2192\u2002"]},e.title)}))}),Object(f.jsxs)("div",{className:"settingsinheader",children:[Object(f.jsx)(c.b,{to:{pathname:"/settings"},children:Object(f.jsx)("button",{className:"btn_logout",children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),Object(f.jsx)("button",{className:"btn_logout",onClick:this.handleClick,children:"\u0432\u044b\u0445\u043e\u0434"}),Object(f.jsx)("img",{className:"logo",src:m,alt:"toolbaritem"})]})]}),Object(f.jsx)("div",{className:"mainfolders",children:e.map((function(e){return Object(f.jsx)("div",{className:"mfolder",children:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b"===e.Name?Object(f.jsx)(c.b,{to:{pathname:"/projects",state:{breadCrumbs:t,body:{Id:e.Id,Name:e.Name}}},children:Object(f.jsx)("button",{className:"buttonfolder",children:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b"})}):Object(f.jsx)(c.b,{to:{pathname:"/template",state:{breadCrumbs:t,body:{Id:e.Id,Name:e.Name}}},children:Object(f.jsx)("button",{className:"buttonfolder",children:"\u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432"})})},e.Id)}))})]})}}]),n}(a.Component),v=(n(52),n(10));n(13);function x(e){return g.apply(this,arguments)}function g(){return(g=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:44348/templateelements",{method:"POST",body:t,headers:{Accept:"application/json"}}).then((function(e){console.log(e.status)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={name:"",filepath:null,file:null},a.onChange=a.onChange.bind(Object(p.a)(a)),a.sendImage=a.sendImage.bind(Object(p.a)(a)),a.handleImageChange=a.handleImageChange.bind(Object(p.a)(a)),a}return Object(d.a)(n,[{key:"onChange",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"sendImage",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,x(this.state.file);case 3:this.props.onClose(),window.location.reload();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleImageChange",value:function(e){e.preventDefault();for(var t=new FormData,n=0;n<e.target.files.length;n++){var a=e.target.files[n];t.append("image",a)}t.append("parentfolderid",this.props.folder.Id),t.append("Name",this.state.name),this.setState({file:t,filepath:URL.createObjectURL(e.target.files[0])})}},{key:"render",value:function(){return this.props.show?Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u043d\u043e\u0433\u043e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.name,onChange:this.onChange}),Object(f.jsx)("label",{className:"formlabel",children:"\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435:"}),Object(f.jsxs)("div",{className:"place",children:[Object(f.jsx)("label",{children:this.props.folder.Name})," ",Object(f.jsxs)("button",{className:"button arrow",children:[" -",">"," "]})]})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.sendImage,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})}):null}}]),n}(a.Component);function y(e,t){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={Name:t,ParentfolderId:Number(n)},e.next=3,fetch("https://localhost:44348/templatefolders",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).changedirectory=function(e){return function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},a.handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(a.props),e.next=4,y(a.state.name,a.props.folder.Id);case 4:a.props.onClose(),window.location.reload();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={name:"",folders:null,breadCrumbs:null},a.onChange=a.onChange.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.changedirectory=a.changedirectory.bind(Object(p.a)(a)),a}return Object(d.a)(n,[{key:"onChange",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"render",value:function(){return this.props.show?Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.name,onChange:this.onChange}),Object(f.jsx)("label",{className:"formlabel",children:"\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435:"}),Object(f.jsxs)("div",{className:"place",children:[Object(f.jsx)("label",{children:this.props.folder.Name})," ",Object(f.jsxs)("button",{className:"button arrow",children:[" -",">"," "]})]})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})}):null}}]),n}(a.Component),k=n(30),S=n.n(k),I=n(31),T=n.n(I),P=n(32),E=n.n(P);function D(e,t){return M.apply(this,arguments)}function M(){return(M=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:44348/folders"+"/exporttouser?folderid=".concat(t,"&usermail=").concat(n),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){return G.apply(this,arguments)}function G(){return(G=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:44348/folders"+"/exporttolibrary?folderid=".concat(t,"&password=").concat(n),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t){return R.apply(this,arguments)}function R(){return(R=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:44348/folders"+"/exporttofolder?folderid=".concat(t,"&newrootid=").concat(n),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"user"!==a.state.exporttype){e.next=6;break}return e.next=4,D(a.props.folder.Id,a.state.body);case 4:e.next=14;break;case 6:if("library"!==a.state.exporttype){e.next=11;break}return e.next=9,B(a.props.folder.Id,a.state.body);case 9:e.next=14;break;case 11:if("folder"!==a.state.exporttype){e.next=14;break}return e.next=14,F(a.props.folder.Id,a.state.path.Id);case 14:a.props.onClose();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.changedirectory=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var s,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a.state.breadCrumbs,-1===(r=s.map((function(e){return e.body.Id})).indexOf(e.Id))?s.push({title:e.Name,path:"/projects",body:{Name:e.Name,Id:e.Id}}):s.length=r+1,t.next=5,fetch("https://localhost:44348/folders"+"/".concat(e.Id)).then((function(e){return e.json()})).then((function(t){a.setState({folders:t,breadCrumbs:s,path:{Name:e.Name,Id:e.Id}})})).catch((function(e){return console.log(e)}));case 5:console.log(a.state);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},console.log(a.props),a.state={exporttype:null,body:null,path:{Name:a.props.folder.Name,Id:a.props.folder.Id},folders:null,breadCrumbs:a.props.prevpages,text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.setTypeOfExport=a.setTypeOfExport.bind(Object(p.a)(a)),a.onMailChange=a.onMailChange.bind(Object(p.a)(a)),a.onPasswordChange=a.onPasswordChange.bind(Object(p.a)(a)),a.showlocation=a.showlocation.bind(Object(p.a)(a)),a.changedirectory=a.changedirectory.bind(Object(p.a)(a)),a}return Object(d.a)(n,[{key:"showlocation",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:44348/folders"+"/".concat(this.props.folder.Id)).then((function(e){return e.json()})).then((function(e){"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===n.state.text?n.setState({text:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c",folders:e}):n.setState({text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTypeOfExport",value:function(e){"folder"===e.target.value?this.setState({exporttype:e.target.value,path:{Name:this.props.folder.Name,Id:this.props.folder.Id}}):this.setState({exporttype:e.target.value}),console.log("wow")}},{key:"onMailChange",value:function(e){this.setState({body:e.target.value})}},{key:"onPasswordChange",value:function(e){this.setState({body:e.target.value})}},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.folder.Id!==this.props.folder.Id&&this.setState({exporttype:null,body:null,path:{Name:this.props.folder.Name,Id:this.props.folder.Id},folders:null,breadCrumbs:this.props.prevpages,text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(console.log("\u0440\u0435\u043d\u0434\u0435\u0440 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f"),this.state.isdeleted){var t=this.props.prevpages;return t.length=t.length-1,this.setState({isdeleted:!1}),console.log("\u042f \u0432 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438"),Object(f.jsx)(o.a,{to:{pathname:t[t.length-1].path,state:{body:t[t.length-1].body,breadCrumbs:t}}})}return this.props.show?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsxs)("div",{className:"modal-title",children:["\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u043f\u0430\u043f\u043a\u0438 ",this.props.folder.Name]})}),Object(f.jsx)("div",{className:"modal-body",children:Object(f.jsxs)("div",{className:"formwithradio",children:[Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfExport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"user",name:"gender"})," \u0414\u0440\u0443\u0433\u043e\u043c\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e"]}),Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfExport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"folder",name:"gender"})," \u0412 \u0434\u0440\u0443\u0433\u0443\u044e \u043f\u0430\u043f\u043a\u0443"]}),Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfExport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"library",name:"gender"})," \u0412 \u043e\u0431\u0449\u0443\u044e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443"]})]})}),"user"===this.state.exporttype?Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.body,onChange:this.onMailChange})]}):null,"library"===this.state.exporttype?Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u0417\u0430\u0434\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.body,onChange:this.onPasswordChange})]}):null,"folder"===this.state.exporttype?Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0432 \u043f\u0430\u043f\u043a\u0443:"}),Object(f.jsxs)("div",{className:"selectedpath",children:[Object(f.jsx)("label",{children:this.state.path.Name})," ",Object(f.jsxs)("button",{className:"button arrow",onClick:this.showlocation,children:[" ",this.state.text," ","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?Object(f.jsx)("div",{children:"\u2002\u2193"}):Object(f.jsx)("div",{children:"\u2002\u2191"})," "]})]}),Object(f.jsx)("div",{className:"place",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?null:Object(f.jsxs)("div",{className:"parentwindowforselectingpath",children:[Object(f.jsx)("div",{className:"modalbreadcrumbs",children:this.state.breadCrumbs.slice(1).map((function(t){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)("button",{className:"BreadCrumb withoutframe",onClick:e.changedirectory({Id:t.body.Id,Name:t.body.Name}),children:t.title}),"\u2002\u2192\u2002"]},t.title)}))}),Object(f.jsx)("div",{className:"windowforselectingpath",children:Object(f.jsx)("div",{className:"modalfolders",children:this.state.folders.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonfolder",onClick:e.changedirectory({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))})})]})})]}):null,Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component);n(21);function L(e){var t=Object(a.useState)(!1),n=Object(v.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(!1),o=Object(v.a)(c,2),i=o[0],l=o[1],u=Object(a.useState)(!1),h=Object(v.a)(u,2),d=h[0],p=h[1],b=Object(a.useState)(!1),j=Object(v.a)(b,2),m=j[0],O=j[1],x=Object(a.useState)(!1),g=Object(v.a)(x,2),y=g[0],C=g[1],k=Object(a.useState)(!1),I=Object(v.a)(k,2),P=I[0],D=I[1];return Object(f.jsx)("div",{className:"ToolbarRelative",children:Object(f.jsxs)("div",{className:"Toolbar",children:[Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return r(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0441"}),Object(f.jsx)(N,{folder:e.parent,prevpages:e.previouspages,onClose:function(){return r(!1)},show:s}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return l(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443"}),Object(f.jsx)(w,{folder:e.parent,prevpages:e.previouspages,onClose:function(){return l(!1)},show:i}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return p(!0)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443"}),Object(f.jsx)(S.a,{prevpages:e.previouspages,component:e.parent,onClose:function(){return p(!1)},show:d}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return O(!0)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443"}),Object(f.jsx)(T.a,{folder:e.parent,prevpages:e.previouspages,onClose:function(){return O(!1)},show:m}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return C(!0)},children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u043f\u0430\u043f\u043a\u0438"}),Object(f.jsx)(A,{component:e.parent,onClose:function(){return C(!1)},show:y}),Object(f.jsx)("button",{className:"Toolbarbutton",children:"\u0418\u043c\u043f\u043e\u0440\u0442 \u0432 \u043f\u0430\u043f\u043a\u0443"}),Object(f.jsx)(E.a,{component:e.parent,onClose:function(){return D(!1)},show:P})]})})}var U=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={folders:null,elements:null,breadCrumbs:null},a.handleClick=a.handleClick.bind(Object(p.a)(a)),a}return Object(d.a)(n,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.history.push("/"),localStorage.clear(),window.location.reload()}},{key:"GetFolders",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.location.state.breadCrumbs,-1===(a=n.map((function(e){return e.body.Id})).indexOf(this.props.location.state.body.Id))?n.push({title:this.props.location.state.body.Name,path:"/template",body:{Name:this.props.location.state.body.Name,Id:this.props.location.state.body.Id}}):n.length=a+1,console.log("https://localhost:44348/templatefolders"+"/".concat(t)),e.next=6,fetch("https://localhost:44348/templatefolders"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){s.setState({folders:e,breadCrumbs:n})})).catch((function(e){return console.log(e)}));case 6:console.log(this.state);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetElements",value:function(e){var t=this;console.log("https://localhost:44348/templateelements"+"/".concat(e)),fetch("https://localhost:44348/templateelements"+"/".concat(e)).then((function(e){return e.json()})).then((function(e){t.setState({elements:e})})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.GetFolders(this.props.location.state.body.Id);case 2:return e.next=4,this.GetElements(this.props.location.state.body.Id);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("\u042f \u0432 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0442\u0435\u043c\u043f\u043b\u044d\u0439\u0442\u0430"),t.location.state.body.Id===this.props.location.state.body.Id){e.next=6;break}return e.next=4,this.GetFolders(this.props.location.state.body.Id);case 4:return e.next=6,this.GetElements(this.props.location.state.body.Id);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.folders||!this.state.elements)return Object(f.jsx)("div",{});var e=this.state,t=e.folders,n=e.elements,a=e.breadCrumbs;return Object(f.jsxs)("div",{className:"folderPage",children:[Object(f.jsxs)("div",{className:"Header",children:[Object(f.jsx)("div",{className:"BreadCrumbs",children:a.map((function(e){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)(c.b,{className:"BreadCrumb",to:{pathname:e.path,state:{body:e.body,breadCrumbs:a}},children:e.title}),"\u2002\u2192\u2002"]},e.title)}))}),Object(f.jsxs)("div",{className:"settingsinheader",children:[Object(f.jsx)("button",{className:"btn_logout",onClick:this.handleClick,children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(f.jsx)("button",{className:"btn_logout",onClick:this.handleClick,children:"\u0432\u044b\u0445\u043e\u0434"}),Object(f.jsx)("img",{className:"logo",src:m,alt:"toolbaritem"})]})]}),Object(f.jsxs)("div",{className:"listview",children:[t.map((function(e){return Object(f.jsx)("div",{children:Object(f.jsx)(c.b,{className:"folderinlist",to:{pathname:"/template",state:{breadCrumbs:a,body:e}},children:Object(f.jsx)("div",{className:"NameElementOfList",children:e.Name})})},e.Id)})),n.map((function(e){return Object(f.jsx)("div",{children:Object(f.jsxs)(c.b,{className:"elementinlist",to:{pathname:"/telement",state:{breadCrumbs:a,body:e}},children:[Object(f.jsx)("img",{className:"elementimage",src:"data:image/jpeg;base64,".concat(e.Image)}),Object(f.jsx)("div",{className:"NameElementOfList",children:e.Name})]})},e.Id)})),Object(f.jsx)("div",{className:"foldercomponents"})]}),Object(f.jsx)("div",{className:"foldercomponents",children:Object(f.jsx)(L,{previouspages:a,typeof_parentel:"folder",parent:this.props.location.state.body})})]})}}]),n}(a.Component);function V(e,t){return J.apply(this,arguments)}function J(){return(J=Object(u.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={Name:t,ParentfolderId:Number(n)},e.next=3,fetch("https://localhost:44348/elements",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return W.apply(this,arguments)}function W(){return(W=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:44348/elements/image",{method:"POST",body:t,headers:{Accept:"application/json"}}).then((function(e){console.log(e.status)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={name:"",filepath:null,file:null},a.onChange=a.onChange.bind(Object(p.a)(a)),a.sendImage=a.sendImage.bind(Object(p.a)(a)),a.handleImageChange=a.handleImageChange.bind(Object(p.a)(a)),a}return Object(d.a)(n,[{key:"onChange",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"sendImage",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,V(this.state.name,this.props.folder.Id);case 3:if(null==this.state.file){e.next=6;break}return e.next=6,_(this.state.file);case 6:this.props.onClose(),window.location.reload();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleImageChange",value:function(e){if(e.preventDefault(),e.target.files.length>0){for(var t=new FormData,n=0;n<e.target.files.length;n++){var a=e.target.files[n];t.append("image",a)}t.append("parentfolderid",this.props.folder.Id),this.setState({file:t,filepath:URL.createObjectURL(e.target.files[0])})}else null!=this.state.file&&this.setState({file:null,filepath:null})}},{key:"render",value:function(){var e=this;return this.props.show?Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.name,onChange:this.onChange}),Object(f.jsx)("label",{className:"formlabel",children:"\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435:"}),Object(f.jsxs)("div",{className:"place",children:[Object(f.jsx)("label",{children:this.props.folder.Name})," ",Object(f.jsxs)("button",{className:"button arrow",children:[" -",">"," "]})]}),Object(f.jsxs)("div",{className:"modal-image",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u0424\u043e\u0442\u043e:"}),Object(f.jsx)("input",{type:"file",onChange:function(t){return e.handleImageChange(t)}}),null===this.state.filepath?Object(f.jsx)("div",{}):Object(f.jsx)("img",{className:"downloadimage",src:this.state.filepath})]})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.sendImage,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})}):null}}]),n}(a.Component);function q(e,t){return z.apply(this,arguments)}function z(){return(z=Object(u.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={Name:t,ParentfolderId:Number(n)},e.next=3,fetch("https://localhost:44348/folders",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).changedirectory=function(e){return function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},a.handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(a.props),e.next=4,q(a.state.name,a.props.folder.Id);case 4:a.props.onClose(),window.location.reload();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={name:"",folders:null,breadCrumbs:null},a.onChange=a.onChange.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.changedirectory=a.changedirectory.bind(Object(p.a)(a)),a}return Object(d.a)(n,[{key:"onChange",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"render",value:function(){return this.props.show?Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.name,onChange:this.onChange}),Object(f.jsx)("label",{className:"formlabel",children:"\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435:"}),Object(f.jsxs)("div",{className:"place",children:[Object(f.jsx)("label",{children:this.props.folder.Name})," ",Object(f.jsxs)("button",{className:"button arrow",children:[" -",">"," "]})]})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})}):null}}]),n}(a.Component);function Q(e){return X.apply(this,arguments)}function X(){return(X=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:44348/folders"+"/".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:44348/elements"+"/".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"folder"!==a.props.typeofcomponent){e.next=6;break}return e.next=4,Q(a.props.component.Id);case 4:e.next=8;break;case 6:return e.next=8,Y(a.props.component.Id);case 8:a.props.onClose(),a.setState({isdeleted:!0});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),console.log(a.props),a.state={isdeleted:null},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a}return Object(d.a)(n,[{key:"render",value:function(){if(console.log("\u0440\u0435\u043d\u0434\u0435\u0440 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f"),this.state.isdeleted){var e=this.props.prevpages;return e.length=e.length-1,this.setState({isdeleted:!1}),console.log("\u042f \u0432 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438"),Object(f.jsx)(o.a,{to:{pathname:e[e.length-1].path,state:{body:e[e.length-1].body,breadCrumbs:e}}})}return this.props.show?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsxs)("div",{className:"modal-title",children:["\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438 ",this.props.component.Name]})}),Object(f.jsx)("div",{className:"modal-body",children:Object(f.jsxs)("label",{className:"formlabel",children:[" \u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443 ",this.props.component.Name,"?"]})}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u0414\u0430"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component);function ee(e,t){return te.apply(this,arguments)}function te(){return(te=Object(u.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={Name:t,Id:Number(n)},e.next=3,fetch("https://localhost:44348/folders",{method:"PUT",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ne=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).changedirectory=function(e){return function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},a.handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(a.props),e.next=4,ee(a.state.name,a.props.folder.Id);case 4:a.props.onClose(),a.setState({isupdated:!0});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={name:a.props.folder.Name,folders:null,isupdated:null},a.onChange=a.onChange.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.changedirectory=a.changedirectory.bind(Object(p.a)(a)),a}return Object(d.a)(n,[{key:"onChange",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"componentDidUpdate",value:function(e){e.folder.Id!==this.props.folder.Id&&(console.log("zashel"),this.setState({name:this.props.folder.Name,folders:null,isupdated:null}))}},{key:"render",value:function(){if(this.state.isupdated){var e=this.props.prevpages;return e[e.length-1].title=this.state.name,e[e.length-1].body.Name=this.state.name,this.setState({isupdated:!1}),Object(f.jsx)(o.a,{to:{pathname:e[e.length-1].path,state:{body:e[e.length-1].body,breadCrumbs:e}}})}return this.props.show?Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u043f\u043a\u0443"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.name,onChange:this.onChange}),Object(f.jsx)("label",{className:"formlabel",children:"\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435:"}),Object(f.jsxs)("div",{className:"place",children:[Object(f.jsx)("label",{children:this.props.folder.Name})," ",Object(f.jsxs)("button",{className:"button arrow",children:[" -",">"," "]})]})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})}):null}}]),n}(a.Component);var ae=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a.props.onClose();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),console.log(a.props),a.state={importtype:null,body:null},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.setTypeOfImport=a.setTypeOfImport.bind(Object(p.a)(a)),a.onPasswordChange=a.onPasswordChange.bind(Object(p.a)(a)),a}return Object(d.a)(n,[{key:"setTypeOfImport",value:function(e){this.setState({importtype:e.target.value}),console.log("wow")}},{key:"onPasswordChange",value:function(e){this.setState({body:e.target.value})}},{key:"render",value:function(){if(console.log("\u0440\u0435\u043d\u0434\u0435\u0440 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f"),this.state.isdeleted){var e=this.props.prevpages;return e.length=e.length-1,this.setState({isdeleted:!1}),console.log("\u042f \u0432 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438"),Object(f.jsx)(o.a,{to:{pathname:e[e.length-1].path,state:{body:e[e.length-1].body,breadCrumbs:e}}})}return this.props.show?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsxs)("div",{className:"modal-title",children:["\u0418\u043c\u043f\u043e\u0440\u0442 \u0432 \u043f\u0430\u043f\u043a\u0443 ",this.props.folder.Name]})}),Object(f.jsx)("div",{className:"modal-body",children:Object(f.jsxs)("div",{className:"formwithradio",children:[Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfExport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"fromfolder",name:"gender"})," \u0418\u0437 \u0434\u0440\u0443\u0433\u043e\u0439 \u043f\u0430\u043f\u043a\u0438"]}),Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfExport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"fromlibrary",name:"gender"})," \u0418\u0437 \u043e\u0431\u0449\u0435\u0439 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438"]})]})}),"fromlibrary"===this.state.importtype?Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u0417\u0430\u0434\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.body,onChange:this.onPasswordChange})]}):null,"fromfolder"===this.state.importtype?Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435:"}),Object(f.jsxs)("div",{className:"place",children:[Object(f.jsx)("label",{children:this.props.folder.Name})," ",Object(f.jsx)("button",{className:"button arrow",children:" \u2002\u2192\u2002 "})]})]}):null,Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component);function se(e){var t=Object(a.useState)(!1),n=Object(v.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(!1),o=Object(v.a)(c,2),i=o[0],l=o[1],u=Object(a.useState)(!1),h=Object(v.a)(u,2),d=h[0],p=h[1],b=Object(a.useState)(!1),j=Object(v.a)(b,2),m=j[0],O=j[1],x=Object(a.useState)(!1),g=Object(v.a)(x,2),N=g[0],y=g[1],C=Object(a.useState)(!1),w=Object(v.a)(C,2),k=w[0],S=w[1];return Object(f.jsx)("div",{className:"ToolbarRelative",children:Object(f.jsxs)("div",{className:"Toolbar",children:[Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return r(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442"}),Object(f.jsx)(H,{prevpages:e.previouspages,folder:e.parent,onClose:function(){return r(!1)},show:s}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return l(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443"}),Object(f.jsx)(K,{prevpages:e.previouspages,folder:e.parent,onClose:function(){return l(!1)},show:i}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return p(!0)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443"}),Object(f.jsx)($,{prevpages:e.previouspages,component:e.parent,onClose:function(){return p(!1)},show:d}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return O(!0)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443"}),Object(f.jsx)(ne,{prevpages:e.previouspages,folder:e.parent,onClose:function(){return O(!1)},show:m}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return y(!0)},children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u043f\u0430\u043f\u043a\u0438"}),Object(f.jsx)(A,{prevpages:e.previouspages,folder:e.parent,onClose:function(){return y(!1)},show:N}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return S(!0)},children:"\u0418\u043c\u043f\u043e\u0440\u0442 \u0432 \u043f\u0430\u043f\u043a\u0443"}),Object(f.jsx)(ae,{prevpages:e.previouspages,folder:e.parent,onClose:function(){return S(!1)},show:k})]})})}n(53);var re=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={folders:null,elements:null,breadCrumbs:null},a.handleClick=a.handleClick.bind(Object(p.a)(a)),a}return Object(d.a)(n,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.history.push("/"),localStorage.clear(),window.location.reload()}},{key:"GetFolders",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.location.state.breadCrumbs,-1===(a=n.map((function(e){return e.body.Id})).indexOf(this.props.location.state.body.Id))?n.push({title:this.props.location.state.body.Name,path:"/projects",body:{Name:this.props.location.state.body.Name,Id:this.props.location.state.body.Id}}):n.length=a+1,e.next=5,fetch("https://localhost:44348/folders"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){s.setState({folders:e,breadCrumbs:n})})).catch((function(e){return console.log(e)}));case 5:console.log(this.state);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetElements",value:function(e){var t=this;fetch("https://localhost:44348/elements"+"/".concat(e)).then((function(e){return e.json()})).then((function(e){t.setState({elements:e})})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.GetFolders(this.props.location.state.body.Id);case 2:return e.next=4,this.GetElements(this.props.location.state.body.Id);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("\u042f \u0432 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0442\u0435\u043c\u043f\u043b\u044d\u0439\u0442\u0430"),t.location.state.body.Id===this.props.location.state.body.Id){e.next=6;break}return e.next=4,this.GetFolders(this.props.location.state.body.Id);case 4:return e.next=6,this.GetElements(this.props.location.state.body.Id);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.folders||!this.state.elements)return Object(f.jsx)("div",{});var e=this.state,t=e.folders,n=e.elements,a=e.breadCrumbs;return Object(f.jsxs)("div",{className:"folderPage",children:[Object(f.jsxs)("div",{className:"Header",children:[Object(f.jsx)("div",{className:"BreadCrumbs",children:a.map((function(e){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)(c.b,{className:"BreadCrumb",to:{pathname:e.path,state:{body:e.body,breadCrumbs:a}},children:e.title}),"\u2002\u2192\u2002"]},e.title)}))}),Object(f.jsxs)("div",{className:"settingsinheader",children:[Object(f.jsx)("button",{className:"btn_logout",onClick:this.handleClick,children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(f.jsx)("button",{className:"btn_logout",onClick:this.handleClick,children:"\u0432\u044b\u0445\u043e\u0434"}),Object(f.jsx)("img",{className:"logo",src:m,alt:"toolbaritem"})]})]}),Object(f.jsxs)("div",{className:"listview",children:[t.map((function(e){return Object(f.jsx)("div",{children:Object(f.jsx)(c.b,{className:"folderinlist",to:{pathname:"/projects",state:{breadCrumbs:a,body:e}},children:Object(f.jsx)("div",{className:"NameElementOfList",children:e.Name})})},e.Id)})),n.map((function(e){return Object(f.jsx)("div",{children:Object(f.jsxs)(c.b,{className:"elementinlist",to:{pathname:"/element",state:{breadCrumbs:a,body:e}},children:[Object(f.jsx)("img",{className:"elementimage",src:"data:image/jpeg;base64,".concat(e.Image)}),Object(f.jsx)("div",{className:"NameElementOfList",children:e.Name})]})},e.Id)}))]}),Object(f.jsx)("div",{className:"foldercomponents",children:Object(f.jsx)(se,{previouspages:a,parent:this.props.location.state.body})})]})}}]),n}(a.Component),ce=n(17);function oe(e,t){return ie.apply(this,arguments)}function ie(){return(ie=Object(u.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={characteristics:t,elementid:Number(n)},e.next=3,fetch("https://localhost:44348/characteristics",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var le=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).ChangeName=function(e){return function(t){a.setState((function(n){var a=Object(ce.a)(n.characteristics);return a[e].name=t.target.value,{characteristics:a}}))}},a.ChangeValue=function(e){return function(t){a.setState((function(n){var a=Object(ce.a)(n.characteristics);return a[e].value=t.target.value,{characteristics:a}}))}},a.state={characteristics:null,currentchar:{name:"",value:""}},a.ChangeName=a.ChangeName.bind(Object(p.a)(a)),a.ChangeValue=a.ChangeValue.bind(Object(p.a)(a)),a.CreateNew=a.CreateNew.bind(Object(p.a)(a)),a.CreateNewName=a.CreateNewName.bind(Object(p.a)(a)),a.CreateNewValue=a.CreateNewValue.bind(Object(p.a)(a)),a.Save=a.Save.bind(Object(p.a)(a)),a}return Object(d.a)(n,[{key:"Save",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=[],n=""!==this.state.currentchar.name||""!==this.state.currentchar.name?null===this.state.characteristics?[{name:this.state.currentchar.name,value:this.state.currentchar.value,id:0}]:[].concat(Object(ce.a)(this.state.characteristics),[{name:this.state.currentchar.name,value:this.state.currentchar.value,id:this.state.characteristics.length}]):this.state.characteristics,e.next=5,oe(n,this.props.element.Id);case 5:this.props.onClose(),window.location.reload();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"CreateNewName",value:function(e){var t=e.target.value;this.setState((function(e){return{currentchar:{name:t,value:e.currentchar.value}}}))}},{key:"CreateNewValue",value:function(e){var t=e.target.value;this.setState((function(e){return{currentchar:{name:e.currentchar.name,value:t}}}))}},{key:"CreateNew",value:function(e){e.preventDefault(),null===this.state.characteristics?this.setState((function(e){return{characteristics:[{name:e.currentchar.name,value:e.currentchar.value,id:0}],currentchar:{name:"",value:""}}})):this.setState((function(e){return{characteristics:[].concat(Object(ce.a)(e.characteristics),[{name:e.currentchar.name,value:e.currentchar.value,id:e.characteristics.length}]),currentchar:{name:"",value:""}}}))}},{key:"render",value:function(){var e=this;return this.props.show?Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.currentchar.name,onChange:this.CreateNewName}),Object(f.jsx)("label",{className:"formlabel",children:" \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.currentchar.value,onChange:this.CreateNewValue}),null!==this.state.characteristics?this.state.characteristics.map((function(t){return Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:t.name,onChange:e.ChangeName(t.id)}),Object(f.jsx)("label",{className:"formlabel",children:" \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:t.value,onChange:e.ChangeValue(t.id)})]},t.id)})):null]}),Object(f.jsx)("button",{onClick:this.CreateNew,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u043e\u0434\u043d\u0443"}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.Save,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})}):null}}]),n}(a.Component);function ue(e,t){return he.apply(this,arguments)}function he(){return(he=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var de=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).Selecttelement=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({path:{Name:e.Name,Id:e.Id}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},a.handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,ue(a.state.path.Id,a.props.element.Id);case 3:a.props.onClose();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.changedirectory=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var s,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a.state.breadCrumbs,-1===(r=s.map((function(e){return e.body.Id})).indexOf(e.Id))?s.push({title:e.Name,path:"/templates",body:{Name:e.Name,Id:e.Id}}):s.length=r+1,a.setState({breadCrumbs:s}),t.next=6,a.GetFoldersAndElements(e.Id,s);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},console.log(a.props),a.state={path:{Name:"",Id:null},isneedupdate:!0,folders:null,telements:null,breadCrumbs:null},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.changedirectory=a.changedirectory.bind(Object(p.a)(a)),a.Selecttelement=a.Selecttelement.bind(Object(p.a)(a)),a.CloseWindow=a.CloseWindow.bind(Object(p.a)(a)),a}return Object(d.a)(n,[{key:"CloseWindow",value:function(){this.props.onClose(),this.setState({isneedupdate:!0})}},{key:"GetFoldersAndElements",value:function(){var e=Object(u.a)(l.a.mark((function e(t,n){var a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:44348/templatefolders"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){a.setState({folders:e})})).catch((function(e){return console.log(e)}));case 2:return e.next=4,fetch("https://localhost:44348/templateelements"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){a.setState({telements:e})})).catch((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.show){e.next=5;break}if(!0!==this.state.isneedupdate){e.next=5;break}return this.setState({path:{Name:"",Id:null},folders:null,telements:null,breadCrumbs:[{title:"\u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430",path:"/templae",body:{Name:"\u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430",Id:0}}],isneedupdate:!1}),e.next=5,this.GetFoldersAndElements(0,null);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.show&&this.state.breadCrumbs&&this.state.folders&&this.state.telements?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u0430"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u0430:"}),Object(f.jsx)("div",{className:"selectedpath",children:Object(f.jsx)("label",{children:this.state.path.Name})}),Object(f.jsx)("div",{className:"place",children:Object(f.jsxs)("div",{className:"parentwindowforselectingpath",children:[Object(f.jsx)("div",{className:"modalbreadcrumbs",children:this.state.breadCrumbs.map((function(t){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)("button",{className:"BreadCrumb withoutframe",onClick:e.changedirectory({Id:t.body.Id,Name:t.body.Name}),children:t.title}),"\u2002\u2192\u2002"]},t.title)}))}),Object(f.jsxs)("div",{className:"windowforselectingpath",children:[this.state.folders.length>0?Object(f.jsx)("div",{className:"modalfolders",children:this.state.folders.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonfolder",onClick:e.changedirectory({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))}):null,this.state.telements.length>0?Object(f.jsx)("div",{className:"modalfolders",children:this.state.telements.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonelement",onClick:e.Selecttelement({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))}):null]})]})})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.CloseWindow,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component);function pe(e){return be.apply(this,arguments)}function be(){return(be=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:44348/elements"+"/".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var je=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,pe(a.props.element.Id);case 3:a.props.onClose(),a.setState({isdeleted:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),console.log(a.props),a.state={isdeleted:null},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a}return Object(d.a)(n,[{key:"render",value:function(){if(console.log("\u0440\u0435\u043d\u0434\u0435\u0440 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f"),this.state.isdeleted){var e=this.props.prevpages;return e.length=e.length-1,this.setState({isdeleted:!1}),console.log("\u042f \u0432 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438"),Object(f.jsx)(o.a,{to:{pathname:e[e.length-1].path,state:{body:e[e.length-1].body,breadCrumbs:e}}})}return this.props.show?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsxs)("div",{className:"modal-title",children:["\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430 ",this.props.element.Name]})}),Object(f.jsx)("div",{className:"modal-body",children:Object(f.jsxs)("label",{className:"formlabel",children:[" \u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442 ",this.props.element.Name,"?"]})}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u0414\u0430"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component);var me=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).ChangeName=function(e){return function(t){a.setState((function(n){var a=Object(ce.a)(n.characteristics);return a[e].name=t.target.value,{characteristics:a}}))}},a.ChangeShow=function(e){return function(t){a.setState({typeofedit:e})}},a.DeleteChar=function(e){return function(t){a.setState((function(t){return{characteristics:t.characteristics.filter((function(t){return t.Id!==e}))}}))}},a.DeleteClass=function(e){return function(t){a.setState((function(t){return{templatecharacteristics:t.templatecharacteristics.filter((function(t){return t.Id!==e}))}}))}},a.ChangeValue=function(e){return function(t){a.setState((function(n){var a=Object(ce.a)(n.characteristics);return a[e].value=t.target.value,{characteristics:a}}))}},a.DeleteRelation=function(e){return function(t){a.setState((function(t){return{relations:t.relations.filter((function(t){return t.Id!==e}))}}))}},a.state={templatecharacteristics:null,characteristics:null,typeofedit:"element",relations:null,element:a.props.element,isneedupdate:!0},a.onChange=a.onChange.bind(Object(p.a)(a)),a.Save=a.Save.bind(Object(p.a)(a)),a.handleImageChange=a.handleImageChange.bind(Object(p.a)(a)),a}return Object(d.a)(n,[{key:"onChange",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"Save",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),this.props.onClose(),window.location.reload();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleImageChange",value:function(e){if(e.preventDefault(),e.target.files.length>0){for(var t=new FormData,n=0;n<e.target.files.length;n++){var a=e.target.files[n];t.append("image",a)}t.append("parentfolderid",this.props.folder.Id),this.setState({file:t,filepath:URL.createObjectURL(e.target.files[0])})}else null!=this.state.file&&this.setState({file:null,filepath:null})}},{key:"GetFoldersElementsRelations",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:44348/characteristics"+"?idelement=".concat(t)).then((function(e){return e.json()})).then((function(e){n=e})).catch((function(e){return console.log(e)}));case 2:return e.next=4,fetch("https://localhost:44348/characteristics"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){a=e})).catch((function(e){return console.log(e)}));case 4:return e.next=6,fetch("https://localhost:44348/relations"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){s=e})).catch((function(e){return console.log(e)}));case 6:this.setState({templatecharacteristics:n,characteristics:a,relations:s});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.show){e.next=5;break}if(!0!==this.state.isneedupdate){e.next=5;break}return this.setState({templatecharacteristics:null,characteristics:null,typeofedit:"element",relations:null,element:this.props.element,isneedupdate:!1}),e.next=5,this.GetFoldersElementsRelations(this.props.element.Id);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(!this.props.show)return null;if(!this.state.characteristics||!this.state.templatecharacteristics||!this.state.relations)return null;var t=this.state.templatecharacteristics.map((function(e){return{idparent:e.IdParent,name:e.NameParent}})),n=new Set,a=t.reduce((function(e,t){return n.has(t.idparent)||(n.add(t.idparent,t),e.push(t)),e}),[]);return Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430"})}),Object(f.jsxs)("div",{className:"modal-body",children:["element"===this.state.typeofedit?Object(f.jsxs)("div",{className:"ShowMenu",children:[Object(f.jsx)("button",{className:"button current",children:"\u044d\u043b\u0435\u043c\u0435\u043d\u0442"}),Object(f.jsx)("button",{className:"button",onClick:this.ChangeShow("characteristics"),children:"\u0445\u0430\u0440\u0430\u043a\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),Object(f.jsx)("button",{className:"button",onClick:this.ChangeShow("relations"),children:"\u0441\u0432\u044f\u0437\u0438"})]}):null,"characteristics"===this.state.typeofedit?Object(f.jsxs)("div",{className:"ShowMenu",children:[Object(f.jsx)("button",{className:"button",onClick:this.ChangeShow("element"),children:"\u044d\u043b\u0435\u043c\u0435\u043d\u0442"}),Object(f.jsx)("button",{className:"button current",children:"\u0445\u0430\u0440\u0430\u043a\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),Object(f.jsx)("button",{className:"button",onClick:this.ChangeShow("relations"),children:"\u0441\u0432\u044f\u0437\u0438"})]}):null,"relations"===this.state.typeofedit?Object(f.jsxs)("div",{className:"ShowMenu",children:[Object(f.jsx)("button",{className:"button",onClick:this.ChangeShow("element"),children:"\u044d\u043b\u0435\u043c\u0435\u043d\u0442"}),Object(f.jsx)("button",{className:"button",onClick:this.ChangeShow("characteristics"),children:"\u0445\u0430\u0440\u0430\u043a\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),Object(f.jsx)("button",{className:"button current",children:"\u0441\u0432\u044f\u0437\u0438"})]}):null,"element"===this.state.typeofedit?Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.name,onChange:this.onChange}),Object(f.jsxs)("div",{className:"modal-image",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435:"}),Object(f.jsx)("input",{type:"file",onChange:function(t){return e.handleImageChange(t)}}),null===this.state.filepath?Object(f.jsx)("div",{}):Object(f.jsx)("img",{className:"downloadimage",src:this.state.filepath})]})]}):null,"characteristics"===this.state.typeofedit?Object(f.jsxs)("div",{children:[a.map((function(e){return Object(f.jsxs)("div",{className:"ParentElement",children:[Object(f.jsx)("button",{className:"button arrow",children:"\u2297"}),e.name]},e.idparent)})),this.state.characteristics.map((function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{className:"button arrow",children:"\u2297"})," ",e.Name,": ",e.Value]},e.Id)}))]}):null,"relations"===this.state.typeofedit?Object(f.jsx)("div",{children:this.state.relations.map((function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{className:"button arrow",children:"\u2297"}),e.NameFirstElement,"\u2002\u2192\u2002",e.NameSecondElement,": ",e.Rel1to2,null!==e.Rel2to1?Object(f.jsxs)("div",{children:[e.NameSecondElement,"\u2002\u2192\u2002",e.NameFirstElement,": ",e.Rel2to1]}):null]},e.IdFirst)}))}):null]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.Save,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})})}}]),n}(a.Component);function fe(e,t){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(u.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={Name:t,ParentfolderId:Number(n)},e.next=3,fetch("https://localhost:44348/elements",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e){return xe.apply(this,arguments)}function xe(){return(xe=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:44348/elements/image",{method:"POST",body:t,headers:{Accept:"application/json"}}).then((function(e){console.log(e.status)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ge=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={name:"",filepath:null,file:null},a.onChange=a.onChange.bind(Object(p.a)(a)),a.sendImage=a.sendImage.bind(Object(p.a)(a)),a.handleImageChange=a.handleImageChange.bind(Object(p.a)(a)),a}return Object(d.a)(n,[{key:"onChange",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"sendImage",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fe(this.state.name,this.props.folder.Id);case 3:if(null==this.state.file){e.next=6;break}return e.next=6,ve(this.state.file);case 6:this.props.onClose(),window.location.reload();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleImageChange",value:function(e){if(e.preventDefault(),e.target.files.length>0){for(var t=new FormData,n=0;n<e.target.files.length;n++){var a=e.target.files[n];t.append("image",a)}t.append("parentfolderid",this.props.folder.Id),this.setState({file:t,filepath:URL.createObjectURL(e.target.files[0])})}else null!=this.state.file&&this.setState({file:null,filepath:null})}},{key:"render",value:function(){var e=this;return this.props.show?Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.name,onChange:this.onChange}),Object(f.jsx)("label",{className:"formlabel",children:"\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435:"}),Object(f.jsxs)("div",{className:"place",children:[Object(f.jsx)("label",{children:this.props.folder.Name})," ",Object(f.jsxs)("button",{className:"button arrow",children:[" -",">"," "]})]}),Object(f.jsxs)("div",{className:"modal-image",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u0424\u043e\u0442\u043e:"}),Object(f.jsx)("input",{type:"file",onChange:function(t){return e.handleImageChange(t)}}),null===this.state.filepath?Object(f.jsx)("div",{}):Object(f.jsx)("img",{className:"downloadimage",src:this.state.filepath})]})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.sendImage,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})}):null}}]),n}(a.Component);function Ne(e,t,n,a){return ye.apply(this,arguments)}function ye(){return(ye=Object(u.a)(l.a.mark((function e(t,n,a,s){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={Firstelementid:Number(t),Secondelementid:Number(n),Rel1to2:a,Rel2to1:s},e.next=3,fetch("https://localhost:44348/relations/relation2",{method:"POST",body:JSON.stringify(r),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e,t,n){return we.apply(this,arguments)}function we(){return(we=Object(u.a)(l.a.mark((function e(t,n,a){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={Firstelementid:Number(t),Secondelementid:Number(n),Rel1to2:a,Rel2to1:null},e.next=3,fetch("https://localhost:44348/relations/relation1",{method:"POST",body:JSON.stringify(s),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ke=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).Selecttelement=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({path:{Name:e.Name,Id:e.Id}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},a.handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"\u041e\u0434\u043d\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u044f\u044f"!==a.state.typeofrel){e.next=11;break}if(!a.state.defaultdirection){e.next=7;break}return e.next=5,Ce(a.props.element.Id,a.state.path.Id,a.state.firstrel);case 5:e.next=9;break;case 7:return e.next=9,Ce(a.state.path.Id,a.props.element.Id,a.state.firstrel);case 9:e.next=18;break;case 11:if(!a.state.defaultdirection){e.next=16;break}return e.next=14,Ne(a.props.element.Id,a.state.path.Id,a.state.firstrel,a.state.secondrel);case 14:e.next=18;break;case 16:return e.next=18,Ne(a.state.path.Id,a.props.element.Id,a.state.firstrel,a.state.secondrel);case 18:window.location.reload(),a.props.onClose();case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.changedirectory=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var s,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a.state.breadCrumbs,-1===(r=s.map((function(e){return e.body.Id})).indexOf(e.Id))?s.push({title:e.Name,path:"/templates",body:{Name:e.Name,Id:e.Id}}):s.length=r+1,a.setState({breadCrumbs:s}),t.next=6,a.GetFoldersAndElements(e.Id,s);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},console.log(a.props),a.state={path:{Name:"",Id:null},typeofrel:"\u041e\u0434\u043d\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u044f\u044f",firstrel:null,secondrel:null,defaultdirection:!0,isneedupdate:!0,folders:null,elements:null,breadCrumbs:a.props.prevpages.slice(0,-1)},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.changedirectory=a.changedirectory.bind(Object(p.a)(a)),a.Selecttelement=a.Selecttelement.bind(Object(p.a)(a)),a.CloseWindow=a.CloseWindow.bind(Object(p.a)(a)),a.changedirection=a.changedirection.bind(Object(p.a)(a)),a.changeonelinerel=a.changeonelinerel.bind(Object(p.a)(a)),a.changesecondlinerel=a.changesecondlinerel.bind(Object(p.a)(a)),a.changetypeofrel=a.changetypeofrel.bind(Object(p.a)(a)),a}return Object(d.a)(n,[{key:"changetypeofrel",value:function(e){"\u041e\u0434\u043d\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u044f\u044f"===this.state.typeofrel?this.setState({typeofrel:"\u0414\u0432\u0443\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u044f\u044f"}):this.setState({typeofrel:"\u041e\u0434\u043d\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u044f\u044f"})}},{key:"changeonelinerel",value:function(e){this.setState({firstrel:e.target.value})}},{key:"changesecondlinerel",value:function(e){this.setState({secondrel:e.target.value})}},{key:"changedirection",value:function(e){this.state.defaultdirection?this.setState({defaultdirection:!1}):this.setState({defaultdirection:!0})}},{key:"CloseWindow",value:function(){this.props.onClose(),this.setState({isneedupdate:!0})}},{key:"GetFoldersAndElements",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:44348/folders"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){n=e})).catch((function(e){return console.log(e)}));case 2:return e.next=4,fetch("https://localhost:44348/elements"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){a=e})).catch((function(e){return console.log(e)}));case 4:this.setState({folders:n,elements:a});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.show){e.next=5;break}if(!0!==this.state.isneedupdate){e.next=5;break}return this.setState({path:{Name:"",Id:null},defaultdirection:!0,isneedupdate:!1,folders:null,elements:null,breadCrumbs:this.props.prevpages.slice(0,-1)}),e.next=5,this.GetFoldersAndElements(this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Id);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.show&&this.state.breadCrumbs&&this.state.folders&&this.state.elements?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0432\u044f\u0437\u0438"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u0421\u0432\u044f\u0437\u0430\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0441:"}),Object(f.jsx)("div",{className:"selectedpath",children:Object(f.jsx)("label",{children:""!==this.state.path.Name?Object(f.jsx)("div",{children:this.state.path.Name}):Object(f.jsx)("div",{children:"\u042d\u043b\u0435\u043c\u0435\u043d\u0442 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d"})})}),Object(f.jsx)("div",{className:"place",children:Object(f.jsxs)("div",{className:"parentwindowforselectingpath",children:[Object(f.jsx)("div",{className:"modalbreadcrumbs",children:this.state.breadCrumbs.slice(1).map((function(t){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)("button",{className:"BreadCrumb withoutframe",onClick:e.changedirectory({Id:t.body.Id,Name:t.body.Name}),children:t.title}),"\u2002\u2192\u2002"]},t.title)}))}),Object(f.jsxs)("div",{className:"windowforselectingpath",children:[this.state.folders.length>0?Object(f.jsx)("div",{className:"modalfolders",children:this.state.folders.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonfolder",onClick:e.changedirectory({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))}):null,this.state.elements.length>0?Object(f.jsx)("div",{className:"modalfolders",children:this.state.elements.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonelement",onClick:e.Selecttelement({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))}):null]})]})}),""!==this.state.path.Name?Object(f.jsxs)("div",{className:"Relations",children:[this.state.defaultdirection?Object(f.jsxs)("label",{className:"formlabel",children:["\u0421\u0432\u044f\u0437\u044c ",this.props.element.Name," \u0441 ",this.state.path.Name]}):Object(f.jsxs)("label",{className:"formlabel",children:["\u0421\u0432\u044f\u0437\u044c ",this.state.path.Name," \u0441 ",this.props.element.Name]}),Object(f.jsx)("button",{className:"button arrow",onClick:this.changedirection,children:"\u2194"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.firstrel,onChange:this.changeonelinerel}),"\u0414\u0432\u0443\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u044f\u044f"===this.state.typeofrel?Object(f.jsxs)("div",{children:[this.state.defaultdirection?Object(f.jsxs)("label",{className:"formlabel",children:["\u0421\u0432\u044f\u0437\u044c ",this.state.path.Name," \u0441 ",this.props.element.Name]}):Object(f.jsxs)("label",{className:"formlabel",children:["\u0421\u0432\u044f\u0437\u044c ",this.props.element.Name," \u0441 ",this.state.path.Name]}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.secondrel,onChange:this.changesecondlinerel})]}):null,Object(f.jsxs)("div",{className:"selectedpath",children:[Object(f.jsxs)("label",{className:"formlabel",children:["\u0422\u0438\u043f \u0441\u0432\u044f\u0437\u0438: ",this.state.typeofrel]}),Object(f.jsx)("button",{className:"button arrow",onClick:this.changetypeofrel,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]})]}):null]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.CloseWindow,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component);function Se(e){var t=Object(a.useState)(!1),n=Object(v.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(!1),o=Object(v.a)(c,2),i=o[0],l=o[1],u=Object(a.useState)(!1),h=Object(v.a)(u,2),d=h[0],p=h[1],b=Object(a.useState)(!1),j=Object(v.a)(b,2),m=j[0],O=j[1],x=Object(a.useState)(!1),g=Object(v.a)(x,2),N=g[0],y=g[1],C=Object(a.useState)(!1),w=Object(v.a)(C,2),k=w[0],S=w[1];return Object(f.jsx)("div",{className:"ToolbarRelative",children:Object(f.jsxs)("div",{className:"Toolbar",children:[Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return r(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),Object(f.jsx)(le,{element:e.parent,prevpages:e.previouspages,onClose:function(){return r(!1)},show:s}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return l(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0441"}),Object(f.jsx)(de,{element:e.parent,prevpages:e.previouspages,onClose:function(){return l(!1)},show:i}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return S(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0432\u044f\u0437\u044c"}),Object(f.jsx)(ke,{element:e.parent,prevpages:e.previouspages,onClose:function(){return S(!1)},show:k}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return p(!0)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442"}),Object(f.jsx)(je,{prevpages:e.previouspages,element:e.parent,onClose:function(){return p(!1)},show:d}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return y(!0)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442"}),Object(f.jsx)(me,{element:e.parent,prevpages:e.previouspages,onClose:function(){return y(!1)},show:N}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return O(!0)},children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430"}),Object(f.jsx)(ge,{element:e.parent,prevpages:e.previouspages,onClose:function(){return O(!1)},show:m})]})})}n(54);var Ie=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).ChangeShow=function(e){return function(t){a.setState({showcharacreristics:e})}},a.state={templatecharacteristics:null,breadCrumbs:null,characteristics:null,showcharacreristics:!0,relations:null},a}return Object(d.a)(n,[{key:"GetTemplateCharacteristics",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.location.state.breadCrumbs,-1===(a=n.map((function(e){return e.body.Id})).indexOf(this.props.location.state.body.Id))?n.push({title:this.props.location.state.body.Name,path:"/element",body:{Name:this.props.location.state.body.Name,Id:this.props.location.state.body.Id}}):n.length=a+1,console.log("https://localhost:44348/characteristics"+"?idelement=".concat(t)),e.next=6,fetch("https://localhost:44348/characteristics"+"?idelement=".concat(t)).then((function(e){return e.json()})).then((function(e){s.setState({templatecharacteristics:e,breadCrumbs:n})})).catch((function(e){return console.log(e)}));case 6:console.log(this.state);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetCharacteristics",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:44348/characteristics"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){n.setState({characteristics:e})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetRelations",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:44348/relations"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){n.setState({relations:e})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.GetTemplateCharacteristics(this.props.location.state.body.Id);case 2:return e.next=4,this.GetCharacteristics(this.props.location.state.body.Id);case 4:return e.next=6,this.GetRelations(this.props.location.state.body.Id);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.templatecharacteristics||!this.state.characteristics)return Object(f.jsx)("div",{});var e=this.state,t=e.templatecharacteristics,n=e.characteristics,a=e.breadCrumbs,s=e.showcharacreristics,r=e.relations,o=t.map((function(e){return{idparent:e.IdParent,name:e.NameParent}})),i=new Set,l=o.reduce((function(e,t){return i.has(t.idparent)||(i.add(t.idparent,t),e.push(t)),e}),[]);return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"Header",children:[Object(f.jsx)("div",{className:"BreadCrumbs",children:a.map((function(e){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)(c.b,{className:"BreadCrumb",to:{pathname:e.path,state:{body:e.body,breadCrumbs:a}},children:e.title}),"\u2002\u2192\u2002"]},e.title)}))}),Object(f.jsxs)("div",{className:"settingsinheader",children:[Object(f.jsx)("button",{className:"btn_logout",onClick:this.handleClick,children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(f.jsx)("button",{className:"btn_logout",onClick:this.handleClick,children:"\u0432\u044b\u0445\u043e\u0434"}),Object(f.jsx)("img",{className:"logo",src:m,alt:"toolbaritem"})]})]}),Object(f.jsxs)("div",{className:"ElementBody",children:[Object(f.jsxs)("div",{className:"Characteristics",children:[s?Object(f.jsxs)("div",{className:"ShowMenu",children:[Object(f.jsx)("button",{className:"button current",children:"\u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),Object(f.jsx)("button",{className:"button",onClick:this.ChangeShow(!1),children:"\u0441\u0432\u044f\u0437\u0438"})]}):Object(f.jsxs)("div",{className:"ShowMenu",children:[Object(f.jsx)("button",{className:"button",onClick:this.ChangeShow(!0),children:"\u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),Object(f.jsx)("button",{className:"button current",children:"\u0441\u0432\u044f\u0437\u0438"})]}),s?Object(f.jsxs)("div",{children:[l.map((function(e){return Object(f.jsxs)("div",{className:"ParentElement",children:[e.name,t.filter((function(t){return t.IdParent===e.idparent})).map((function(e){return Object(f.jsxs)("div",{className:"ParentCharacteristic",children:[e.NameCharacter,": ",e.ValueCharacter]},e.IdCharacter)}))]},e.idparent)})),n.map((function(e){return Object(f.jsxs)("div",{children:[e.Name,": ",e.Value]},e.Id)}))]}):Object(f.jsx)("div",{children:r.map((function(e){return Object(f.jsxs)("div",{children:[e.NameFirstElement,"\u2002\u2192\u2002",e.NameSecondElement,": ",e.Rel1to2,null!==e.Rel2to1?Object(f.jsxs)("div",{children:[e.NameSecondElement,"\u2002\u2192\u2002",e.NameFirstElement,": ",e.Rel2to1]}):null]},e.IdFirst)}))})]}),Object(f.jsx)("img",{className:"ImageElement",src:"data:image/jpeg;base64,".concat(this.props.location.state.body.Image)})]}),Object(f.jsx)(Se,{previouspages:a,parent:this.props.location.state.body})]})}}]),n}(a.Component),Te=n(33),Pe=n.n(Te),Ee=n(34),De=n.n(Ee);function Me(e){return Be.apply(this,arguments)}function Be(){return(Be=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:44348/folders"+"/".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(e){return Fe.apply(this,arguments)}function Fe(){return(Fe=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:44348/elements"+"/".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Re=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"folder"!==a.props.typeofcomponent){e.next=6;break}return e.next=4,Me(a.props.component.Id);case 4:e.next=8;break;case 6:return e.next=8,Ge(a.props.component.Id);case 8:a.props.onClose(),a.setState({isdeleted:!0});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),console.log(a.props),a.state={isdeleted:null},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a}return Object(d.a)(n,[{key:"render",value:function(){if(console.log("\u0440\u0435\u043d\u0434\u0435\u0440 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f"),this.state.isdeleted){var e=this.props.prevpages;return e.length=e.length-1,this.setState({isdeleted:!1}),console.log("\u042f \u0432 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438"),Object(f.jsx)(o.a,{to:{pathname:e[e.length-1].path,state:{body:e[e.length-1].body,breadCrumbs:e}}})}return this.props.show?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsxs)("h4",{className:"modal-title",children:["\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 ",this.props.component.Name]})}),Object(f.jsx)("div",{className:"modal-body",children:Object(f.jsxs)("label",{className:"formlabel",children:[" \u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c ","template"===this.props.typeofcomponent?"\u043f\u0430\u043f\u043a\u0443":"\u044d\u043b\u0435\u043c\u0435\u043d\u0442"," ",this.props.component.Name,"?"]})}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button",onClick:this.handleSubmit,children:"\u0414\u0430"}),Object(f.jsx)("button",{className:"button",onClick:this.props.onClose,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component),Ae=n(35),Le=n.n(Ae),Ue=n(36),Ve=n.n(Ue);function Je(e){var t=Object(a.useState)(!1),n=Object(v.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(!1),o=Object(v.a)(c,2),i=o[0],l=o[1],u=Object(a.useState)(!1),h=Object(v.a)(u,2),d=h[0],p=h[1],b=Object(a.useState)(!1),j=Object(v.a)(b,2),m=j[0],O=j[1],x=Object(a.useState)(!1),g=Object(v.a)(x,2),N=g[0],y=g[1];return Object(f.jsx)("div",{className:"ToolbarRelative",children:Object(f.jsxs)("div",{className:"Toolbar",children:[Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return r(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),Object(f.jsx)(Pe.a,{element:e.parent,prevpages:e.previouspages,onClose:function(){return r(!1)},show:s}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return l(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0441"}),Object(f.jsx)(De.a,{element:e.parent,prevpages:e.previouspages,onClose:function(){return l(!1)},show:i}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return p(!0)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0441"}),Object(f.jsx)(Re,{prevpages:e.previouspages,component:e.parent,onClose:function(){return p(!1)},show:d}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return y(!0)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0441"}),Object(f.jsx)(Le.a,{element:e.parent,prevpages:e.previouspages,onClose:function(){return y(!1)},show:N}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return O(!0)},children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u043a\u043b\u0430\u0441\u0441\u0430"}),Object(f.jsx)(Ve.a,{component:e.parent,typeofcomponent:e.typeof_parentel,onClose:function(){return O(!1)},show:m})]})})}n(55);var _e=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={templatecharacteristics:null,breadCrumbs:null,characteristics:null,savepath:null},a.handleClick=a.handleClick.bind(Object(p.a)(a)),a}return Object(d.a)(n,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.history.push("/"),localStorage.clear(),window.location.reload()}},{key:"GetTemplateCharacteristics",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.location.state.breadCrumbs,-1===(a=n.map((function(e){return"/telement"===e.path?e.body.Id:0})).indexOf(this.props.location.state.body.Id))?n.push({title:this.props.location.state.body.Name,path:"/telement",body:{Name:this.props.location.state.body.Name,Id:this.props.location.state.body.Id}}):n.length=a+1,console.log("https://localhost:44348/templatecharacteristics"+"?idelement=".concat(t)),e.next=6,fetch("https://localhost:44348/templatecharacteristics"+"?idelement=".concat(t)).then((function(e){return e.json()})).then((function(e){s.setState({templatecharacteristics:e,breadCrumbs:n})})).catch((function(e){return console.log(e)}));case 6:console.log(this.state);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetCharacteristics",value:function(e){var t=this;fetch("https://localhost:44348/templatecharacteristics"+"/".concat(e)).then((function(e){return e.json()})).then((function(e){t.setState({characteristics:e})})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.GetTemplateCharacteristics(this.props.location.state.body.Id);case 2:return e.next=4,this.GetCharacteristics(this.props.location.state.body.Id);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("\u042f \u0432 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0442\u0435\u043c\u043f\u043b\u044d\u0439\u0442\u0430"),t.location.state.body.path===this.props.location.state.body.path){e.next=6;break}return e.next=4,this.GetTemplateCharacteristics(this.props.location.state.body.Id);case 4:return e.next=6,this.GetCharacteristics(this.props.location.state.body.Id);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;if(!this.state.templatecharacteristics||!this.state.characteristics)return Object(f.jsx)("div",{});var t=this.state,n=t.templatecharacteristics,a=t.characteristics,s=t.breadCrumbs,r=n.map((function(e){return{idparent:e.IdParent,name:e.NameParent}})),o=new Set,i=r.reduce((function(e,t){return o.has(t.idparent)||(o.add(t.idparent,t),e.push(t)),e}),[]);return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"header2",children:null===(e=s[s.length-1])||void 0===e?void 0:e.title}),Object(f.jsx)("div",{className:"BreadCrumbs",children:s.map((function(e){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)(c.b,{className:"BreadCrumb",to:{pathname:e.path,state:{body:e.body,breadCrumbs:s}},children:e.title}),"\u2002\u2192\u2002"]},e.title)}))}),Object(f.jsx)(Je,{previouspages:s,typeof_parentel:"templateelement",parent:this.props.location.state.body}),Object(f.jsxs)("div",{className:"Characteristics",children:[i.map((function(e){return Object(f.jsxs)("div",{className:"Element",children:[e.name,n.filter((function(t){return t.IdParent===e.idparent})).map((function(e){return Object(f.jsxs)("div",{className:"Characteristic",children:[e.NameCharacter,": ",e.ValueCharacter]},e.IdCharacter)}))]},e.idparent)})),a.map((function(e){return Object(f.jsxs)("div",{children:[e.Name,": ",e.Value]},e.Id)}))]})]})}}]),n}(a.Component);n(56);function We(e,t){return He.apply(this,arguments)}function He(){return(He=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://localhost:44348/users"+"?mail=".concat(t,"&pass=").concat(n),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(e){var t=e.setToken,n=Object(a.useState)(),s=Object(v.a)(n,2),r=s[0],i=s[1],h=Object(a.useState)(),d=Object(v.a)(h,2),p=d[0],b=d[1],j=Object(o.g)(),O=function(){var e=Object(u.a)(l.a.mark((function e(n){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,We(r,p);case 3:a=e.sent,s={Mail:a.Mail,Password:a.Password},j.push({pathname:"/"}),console.log(s),t(s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{className:"body",children:Object(f.jsx)("div",{className:"border",children:Object(f.jsxs)("form",{className:"login-wrapper",onSubmit:O,children:[Object(f.jsx)("img",{className:"logo",src:m,alt:"toolbaritem"}),Object(f.jsx)("div",{className:"header",children:"Creapedia"}),Object(f.jsxs)("label",{className:"form-row",children:[Object(f.jsx)("p",{children:"\u043f\u043e\u0447\u0442\u0430"}),Object(f.jsx)("input",{type:"text",placeholder:"exapmle@email.com",onChange:function(e){return i(e.target.value)}})]}),Object(f.jsxs)("label",{className:"form-row",children:[Object(f.jsx)("p",{children:"\u043f\u0430\u0440\u043e\u043b\u044c"}),Object(f.jsx)("input",{type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",onChange:function(e){return b(e.target.value)}})]}),Object(f.jsxs)("div",{className:"loginlinks",children:[Object(f.jsx)(c.b,{className:"RegistrationLink",to:{pathname:"/registration",state:{body:null}},children:"\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(f.jsx)(c.b,{className:"ForgotPass",to:{pathname:"/registration",state:{body:null}},children:"\u0437\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})]}),Object(f.jsx)("label",{className:"form-row",children:Object(f.jsx)("button",{type:"submit",children:"\u0432\u043e\u0439\u0442\u0438"})})]})})})}function ze(e,t){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(u.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={Mail:t,Password:n},e.next=3,fetch("https://localhost:44348/users",{method:"POST",body:JSON.stringify(a),headers:{"Access-Control-Request-Method":"POST",Origin:"http://localhost:3000",Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qe=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,ze(a.state.mail,a.state.password);case 3:alert("\u0412\u044b \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c! \u0414\u043b\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u0430\u0434\u0440\u0435\u0441\u0430, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435, \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u0443\u044e \u0432\u0430\u043c \u043d\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443"),a.setState({ifregister:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={mail:"",password:"",ifregister:null},a.onChangeMail=a.onChangeMail.bind(Object(p.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a}return Object(d.a)(n,[{key:"onChangeMail",value:function(e){var t=e.target.value;this.setState({mail:t})}},{key:"onChangePassword",value:function(e){var t=e.target.value;this.setState({password:t})}},{key:"render",value:function(){return this.state.ifregister?Object(f.jsx)(o.a,{to:{pathname:"/",state:{body:null}}}):Object(f.jsx)("div",{className:"body",children:Object(f.jsx)("div",{className:"border",children:Object(f.jsxs)("form",{className:"login-wrapper",onSubmit:this.handleSubmit,children:[Object(f.jsx)("img",{className:"logo",src:m,alt:"toolbaritem"}),Object(f.jsx)("div",{className:"header",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(f.jsxs)("label",{className:"form-row",children:[Object(f.jsx)("p",{children:"\u043f\u043e\u0447\u0442\u0430"}),Object(f.jsx)("input",{type:"text",value:this.state.mail,onChange:this.onChangeMail,placeholder:"exapmle@email.com"})]}),Object(f.jsxs)("label",{className:"form-row",children:[Object(f.jsx)("p",{children:"\u043f\u0430\u0440\u043e\u043b\u044c"}),Object(f.jsx)("input",{type:"password",value:this.state.password,onChange:this.onChangePassword,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]}),Object(f.jsx)("div",{className:"loginlinks",children:Object(f.jsx)(c.b,{className:"RegistrationLink",to:{pathname:"/login",state:{body:null}},children:"\u043d\u0430\u0437\u0430\u0434"})}),Object(f.jsx)("label",{className:"form-row",children:Object(f.jsx)("button",{type:"submit",children:"\u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]})})})}}]),n}(a.Component);function Xe(e,t){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:({Mail:t,Password:n});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ze=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).DeleteAcc=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Xe(a.state.mail,a.state.password);case 3:alert("\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Xe(a.state.mail,a.state.password);case 3:alert("\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={mail:a.props.body.Mail,password:a.props.body.Password},a.onChangeMail=a.onChangeMail.bind(Object(p.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.DeleteAcc=a.DeleteAcc.bind(Object(p.a)(a)),a}return Object(d.a)(n,[{key:"onChangeMail",value:function(e){var t=e.target.value;this.setState({mail:t})}},{key:"onChangePassword",value:function(e){var t=e.target.value;this.setState({password:t})}},{key:"render",value:function(){return Object(f.jsx)("div",{className:"body",children:Object(f.jsx)("div",{className:"border",children:Object(f.jsxs)("form",{className:"login-wrapper",onSubmit:this.handleSubmit,children:[Object(f.jsx)("img",{className:"logo",src:m,alt:"toolbaritem"}),Object(f.jsx)("div",{className:"header",children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(f.jsxs)("label",{className:"form-row",children:[Object(f.jsx)("p",{children:"\u043f\u043e\u0447\u0442\u0430"}),Object(f.jsx)("input",{type:"text",value:this.state.mail,onChange:this.onChangeMail,placeholder:"exapmle@email.com"})]}),Object(f.jsxs)("label",{className:"form-row",children:[Object(f.jsx)("p",{children:"\u043f\u0430\u0440\u043e\u043b\u044c"}),Object(f.jsx)("input",{type:"password",value:this.state.password,onChange:this.onChangePassword,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]}),Object(f.jsx)("label",{className:"form-row",children:Object(f.jsx)("button",{type:"submit",children:"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})}),Object(f.jsx)("label",{className:"form-row",children:Object(f.jsx)("button",{onClick:this.DeleteAcc,children:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(f.jsx)("div",{className:"loginlinks",children:Object(f.jsx)(c.b,{className:"RegistrationLink",to:{pathname:"/main",state:{body:{Mail:this.state.mail,Password:this.state.password}}},children:"\u043d\u0430\u0437\u0430\u0434"})})]})})})}}]),n}(a.Component),$e=n(37),et=n.n($e);n(57);var tt=Object(o.h)((function(e){var t=function(){var e=Object(a.useState)(function(){var e=localStorage.getItem("token"),t=JSON.parse(e);return console.log(t),t}()),t=Object(v.a)(e,2),n=t[0],s=t[1];return{setToken:function(e){localStorage.setItem("token",JSON.stringify(e)),s(e)},token:n}}(),n=t.token,s=t.setToken;return n?Object(f.jsx)(c.a,{children:Object(f.jsxs)(o.d,{children:[Object(f.jsx)(o.b,{path:"/main",component:O}),Object(f.jsx)(o.b,{path:"/template",component:U}),Object(f.jsx)(o.b,{path:"/projects",component:re}),Object(f.jsx)(o.b,{path:"/element",component:Ie}),Object(f.jsx)(o.b,{path:"/telement",component:_e}),Object(f.jsx)(o.b,{path:"/library",component:et.a}),Object(f.jsx)(o.b,{path:"/settings",children:Object(f.jsx)(Ze,{body:n})}),Object(f.jsx)(o.a,{from:"/",to:{pathname:"/main",state:{body:n}}})]})}):Object(f.jsx)(c.a,{children:Object(f.jsxs)(o.d,{children:[Object(f.jsx)(o.b,{path:"/registration",component:Qe}),Object(f.jsx)(o.b,{path:"/login",children:Object(f.jsx)(qe,{setToken:s})}),Object(f.jsx)(o.a,{from:"/",to:{pathname:"/login"}})]})})})),nt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))};r.a.render(Object(f.jsx)(c.a,{children:Object(f.jsx)(tt,{})}),document.getElementById("root")),nt()}],[[58,1,2]]]);
//# sourceMappingURL=main.98ac84a4.chunk.js.map