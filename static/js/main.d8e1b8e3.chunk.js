(this.webpackJsonpcreapediaweb=this.webpackJsonpcreapediaweb||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},,,,,,,,function(e,t,n){},,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,function(e,t,n){},,function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(2),s=n(28),r=n.n(s),c=(n(41),n(42),n(9)),o=n(11),i=n(1),l=n.n(i),u=n(3),d=n(5),h=n(6),p=n(4),b=n(8),m=n(7),j=(n(44),n.p+"static/media/logo4x.bffe58ac.png"),f=n(0),O=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),a=t.call(this,e),console.log(e),a.state={user:null,mainfolders:null},a.handleClick=a.handleClick.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.history.push("/"),localStorage.clear(),window.location.reload()}},{key:"GetMainFolders",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/main/".concat(t)).then((function(e){return e.json()})).then((function(e){n.setState({mainfolders:e}),console.log(e)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"loginUser",value:function(){var e=Object(u.a)(l.a.mark((function e(t,n){var a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/users"+"?mail=".concat(t,"&pass=").concat(n)).then((function(e){return e.json()})).then((function(e){return a.setState({user:e}),e})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==this.props.location.state.body&&(localStorage.clear(),window.location.reload()),e.next=3,this.loginUser(this.props.location.state.body.Mail,this.props.location.state.body.Password);case 3:if(!(t=e.sent)){e.next=9;break}return e.next=7,this.GetMainFolders(t.Id);case 7:e.next=11;break;case 9:localStorage.clear(),window.location.reload();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.user||!this.state.mainfolders)return Object(f.jsx)("div",{});var e=this.state.mainfolders,t=[{title:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",path:"/",body:{Mail:this.state.user.Mail,Password:this.state.user.Password}}];return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"Header",children:[Object(f.jsx)("div",{className:"BreadCrumbs",children:t.map((function(e){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)(c.b,{className:"BreadCrumb",to:{pathname:e.path,state:{body:e.body,breadCrumbs:t}},children:e.title}),"\u2002\u2192\u2002"]},e.title)}))}),Object(f.jsxs)("div",{className:"settingsinheader",children:[Object(f.jsx)(c.b,{to:{pathname:"/library",state:{breadCrumbs:t}},children:Object(f.jsx)("button",{className:"btn_logout",children:"\u043e\u0431\u0449\u0430\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430"})}),Object(f.jsx)(c.b,{to:{pathname:"/settings"},children:Object(f.jsx)("button",{className:"btn_logout",children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),Object(f.jsx)("button",{className:"btn_logout",onClick:this.handleClick,children:"\u0432\u044b\u0445\u043e\u0434"}),Object(f.jsx)("img",{className:"logo",src:j,alt:"toolbaritem"})]})]}),Object(f.jsx)("div",{className:"mainfolders",children:e.map((function(e){return Object(f.jsx)("div",{className:"mfolder",children:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b"===e.Name?Object(f.jsx)(c.b,{to:{pathname:"/projects",state:{breadCrumbs:t,body:{Id:e.Id,Name:e.Name}}},children:Object(f.jsx)("button",{className:"buttonfolder",children:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b"})}):Object(f.jsx)(c.b,{to:{pathname:"/template",state:{breadCrumbs:t,body:{Id:e.Id,Name:e.Name}}},children:Object(f.jsx)("button",{className:"buttonfolder",children:"\u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430"})})},e.Id)}))})]})}}]),n}(a.Component),x=(n(51),n(10));n(13);function v(e){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templateelements",{method:"POST",body:t,headers:{Accept:"application/json"}}).then((function(e){console.log(e.status)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={name:"",filepath:null,file:null},a.onChange=a.onChange.bind(Object(p.a)(a)),a.sendImage=a.sendImage.bind(Object(p.a)(a)),a.handleImageChange=a.handleImageChange.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"onChange",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"sendImage",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,v(this.state.file);case 3:this.props.onClose(),window.location.reload();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleImageChange",value:function(e){e.preventDefault();for(var t=new FormData,n=0;n<e.target.files.length;n++){var a=e.target.files[n];t.append("image",a)}t.append("parentfolderid",this.props.folder.Id),t.append("Name",this.state.name),this.setState({file:t,filepath:URL.createObjectURL(e.target.files[0])})}},{key:"render",value:function(){return this.props.show?Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u043d\u043e\u0433\u043e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.name,onChange:this.onChange}),Object(f.jsx)("label",{className:"formlabel",children:"\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435:"}),Object(f.jsxs)("div",{className:"place",children:[Object(f.jsx)("label",{children:this.props.folder.Name})," ",Object(f.jsxs)("button",{className:"button arrow",children:[" -",">"," "]})]})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.sendImage,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})}):null}}]),n}(a.Component);function y(e,t){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={Name:t,ParentfolderId:Number(n)},e.next=3,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).changedirectory=function(e){return function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},a.handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(a.props),e.next=4,y(a.state.name,a.props.folder.Id);case 4:a.props.onClose(),window.location.reload();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={name:"",folders:null,breadCrumbs:null},a.onChange=a.onChange.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.changedirectory=a.changedirectory.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"onChange",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"render",value:function(){return this.props.show?Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.name,onChange:this.onChange}),Object(f.jsx)("label",{className:"formlabel",children:"\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435:"}),Object(f.jsxs)("div",{className:"place",children:[Object(f.jsx)("label",{children:this.props.folder.Name})," ",Object(f.jsxs)("button",{className:"button arrow",children:[" -",">"," "]})]})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})}):null}}]),n}(a.Component),k=n(30),A=n.n(k),S=n(31),I=n.n(S),T=n(32),P=n.n(T);function E(e,t){return z.apply(this,arguments)}function z(){return(z=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/exporttouser?folderid=".concat(t,"&usermail=").concat(n),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t,n){return D.apply(this,arguments)}function D(){return(D=Object(u.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/exporttolibrary?folderid=".concat(t,"&name=").concat(n,"&password=").concat(a),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){return R.apply(this,arguments)}function R(){return(R=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/exporttofolder?folderid=".concat(t,"&newrootid=").concat(n),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"user"!==a.state.exporttype){e.next=6;break}return e.next=4,E(a.props.folder.Id,a.state.body);case 4:e.next=14;break;case 6:if("library"!==a.state.exporttype){e.next=11;break}return e.next=9,B(a.props.folder.Id,a.props.folder.Name,a.state.body);case 9:e.next=14;break;case 11:if("folder"!==a.state.exporttype){e.next=14;break}return e.next=14,M(a.props.folder.Id,a.state.path.Id);case 14:a.props.onClose();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.changedirectory=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var s,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a.state.breadCrumbs,-1===(r=s.map((function(e){return e.body.Id})).indexOf(e.Id))?s.push({title:e.Name,path:"/projects",body:{Name:e.Name,Id:e.Id}}):s.length=r+1,t.next=5,fetch("https://https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(e.Id)).then((function(e){return e.json()})).then((function(t){a.setState({folders:t,breadCrumbs:s,path:{Name:e.Name,Id:e.Id}})})).catch((function(e){return console.log(e)}));case 5:console.log(a.state);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},console.log(a.props),a.state={exporttype:null,body:"",path:{Name:a.props.folder.Name,Id:a.props.folder.Id},folders:null,breadCrumbs:a.props.prevpages,text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.setTypeOfExport=a.setTypeOfExport.bind(Object(p.a)(a)),a.onMailChange=a.onMailChange.bind(Object(p.a)(a)),a.onPasswordChange=a.onPasswordChange.bind(Object(p.a)(a)),a.showlocation=a.showlocation.bind(Object(p.a)(a)),a.changedirectory=a.changedirectory.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"showlocation",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Id)).then((function(e){return e.json()})).then((function(e){"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===n.state.text?n.setState({text:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c",folders:e}):n.setState({text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTypeOfExport",value:function(e){"folder"===e.target.value?this.setState({exporttype:e.target.value,path:{Name:this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Name,Id:this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Id}}):this.setState({exporttype:e.target.value,body:""}),console.log("wow")}},{key:"onMailChange",value:function(e){this.setState({body:e.target.value})}},{key:"onPasswordChange",value:function(e){this.setState({body:e.target.value})}},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.folder.Id!==this.props.folder.Id&&this.setState({exporttype:null,body:"",path:{Name:this.props.folder.Name,Id:this.props.folder.Id},folders:null,breadCrumbs:this.props.prevpages,text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.show?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsxs)("div",{className:"modal-title",children:["\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u043f\u0430\u043f\u043a\u0438 ",this.props.folder.Name]})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsxs)("div",{className:"formwithradio",children:[Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfExport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"user",name:"gender"})," \u0414\u0440\u0443\u0433\u043e\u043c\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e"]}),Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfExport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"folder",name:"gender"})," \u0412 \u0434\u0440\u0443\u0433\u0443\u044e \u043f\u0430\u043f\u043a\u0443"]}),Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfExport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"library",name:"gender"})," \u0412 \u043e\u0431\u0449\u0443\u044e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443"]})]}),"user"===this.state.exporttype?Object(f.jsxs)("div",{className:"exportdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.body,onChange:this.onMailChange})]}):null,"library"===this.state.exporttype?Object(f.jsxs)("div",{className:"exportdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u0417\u0430\u0434\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.body,onChange:this.onPasswordChange})]}):null,"folder"===this.state.exporttype?Object(f.jsxs)("div",{className:"exportdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0432 \u043f\u0430\u043f\u043a\u0443:"}),Object(f.jsxs)("div",{className:"selectedpath",children:[Object(f.jsx)("label",{children:this.state.path.Name})," ",Object(f.jsxs)("button",{className:"arrow",onClick:this.showlocation,children:[" ",this.state.text," ","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?Object(f.jsx)("div",{children:"\u2002\u2193"}):Object(f.jsx)("div",{children:"\u2002\u2191"})," "]})]}),Object(f.jsx)("div",{className:"place",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?null:Object(f.jsxs)("div",{className:"parentwindowforselectingpath",children:[Object(f.jsx)("div",{className:"modalbreadcrumbs",children:this.state.breadCrumbs.slice(1).map((function(t){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)("button",{className:"BreadCrumb withoutframe",onClick:e.changedirectory({Id:t.body.Id,Name:t.body.Name}),children:t.title}),"\u2002\u2192\u2002"]},t.title)}))}),Object(f.jsx)("div",{className:"windowforselectingpath",children:Object(f.jsx)("div",{className:"modalfolders",children:this.state.folders.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonfolder",onClick:e.changedirectory({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))})})]})})]}):null]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component);n(21);function G(e){var t=Object(a.useState)(!1),n=Object(x.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(!1),o=Object(x.a)(c,2),i=o[0],l=o[1],u=Object(a.useState)(!1),d=Object(x.a)(u,2),h=d[0],p=d[1],b=Object(a.useState)(!1),m=Object(x.a)(b,2),j=m[0],O=m[1],v=Object(a.useState)(!1),N=Object(x.a)(v,2),y=N[0],w=N[1],k=Object(a.useState)(!1),S=Object(x.a)(k,2),T=S[0],E=S[1];return Object(f.jsx)("div",{className:"ToolbarRelative",children:Object(f.jsxs)("div",{className:"Toolbar",children:[Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return r(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0441"}),Object(f.jsx)(g,{folder:e.parent,prevpages:e.previouspages,onClose:function(){return r(!1)},show:s}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return l(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443"}),Object(f.jsx)(C,{folder:e.parent,prevpages:e.previouspages,onClose:function(){return l(!1)},show:i}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return p(!0)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443"}),Object(f.jsx)(A.a,{prevpages:e.previouspages,component:e.parent,onClose:function(){return p(!1)},show:h}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return O(!0)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443"}),Object(f.jsx)(I.a,{folder:e.parent,prevpages:e.previouspages,onClose:function(){return O(!1)},show:j}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return w(!0)},children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u043f\u0430\u043f\u043a\u0438"}),Object(f.jsx)(F,{component:e.parent,onClose:function(){return w(!1)},show:y}),Object(f.jsx)("button",{className:"Toolbarbutton",children:"\u0418\u043c\u043f\u043e\u0440\u0442 \u0432 \u043f\u0430\u043f\u043a\u0443"}),Object(f.jsx)(P.a,{component:e.parent,onClose:function(){return E(!1)},show:T})]})})}var L=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={folders:null,elements:null,breadCrumbs:null},a.handleClick=a.handleClick.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.history.push("/"),localStorage.clear(),window.location.reload()}},{key:"GetFolders",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.location.state.breadCrumbs,-1===(a=n.map((function(e){return e.body.Id})).indexOf(this.props.location.state.body.Id))?n.push({title:this.props.location.state.body.Name,path:"/template",body:{Name:this.props.location.state.body.Name,Id:this.props.location.state.body.Id}}):n.length=a+1,console.log("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders"+"/".concat(t)),e.next=6,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){s.setState({folders:e,breadCrumbs:n})})).catch((function(e){return console.log(e)}));case 6:console.log(this.state);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetElements",value:function(e){var t=this;console.log("https://creapediawebapi20210507000107.azurewebsites.net/templateelements"+"/".concat(e)),fetch("https://creapediawebapi20210507000107.azurewebsites.net/templateelements"+"/".concat(e)).then((function(e){return e.json()})).then((function(e){t.setState({elements:e})})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.GetFolders(this.props.location.state.body.Id);case 2:return e.next=4,this.GetElements(this.props.location.state.body.Id);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("\u042f \u0432 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0442\u0435\u043c\u043f\u043b\u044d\u0439\u0442\u0430"),t.location.state.body.Id===this.props.location.state.body.Id){e.next=6;break}return e.next=4,this.GetFolders(this.props.location.state.body.Id);case 4:return e.next=6,this.GetElements(this.props.location.state.body.Id);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.folders||!this.state.elements)return Object(f.jsx)("div",{});var e=this.state,t=e.folders,n=e.elements,a=e.breadCrumbs;return Object(f.jsxs)("div",{className:"folderPage",children:[Object(f.jsxs)("div",{className:"Header",children:[Object(f.jsx)("div",{className:"BreadCrumbs",children:a.map((function(e){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)(c.b,{className:"BreadCrumb",to:{pathname:e.path,state:{body:e.body,breadCrumbs:a}},children:e.title}),"\u2002\u2192\u2002"]},e.title)}))}),Object(f.jsxs)("div",{className:"settingsinheader",children:[Object(f.jsx)("button",{className:"btn_logout",onClick:this.handleClick,children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(f.jsx)("button",{className:"btn_logout",onClick:this.handleClick,children:"\u0432\u044b\u0445\u043e\u0434"}),Object(f.jsx)("img",{className:"logo",src:j,alt:"toolbaritem"})]})]}),Object(f.jsxs)("div",{className:"listview",children:[t.map((function(e){return Object(f.jsx)("div",{children:Object(f.jsx)(c.b,{className:"folderinlist",to:{pathname:"/template",state:{breadCrumbs:a,body:e}},children:Object(f.jsx)("div",{className:"NameElementOfList",children:e.Name})})},e.Id)})),n.map((function(e){return Object(f.jsx)("div",{children:Object(f.jsxs)(c.b,{className:"elementinlist",to:{pathname:"/telement",state:{breadCrumbs:a,body:e}},children:[Object(f.jsx)("img",{className:"elementimage",src:"data:image/jpeg;base64,".concat(e.Image)}),Object(f.jsx)("div",{className:"NameElementOfList",children:e.Name})]})},e.Id)})),Object(f.jsx)("div",{className:"foldercomponents"})]}),Object(f.jsx)("div",{className:"foldercomponents",children:Object(f.jsx)(G,{previouspages:a,typeof_parentel:"folder",parent:this.props.location.state.body})})]})}}]),n}(a.Component);function U(e,t){return V.apply(this,arguments)}function V(){return(V=Object(u.a)(l.a.mark((function e(t,n){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={Name:t,ParentfolderId:Number(n)},e.next=3,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){s=e})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t){return q.apply(this,arguments)}function q(){return(q=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements"+"/image/".concat(t),{method:"POST",body:n,headers:{Accept:"application/json"}}).then((function(e){console.log(e.status)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={name:"",filepath:null,file:null},a.onChange=a.onChange.bind(Object(p.a)(a)),a.sendImage=a.sendImage.bind(Object(p.a)(a)),a.handleImageChange=a.handleImageChange.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"onChange",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"sendImage",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,U(this.state.name,this.props.folder.Id);case 3:if(n=e.sent,null==this.state.file){e.next=7;break}return e.next=7,W(n,this.state.file);case 7:this.props.onClose(),window.location.reload();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleImageChange",value:function(e){if(e.preventDefault(),e.target.files.length>0){for(var t=new FormData,n=0;n<e.target.files.length;n++){var a=e.target.files[n];t.append("image",a)}t.append("parentfolderid",this.props.folder.Id),this.setState({file:t,filepath:URL.createObjectURL(e.target.files[0])})}else null!=this.state.file&&this.setState({file:null,filepath:null})}},{key:"render",value:function(){var e=this;return this.props.show?Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.name,onChange:this.onChange}),Object(f.jsxs)("div",{className:"modal-image",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u0424\u043e\u0442\u043e:"}),Object(f.jsxs)("label",{className:"custom-file-upload",children:["\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",Object(f.jsx)("input",{type:"file",onChange:function(t){return e.handleImageChange(t)}})]}),null===this.state.filepath?Object(f.jsx)("div",{}):Object(f.jsx)("img",{className:"downloadimage",src:this.state.filepath})]})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.sendImage,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})}):null}}]),n}(a.Component);function K(e,t){return Q.apply(this,arguments)}function Q(){return(Q=Object(u.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={Name:t,ParentfolderId:Number(n)},e.next=3,fetch("https://https://creapediawebapi20210507000107.azurewebsites.net/folders",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Y=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).changedirectory=function(e){return function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},a.handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(a.props),e.next=4,K(a.state.name,a.props.folder.Id);case 4:a.props.onClose(),window.location.reload();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={name:"",folders:null,breadCrumbs:null},a.onChange=a.onChange.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.changedirectory=a.changedirectory.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"onChange",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"render",value:function(){return this.props.show?Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.name,onChange:this.onChange})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})}):null}}]),n}(a.Component);function X(e){return J.apply(this,arguments)}function J(){return(J=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return _.apply(this,arguments)}function _(){return(_=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements"+"/".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"folder"!==a.props.typeofcomponent){e.next=6;break}return e.next=4,X(a.props.component.Id);case 4:e.next=8;break;case 6:return e.next=8,Z(a.props.component.Id);case 8:a.props.onClose(),a.setState({isdeleted:!0});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),console.log(a.props),a.state={isdeleted:null},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"render",value:function(){if(console.log("\u0440\u0435\u043d\u0434\u0435\u0440 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f"),this.state.isdeleted){var e=this.props.prevpages;return e.length=e.length-1,this.setState({isdeleted:!1}),console.log("\u042f \u0432 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438"),Object(f.jsx)(o.a,{to:{pathname:e[e.length-1].path,state:{body:e[e.length-1].body,breadCrumbs:e}}})}return this.props.show?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsxs)("div",{className:"modal-title",children:["\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438 ",this.props.component.Name]})}),Object(f.jsx)("div",{className:"modal-body",children:Object(f.jsxs)("label",{className:"formlabel",children:[" \u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443 ",this.props.component.Name,"?"]})}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u0414\u0430"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component);function ee(e,t,n,a,s){return te.apply(this,arguments)}function te(){return(te=Object(u.a)(l.a.mark((function e(t,n,a,s,r){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={IdFolder:Number(t),Name:n,IdParent:Number(a),subfolders:s,elements:r},e.next=3,fetch("https://https://creapediawebapi20210507000107.azurewebsites.net/folders",{method:"PUT",body:JSON.stringify(c),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ne=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).RemoveSubfolder=function(e){return function(t){a.setState((function(t){return{subfolders:t.subfolders.filter((function(t){return t.Id!==e}))}}))}},a.RemoveElement=function(e){return function(t){a.setState((function(t){return{elements:t.elements.filter((function(t){return t.Id!==e}))}}))}},a.changedirectory=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var s,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a.state.breadCrumbs,-1===(r=s.map((function(e){return e.body.Id})).indexOf(e.Id))?s.push({title:e.Name,path:"/projects",body:{Name:e.Name,Id:e.Id}}):s.length=r+1,t.next=5,fetch("https://https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(e.Id)).then((function(e){return e.json()})).then((function(t){a.setState({folders:t,breadCrumbs:s,path:{Name:e.Name,Id:e.Id}})})).catch((function(e){return console.log(e)}));case 5:console.log(a.state);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},a.ChangeShow=function(e){return function(t){a.setState({typeofedit:e})}},a.handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,ee(a.props.folder.Id,a.state.name,a.state.path.Id,a.state.subfolders,a.state.elements);case 3:a.props.onClose(),a.setState({needupate:!0}),window.location.reload();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={name:null,folders:null,isupdated:null,breadCrumbs:null,typeofedit:null,path:null,text:null,needupate:!0,subfolders:null,elements:null},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.showlocation=a.showlocation.bind(Object(p.a)(a)),a.Close=a.Close.bind(Object(p.a)(a)),a.onChange=a.onChange.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"Close",value:function(e){this.props.onClose(),this.setState({needupate:!0})}},{key:"onChange",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"GetSubFoldersAndElements",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){n=e})).catch((function(e){return console.log(e)}));case 2:return console.log(this.state),e.next=5,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){a=e})).catch((function(e){return console.log(e)}));case 5:this.setState({subfolders:n,elements:a});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"showlocation",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Id)).then((function(e){return e.json()})).then((function(e){"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===n.state.text?n.setState({text:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c",folders:e}):n.setState({text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.show||!this.state.needupate){e.next=4;break}return this.setState({name:this.props.folder.Name,folders:null,typeofedit:"folder",isupdated:null,needupate:!1,breadCrumbs:this.props.prevpages.filter((function(e){return e.body.Id!==n.props.folder.Id})),path:{Name:this.props.prevpages[this.props.prevpages.length-2].body.Name,Id:this.props.prevpages[this.props.prevpages.length-2].body.Id},text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"}),e.next=4,this.GetSubFoldersAndElements(this.props.folder.Id);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.show&&this.state.elements&&this.state.subfolders?Object(f.jsx)("div",{className:"ModalPage",onClick:this.Close,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u043f\u043a\u0443"})}),"folder"===this.state.typeofedit?Object(f.jsxs)("div",{className:"ShowSelector",children:[Object(f.jsx)("button",{className:"button-selector-modal current",children:"\u043f\u0430\u043f\u043a\u0430"}),Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("subfolders"),children:"\u043f\u043e\u0434\u043f\u0430\u043f\u043a\u0438"}),Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("elements"),children:"\u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b"})]}):null,"subfolders"===this.state.typeofedit?Object(f.jsxs)("div",{className:"ShowSelector",children:[Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("folder"),children:"\u043f\u0430\u043f\u043a\u0430"}),Object(f.jsx)("button",{className:"button-selector-modal current",children:"\u043f\u043e\u0434\u043f\u0430\u043f\u043a\u0438"}),Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("elements"),children:"\u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b"})]}):null,"elements"===this.state.typeofedit?Object(f.jsxs)("div",{className:"ShowSelector",children:[Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("folder"),children:"\u043f\u0430\u043f\u043a\u0430"}),Object(f.jsx)("button",{className:"button-selector-modal",onClick:this.ChangeShow("subfolders"),children:"\u043f\u043e\u0434\u043f\u0430\u043f\u043a\u0438"}),Object(f.jsx)("button",{className:"button-selector-modal current",children:"\u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b"})]}):null,"folder"===this.state.typeofedit?Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.name,onChange:this.onChange}),Object(f.jsx)("label",{className:"formlabel",children:"\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435:"}),Object(f.jsxs)("div",{className:"selectedpath",children:[Object(f.jsx)("label",{children:this.state.path.Name})," ",Object(f.jsxs)("button",{className:"arrow",onClick:this.showlocation,children:[" ",this.state.text," ","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?Object(f.jsx)("div",{children:"\u2002\u2193"}):Object(f.jsx)("div",{children:"\u2002\u2191"})," "]})]}),Object(f.jsx)("div",{className:"place",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?null:Object(f.jsxs)("div",{className:"parentwindowforselectingpath",children:[Object(f.jsx)("div",{className:"modalbreadcrumbs",children:this.state.breadCrumbs.slice(1).map((function(t){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)("button",{className:"BreadCrumb withoutframe",onClick:e.changedirectory({Id:t.body.Id,Name:t.body.Name}),children:t.title}),"\u2002\u2192\u2002"]},t.title)}))}),Object(f.jsx)("div",{className:"windowforselectingpath",children:Object(f.jsx)("div",{className:"modalfolders",children:this.state.folders.filter((function(t){return t.Id!==e.props.folder.Id})).map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonfolder",onClick:e.changedirectory({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))})})]})})]}):null,"subfolders"===this.state.typeofedit?Object(f.jsx)("div",{className:"modal-body-withoutcenter",children:this.state.subfolders.map((function(t){return Object(f.jsxs)("div",{className:"element-with-delete-button",children:[Object(f.jsx)("button",{className:"arrow",onClick:e.RemoveSubfolder(t.Id),children:"\u2297"}),Object(f.jsx)("label",{children:t.Name})]},t.Id)}))}):null,"elements"===this.state.typeofedit?Object(f.jsx)("div",{className:"modal-body-withoutcenter",children:this.state.elements.map((function(t){return Object(f.jsxs)("div",{className:"element-with-delete-button",children:[Object(f.jsx)("button",{className:"arrow",onClick:e.RemoveElement(t.Id),children:"\u2297"}),Object(f.jsx)("label",{children:t.Name})]},t.Id)}))}):null,Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"SaveButton button",onClick:this.handleSubmit,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)("button",{className:"CloseButton button",onClick:this.Close,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})}):null}}]),n}(a.Component);function ae(e,t,n){return se.apply(this,arguments)}function se(){return(se=Object(u.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/importfromfolder?folderid=".concat(t,"&importcompid=").concat(n,"&type=").concat(a),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e,t,n){return ce.apply(this,arguments)}function ce(){return(ce=Object(u.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/importfromlib?folderid=".concat(t,"&importcompid=").concat(n,"&password=").concat(a),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"fromfolder"!==a.state.importtype){e.next=7;break}return e.next=4,ae(a.props.folder.Id,a.state.path.Id,a.state.path.type);case 4:a.props.onClose(),e.next=14;break;case 7:if("fromlibrary"!==a.state.importtype){e.next=13;break}return e.next=10,re(a.props.folder.Id,a.state.selcomp.Id,a.state.selcomp.type,a.state.body);case 10:a.props.onClose(),e.next=14;break;case 13:alert("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0438\u043c\u043f\u043e\u0440\u0442\u0430");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.selectelement=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({path:{Name:e.Name,Id:e.Id,type:"element"}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},a.selectcomponent=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({selcomp:{Name:e.Name,Id:e.Id,type:e.type}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},a.changedirectory=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var s,r,c,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a.state.breadCrumbs,-1===(r=s.map((function(e){return e.body.Id})).indexOf(e.Id))?s.push({title:e.Name,path:"/projects",body:{Name:e.Name,Id:e.Id}}):s.length=r+1,t.next=5,fetch("https://https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(e.Id)).then((function(e){return e.json()})).then((function(e){c=e})).catch((function(e){return console.log(e)}));case 5:return t.next=7,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements"+"/".concat(e.Id)).then((function(e){return e.json()})).then((function(e){o=e})).catch((function(e){return console.log(e)}));case 7:a.setState({elements:o,folders:c,path:{Name:a.state.breadCrumbs[a.state.breadCrumbs.length-1].body.Name,Id:a.state.breadCrumbs[a.state.breadCrumbs.length-1].body.Id,type:"folder"}});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},console.log(a.props),a.state={importtype:null,body:null,path:{Name:a.props.folder.Name,Id:a.props.folder.Id,type:"folder"},selcomp:{Id:null,Name:"",type:""},libcomponents:null,folders:null,elements:null,breadCrumbs:a.props.prevpages,text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.setTypeOfImport=a.setTypeOfImport.bind(Object(p.a)(a)),a.showlocation=a.showlocation.bind(Object(p.a)(a)),a.onPasswordChange=a.onPasswordChange.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"setTypeOfImport",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("fromfolder"!==t.target.value){e.next=8;break}return e.next=3,fetch("https://https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(this.state.path.Id)).then((function(e){return e.json()})).then((function(e){n=e})).catch((function(e){return console.log(e)}));case 3:return e.next=5,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements"+"/".concat(this.state.path.Id)).then((function(e){return e.json()})).then((function(e){a=e})).catch((function(e){return console.log(e)}));case 5:this.setState({elements:a,folders:n,importtype:t.target.value,path:{Name:this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Name,Id:this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Id}}),e.next=11;break;case 8:return e.next=10,fetch("https://creapediawebapi20210507000107.azurewebsites.net/library/\u043f\u0430\u043f\u043a\u0430").then((function(e){return e.json()})).then((function(e){s=e})).catch((function(e){return console.log(e)}));case 10:this.setState({selcomp:{Id:null,Name:""},libcomponents:s,importtype:t.target.value});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"showlocation",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Id)).then((function(e){return e.json()})).then((function(e){n=e})).catch((function(e){return console.log(e)}));case 2:return e.next=4,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements"+"/".concat(this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Id)).then((function(e){return e.json()})).then((function(e){a=e})).catch((function(e){return console.log(e)}));case 4:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?this.setState({text:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c",folders:n,elements:a}):this.setState({text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onPasswordChange",value:function(e){this.setState({body:e.target.value})}},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.folder.Id!==this.props.folder.Id&&this.setState({importtype:null,body:"",selcomp:{Id:null,Name:""},path:{Name:this.props.folder.Name,Id:this.props.folder.Id,type:"folder"},libcomponents:null,folders:null,breadCrumbs:this.props.prevpages,text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.show?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsxs)("div",{className:"modal-title",children:["\u0418\u043c\u043f\u043e\u0440\u0442 \u0432 \u043f\u0430\u043f\u043a\u0443 ",this.props.folder.Name]})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsxs)("div",{className:"formwithradio",children:[Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfImport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"fromfolder",name:"gender"})," \u0418\u0437 \u0434\u0440\u0443\u0433\u043e\u0439 \u043f\u0430\u043f\u043a\u0438"]}),Object(f.jsxs)("div",{className:"radiobutton",onChange:this.setTypeOfImport.bind(this),children:[Object(f.jsx)("input",{type:"radio",value:"fromlibrary",name:"gender"})," \u0418\u0437 \u043e\u0431\u0449\u0435\u0439 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438"]})]}),"fromlibrary"===this.state.importtype?Object(f.jsxs)("div",{className:"exportdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u0418\u043c\u043f\u043e\u0440\u0442:"}),Object(f.jsxs)("div",{className:"selectedpath",children:[Object(f.jsx)("label",{children:this.state.selcomp.Name})," "]}),Object(f.jsx)("div",{className:"place",children:Object(f.jsx)("div",{className:"parentwindowforselectingpath",children:Object(f.jsx)("div",{className:"windowforselectingpath",children:Object(f.jsx)("div",{children:this.state.libcomponents.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{onClick:e.selectcomponent({Id:t.Id,Name:t.Name,type:t.Typeofcomponent}),className:"libcomponent",children:[Object(f.jsx)("div",{children:t.Name})," ",Object(f.jsx)("div",{children:t.Typeofcomponent})]})},t.Id)}))})})})}),Object(f.jsxs)("div",{className:"exportdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u0417\u0430\u0434\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.body,onChange:this.onPasswordChange})]})]}):null,"fromfolder"===this.state.importtype?Object(f.jsxs)("div",{className:"exportdiv",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u0418\u043c\u043f\u043e\u0440\u0442:"}),Object(f.jsxs)("div",{className:"selectedpath",children:[Object(f.jsx)("label",{children:this.state.path.Name})," ",Object(f.jsxs)("button",{className:"arrow",onClick:this.showlocation,children:[" ",this.state.text," ","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?Object(f.jsx)("div",{children:"\u2002\u2193"}):Object(f.jsx)("div",{children:"\u2002\u2191"})," "]})]}),Object(f.jsx)("div",{className:"place",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"===this.state.text?null:Object(f.jsxs)("div",{className:"parentwindowforselectingpath",children:[Object(f.jsx)("div",{className:"modalbreadcrumbs",children:this.state.breadCrumbs.slice(1).map((function(t){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)("button",{className:"BreadCrumb withoutframe",onClick:e.changedirectory({Id:t.body.Id,Name:t.body.Name}),children:t.title}),"\u2002\u2192\u2002"]},t.title)}))}),Object(f.jsx)("div",{className:"windowforselectingpath",children:Object(f.jsxs)("div",{className:"modalfolders import",children:[this.state.folders.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonfolder",onClick:e.changedirectory({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)})),this.state.elements.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonelement",onClick:e.selectelement({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))]})})]})})]}):null]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component);function ie(e){var t=Object(a.useState)(!1),n=Object(x.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(!1),o=Object(x.a)(c,2),i=o[0],l=o[1],u=Object(a.useState)(!1),d=Object(x.a)(u,2),h=d[0],p=d[1],b=Object(a.useState)(!1),m=Object(x.a)(b,2),j=m[0],O=m[1],v=Object(a.useState)(!1),N=Object(x.a)(v,2),g=N[0],y=N[1],w=Object(a.useState)(!1),C=Object(x.a)(w,2),k=C[0],A=C[1];return Object(f.jsx)("div",{className:"ToolbarRelative",children:Object(f.jsxs)("div",{className:"Toolbar",children:[Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return r(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442"}),Object(f.jsx)(H,{prevpages:e.previouspages,folder:e.parent,onClose:function(){return r(!1)},show:s}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return l(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443"}),Object(f.jsx)(Y,{prevpages:e.previouspages,folder:e.parent,onClose:function(){return l(!1)},show:i}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return p(!0)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443"}),Object(f.jsx)($,{prevpages:e.previouspages,component:e.parent,onClose:function(){return p(!1)},show:h}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return O(!0)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443"}),Object(f.jsx)(ne,{prevpages:e.previouspages,folder:e.parent,onClose:function(){return O(!1)},show:j}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return y(!0)},children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u043f\u0430\u043f\u043a\u0438"}),Object(f.jsx)(F,{prevpages:e.previouspages,folder:e.parent,onClose:function(){return y(!1)},show:g}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return A(!0)},children:"\u0418\u043c\u043f\u043e\u0440\u0442 \u0432 \u043f\u0430\u043f\u043a\u0443"}),Object(f.jsx)(oe,{prevpages:e.previouspages,folder:e.parent,onClose:function(){return A(!1)},show:k})]})})}n(52);var le=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={folders:null,elements:null,breadCrumbs:null},a.handleClick=a.handleClick.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.history.push("/"),localStorage.clear(),window.location.reload()}},{key:"GetFolders",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.location.state.breadCrumbs,-1===(a=n.map((function(e){return e.body.Id})).indexOf(this.props.location.state.body.Id))?n.push({title:this.props.location.state.body.Name,path:"/projects",body:{Name:this.props.location.state.body.Name,Id:this.props.location.state.body.Id}}):n.length=a+1,e.next=5,fetch("https://https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){s.setState({folders:e,breadCrumbs:n})})).catch((function(e){return console.log(e)}));case 5:console.log(this.state);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetElements",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){n.setState({elements:e})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.GetFolders(this.props.location.state.body.Id);case 2:return e.next=4,this.GetElements(this.props.location.state.body.Id);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("\u042f \u0432 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0442\u0435\u043c\u043f\u043b\u044d\u0439\u0442\u0430"),t.location.state.body.Id===this.props.location.state.body.Id){e.next=6;break}return e.next=4,this.GetFolders(this.props.location.state.body.Id);case 4:return e.next=6,this.GetElements(this.props.location.state.body.Id);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.folders||!this.state.elements)return Object(f.jsx)("div",{});var e=this.state,t=e.folders,n=e.elements,a=e.breadCrumbs;return Object(f.jsxs)("div",{className:"folderPage",children:[Object(f.jsxs)("div",{className:"Header",children:[Object(f.jsx)("div",{className:"BreadCrumbs",children:a.map((function(e){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)(c.b,{className:"BreadCrumb",to:{pathname:e.path,state:{body:e.body,breadCrumbs:a}},children:e.title}),"\u2002\u2192\u2002"]},e.title)}))}),Object(f.jsxs)("div",{className:"settingsinheader",children:[Object(f.jsx)(c.b,{to:{pathname:"/library",state:{breadCrumbs:a}},children:Object(f.jsx)("button",{className:"btn_logout",children:"\u043e\u0431\u0449\u0430\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430"})}),Object(f.jsx)(c.b,{to:{pathname:"/settings"},children:Object(f.jsx)("button",{className:"btn_logout",children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),Object(f.jsx)("button",{className:"btn_logout",onClick:this.handleClick,children:"\u0432\u044b\u0445\u043e\u0434"}),Object(f.jsx)("img",{className:"logo",src:j,alt:"toolbaritem"})]})]}),Object(f.jsxs)("div",{className:"listview",children:[t.map((function(e){return Object(f.jsx)("div",{children:Object(f.jsx)(c.b,{className:"folderinlist",to:{pathname:"/projects",state:{breadCrumbs:a,body:e}},children:Object(f.jsx)("div",{className:"NameElementOfList",children:e.Name})})},e.Id)})),n.map((function(e){return Object(f.jsx)("div",{children:Object(f.jsxs)(c.b,{className:"elementinlist",to:{pathname:"/element",state:{breadCrumbs:a,body:e}},children:[Object(f.jsx)("img",{className:"elementimage",src:"data:image/jpeg;base64,".concat(e.Image)}),Object(f.jsx)("div",{className:"NameElementOfList",children:e.Name})]})},e.Id)}))]}),Object(f.jsx)("div",{className:"foldercomponents",children:Object(f.jsx)(ie,{previouspages:a,parent:this.props.location.state.body})})]})}}]),n}(a.Component),ue=n(17);function de(e,t){return he.apply(this,arguments)}function he(){return(he=Object(u.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={characteristics:t,elementid:Number(n)},e.next=3,fetch("https://creapediawebapi20210507000107.azurewebsites.net/characteristics",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pe=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).ChangeName=function(e){return function(t){a.setState((function(n){var a=Object(ue.a)(n.characteristics);return a[e].name=t.target.value,{characteristics:a}}))}},a.ChangeValue=function(e){return function(t){a.setState((function(n){var a=Object(ue.a)(n.characteristics);return a[e].value=t.target.value,{characteristics:a}}))}},a.state={characteristics:null,currentchar:{name:"",value:""}},a.ChangeName=a.ChangeName.bind(Object(p.a)(a)),a.ChangeValue=a.ChangeValue.bind(Object(p.a)(a)),a.CreateNew=a.CreateNew.bind(Object(p.a)(a)),a.CreateNewName=a.CreateNewName.bind(Object(p.a)(a)),a.CreateNewValue=a.CreateNewValue.bind(Object(p.a)(a)),a.Save=a.Save.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"Save",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=[],n=""!==this.state.currentchar.name||""!==this.state.currentchar.name?null===this.state.characteristics?[{name:this.state.currentchar.name,value:this.state.currentchar.value,id:0}]:[].concat(Object(ue.a)(this.state.characteristics),[{name:this.state.currentchar.name,value:this.state.currentchar.value,id:this.state.characteristics.length}]):this.state.characteristics,e.next=5,de(n,this.props.element.Id);case 5:this.props.onClose(),window.location.reload();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"CreateNewName",value:function(e){var t=e.target.value;this.setState((function(e){return{currentchar:{name:t,value:e.currentchar.value}}}))}},{key:"CreateNewValue",value:function(e){var t=e.target.value;this.setState((function(e){return{currentchar:{name:e.currentchar.name,value:t}}}))}},{key:"CreateNew",value:function(e){e.preventDefault(),null===this.state.characteristics?this.setState((function(e){return{characteristics:[{name:e.currentchar.name,value:e.currentchar.value,id:0}],currentchar:{name:"",value:""}}})):this.setState((function(e){return{characteristics:[].concat(Object(ue.a)(e.characteristics),[{name:e.currentchar.name,value:e.currentchar.value,id:e.characteristics.length}]),currentchar:{name:"",value:""}}}))}},{key:"render",value:function(){var e=this;return this.props.show?Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.currentchar.name,onChange:this.CreateNewName}),Object(f.jsx)("label",{className:"formlabel",children:" \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.currentchar.value,onChange:this.CreateNewValue}),null!==this.state.characteristics?this.state.characteristics.map((function(t){return Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:t.name,onChange:e.ChangeName(t.id)}),Object(f.jsx)("label",{className:"formlabel",children:" \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:t.value,onChange:e.ChangeValue(t.id)})]},t.id)})):null]}),Object(f.jsx)("button",{onClick:this.CreateNew,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u043e\u0434\u043d\u0443"}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.Save,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})}):null}}]),n}(a.Component);function be(e,t){return me.apply(this,arguments)}function me(){return(me=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var je=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).Selecttelement=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({path:{Name:e.Name,Id:e.Id}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},a.handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,be(a.state.path.Id,a.props.element.Id);case 3:a.props.onClose();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.changedirectory=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var s,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a.state.breadCrumbs,-1===(r=s.map((function(e){return e.body.Id})).indexOf(e.Id))?s.push({title:e.Name,path:"/templates",body:{Name:e.Name,Id:e.Id}}):s.length=r+1,a.setState({breadCrumbs:s}),t.next=6,a.GetFoldersAndElements(e.Id,s);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},console.log(a.props),a.state={path:{Name:"",Id:null},isneedupdate:!0,folders:null,telements:null,breadCrumbs:null},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.changedirectory=a.changedirectory.bind(Object(p.a)(a)),a.Selecttelement=a.Selecttelement.bind(Object(p.a)(a)),a.CloseWindow=a.CloseWindow.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"CloseWindow",value:function(){this.props.onClose(),this.setState({isneedupdate:!0})}},{key:"GetFoldersAndElements",value:function(){var e=Object(u.a)(l.a.mark((function e(t,n){var a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatefolders"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){a.setState({folders:e})})).catch((function(e){return console.log(e)}));case 2:return e.next=4,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templateelements"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){a.setState({telements:e})})).catch((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.show){e.next=5;break}if(!0!==this.state.isneedupdate){e.next=5;break}return this.setState({path:{Name:"",Id:null},folders:null,telements:null,breadCrumbs:[{title:"\u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430",path:"/templae",body:{Name:"\u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430",Id:0}}],isneedupdate:!1}),e.next=5,this.GetFoldersAndElements(0,null);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.show&&this.state.breadCrumbs&&this.state.folders&&this.state.telements?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u0430"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u0430:"}),Object(f.jsx)("div",{className:"selectedpath",children:Object(f.jsx)("label",{children:this.state.path.Name})}),Object(f.jsx)("div",{className:"place",children:Object(f.jsxs)("div",{className:"parentwindowforselectingpath",children:[Object(f.jsx)("div",{className:"modalbreadcrumbs",children:this.state.breadCrumbs.map((function(t){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)("button",{className:"BreadCrumb withoutframe",onClick:e.changedirectory({Id:t.body.Id,Name:t.body.Name}),children:t.title}),"\u2002\u2192\u2002"]},t.title)}))}),Object(f.jsxs)("div",{className:"windowforselectingpath",children:[this.state.folders.length>0?Object(f.jsx)("div",{className:"modalfolders",children:this.state.folders.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonfolder",onClick:e.changedirectory({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))}):null,this.state.telements.length>0?Object(f.jsx)("div",{className:"modalfolders",children:this.state.telements.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonelement",onClick:e.Selecttelement({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))}):null]})]})})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.CloseWindow,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component);function fe(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements"+"/".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xe=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fe(a.props.element.Id);case 3:a.props.onClose(),a.setState({isdeleted:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),console.log(a.props),a.state={isdeleted:null},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"render",value:function(){if(console.log("\u0440\u0435\u043d\u0434\u0435\u0440 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f"),this.state.isdeleted){var e=this.props.prevpages;return e.length=e.length-1,this.setState({isdeleted:!1}),console.log("\u042f \u0432 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438"),Object(f.jsx)(o.a,{to:{pathname:e[e.length-1].path,state:{body:e[e.length-1].body,breadCrumbs:e}}})}return this.props.show?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsxs)("div",{className:"modal-title",children:["\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430 ",this.props.element.Name]})}),Object(f.jsx)("div",{className:"modal-body",children:Object(f.jsxs)("label",{className:"formlabel",children:[" \u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442 ",this.props.element.Name,"?"]})}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u0414\u0430"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component);var ve=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).ChangeName=function(e){return function(t){a.setState((function(n){var a=Object(ue.a)(n.characteristics);return a[e].name=t.target.value,{characteristics:a}}))}},a.ChangeShow=function(e){return function(t){a.setState({typeofedit:e})}},a.DeleteChar=function(e){return function(t){a.setState((function(t){return{characteristics:t.characteristics.filter((function(t){return t.Id!==e}))}}))}},a.DeleteClass=function(e){return function(t){a.setState((function(t){return{templatecharacteristics:t.templatecharacteristics.filter((function(t){return t.Id!==e}))}}))}},a.ChangeValue=function(e){return function(t){a.setState((function(n){var a=Object(ue.a)(n.characteristics);return a[e].value=t.target.value,{characteristics:a}}))}},a.DeleteRelation=function(e){return function(t){a.setState((function(t){return{relations:t.relations.filter((function(t){return t.Id!==e}))}}))}},a.state={templatecharacteristics:null,characteristics:null,typeofedit:"element",relations:null,element:a.props.element,isneedupdate:!0},a.onChange=a.onChange.bind(Object(p.a)(a)),a.Save=a.Save.bind(Object(p.a)(a)),a.handleImageChange=a.handleImageChange.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"onChange",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"Save",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),this.props.onClose(),window.location.reload();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleImageChange",value:function(e){if(e.preventDefault(),e.target.files.length>0){for(var t=new FormData,n=0;n<e.target.files.length;n++){var a=e.target.files[n];t.append("image",a)}t.append("parentfolderid",this.props.folder.Id),this.setState({file:t,filepath:URL.createObjectURL(e.target.files[0])})}else null!=this.state.file&&this.setState({file:null,filepath:null})}},{key:"GetFoldersElementsRelations",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/characteristics"+"?idelement=".concat(t)).then((function(e){return e.json()})).then((function(e){n=e})).catch((function(e){return console.log(e)}));case 2:return e.next=4,fetch("https://creapediawebapi20210507000107.azurewebsites.net/characteristics"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){a=e})).catch((function(e){return console.log(e)}));case 4:return e.next=6,fetch("https://creapediawebapi20210507000107.azurewebsites.net/relations"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){s=e})).catch((function(e){return console.log(e)}));case 6:this.setState({templatecharacteristics:n,characteristics:a,relations:s});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.show){e.next=5;break}if(!0!==this.state.isneedupdate){e.next=5;break}return this.setState({templatecharacteristics:null,characteristics:null,typeofedit:"element",relations:null,element:this.props.element,isneedupdate:!1}),e.next=5,this.GetFoldersElementsRelations(this.props.element.Id);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(!this.props.show)return null;if(!this.state.characteristics||!this.state.templatecharacteristics||!this.state.relations)return null;var t=this.state.templatecharacteristics.map((function(e){return{idparent:e.IdParent,name:e.NameParent}})),n=new Set,a=t.reduce((function(e,t){return n.has(t.idparent)||(n.add(t.idparent,t),e.push(t)),e}),[]);return Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430"})}),Object(f.jsxs)("div",{className:"modal-body",children:["element"===this.state.typeofedit?Object(f.jsxs)("div",{className:"ShowMenu",children:[Object(f.jsx)("button",{className:"button current",children:"\u044d\u043b\u0435\u043c\u0435\u043d\u0442"}),Object(f.jsx)("button",{className:"button",onClick:this.ChangeShow("characteristics"),children:"\u0445\u0430\u0440\u0430\u043a\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),Object(f.jsx)("button",{className:"button",onClick:this.ChangeShow("relations"),children:"\u0441\u0432\u044f\u0437\u0438"})]}):null,"characteristics"===this.state.typeofedit?Object(f.jsxs)("div",{className:"ShowMenu",children:[Object(f.jsx)("button",{className:"button",onClick:this.ChangeShow("element"),children:"\u044d\u043b\u0435\u043c\u0435\u043d\u0442"}),Object(f.jsx)("button",{className:"button current",children:"\u0445\u0430\u0440\u0430\u043a\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),Object(f.jsx)("button",{className:"button",onClick:this.ChangeShow("relations"),children:"\u0441\u0432\u044f\u0437\u0438"})]}):null,"relations"===this.state.typeofedit?Object(f.jsxs)("div",{className:"ShowMenu",children:[Object(f.jsx)("button",{className:"button",onClick:this.ChangeShow("element"),children:"\u044d\u043b\u0435\u043c\u0435\u043d\u0442"}),Object(f.jsx)("button",{className:"button",onClick:this.ChangeShow("characteristics"),children:"\u0445\u0430\u0440\u0430\u043a\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),Object(f.jsx)("button",{className:"button current",children:"\u0441\u0432\u044f\u0437\u0438"})]}):null,"element"===this.state.typeofedit?Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.name,onChange:this.onChange}),Object(f.jsxs)("div",{className:"modal-image",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435:"}),Object(f.jsx)("input",{type:"file",onChange:function(t){return e.handleImageChange(t)}}),null===this.state.filepath?Object(f.jsx)("div",{}):Object(f.jsx)("img",{className:"downloadimage",src:this.state.filepath})]})]}):null,"characteristics"===this.state.typeofedit?Object(f.jsxs)("div",{children:[a.map((function(e){return Object(f.jsxs)("div",{className:"ParentElement",children:[Object(f.jsx)("button",{className:"button arrow",children:"\u2297"}),e.name]},e.idparent)})),this.state.characteristics.map((function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{className:"button arrow",children:"\u2297"})," ",e.Name,": ",e.Value]},e.Id)}))]}):null,"relations"===this.state.typeofedit?Object(f.jsx)("div",{children:this.state.relations.map((function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{className:"button arrow",children:"\u2297"}),e.NameFirstElement,"\u2002\u2192\u2002",e.NameSecondElement,": ",e.Rel1to2,null!==e.Rel2to1?Object(f.jsxs)("div",{children:[e.NameSecondElement,"\u2002\u2192\u2002",e.NameFirstElement,": ",e.Rel2to1]}):null]},e.IdFirst)}))}):null]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.Save,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})})}}]),n}(a.Component);function Ne(e,t){return ge.apply(this,arguments)}function ge(){return(ge=Object(u.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={Name:t,ParentfolderId:Number(n)},e.next=3,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e){return we.apply(this,arguments)}function we(){return(we=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements/image",{method:"POST",body:t,headers:{Accept:"application/json"}}).then((function(e){console.log(e.status)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ce=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={name:"",filepath:null,file:null},a.onChange=a.onChange.bind(Object(p.a)(a)),a.sendImage=a.sendImage.bind(Object(p.a)(a)),a.handleImageChange=a.handleImageChange.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"onChange",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"sendImage",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Ne(this.state.name,this.props.folder.Id);case 3:if(null==this.state.file){e.next=6;break}return e.next=6,ye(this.state.file);case 6:this.props.onClose(),window.location.reload();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleImageChange",value:function(e){if(e.preventDefault(),e.target.files.length>0){for(var t=new FormData,n=0;n<e.target.files.length;n++){var a=e.target.files[n];t.append("image",a)}t.append("parentfolderid",this.props.folder.Id),this.setState({file:t,filepath:URL.createObjectURL(e.target.files[0])})}else null!=this.state.file&&this.setState({file:null,filepath:null})}},{key:"render",value:function(){var e=this;return this.props.show?Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.name,onChange:this.onChange}),Object(f.jsx)("label",{className:"formlabel",children:"\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435:"}),Object(f.jsxs)("div",{className:"place",children:[Object(f.jsx)("label",{children:this.props.folder.Name})," ",Object(f.jsxs)("button",{className:"button arrow",children:[" -",">"," "]})]}),Object(f.jsxs)("div",{className:"modal-image",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u0424\u043e\u0442\u043e:"}),Object(f.jsx)("input",{type:"file",onChange:function(t){return e.handleImageChange(t)}}),null===this.state.filepath?Object(f.jsx)("div",{}):Object(f.jsx)("img",{className:"downloadimage",src:this.state.filepath})]})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.sendImage,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.props.onClose,children:"\u041d\u0430\u0437\u0430\u0434"})]})]})}):null}}]),n}(a.Component);function ke(e,t,n,a){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(u.a)(l.a.mark((function e(t,n,a,s){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={Firstelementid:Number(t),Secondelementid:Number(n),Rel1to2:a,Rel2to1:s},e.next=3,fetch("https://creapediawebapi20210507000107.azurewebsites.net/relations/relation2",{method:"POST",body:JSON.stringify(r),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(e,t,n){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(u.a)(l.a.mark((function e(t,n,a){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={Firstelementid:Number(t),Secondelementid:Number(n),Rel1to2:a,Rel2to1:null},e.next=3,fetch("https://creapediawebapi20210507000107.azurewebsites.net/relations/relation1",{method:"POST",body:JSON.stringify(s),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Te=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).Selecttelement=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({path:{Name:e.Name,Id:e.Id}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},a.handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"\u041e\u0434\u043d\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u044f\u044f"!==a.state.typeofrel){e.next=11;break}if(!a.state.defaultdirection){e.next=7;break}return e.next=5,Se(a.props.element.Id,a.state.path.Id,a.state.firstrel);case 5:e.next=9;break;case 7:return e.next=9,Se(a.state.path.Id,a.props.element.Id,a.state.firstrel);case 9:e.next=18;break;case 11:if(!a.state.defaultdirection){e.next=16;break}return e.next=14,ke(a.props.element.Id,a.state.path.Id,a.state.firstrel,a.state.secondrel);case 14:e.next=18;break;case 16:return e.next=18,ke(a.state.path.Id,a.props.element.Id,a.state.firstrel,a.state.secondrel);case 18:window.location.reload(),a.props.onClose();case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.changedirectory=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var s,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a.state.breadCrumbs,-1===(r=s.map((function(e){return e.body.Id})).indexOf(e.Id))?s.push({title:e.Name,path:"/templates",body:{Name:e.Name,Id:e.Id}}):s.length=r+1,a.setState({breadCrumbs:s}),t.next=6,a.GetFoldersAndElements(e.Id,s);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},console.log(a.props),a.state={path:{Name:"",Id:null},typeofrel:"\u041e\u0434\u043d\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u044f\u044f",firstrel:null,secondrel:null,defaultdirection:!0,isneedupdate:!0,folders:null,elements:null,breadCrumbs:a.props.prevpages.slice(0,-1)},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.changedirectory=a.changedirectory.bind(Object(p.a)(a)),a.Selecttelement=a.Selecttelement.bind(Object(p.a)(a)),a.CloseWindow=a.CloseWindow.bind(Object(p.a)(a)),a.changedirection=a.changedirection.bind(Object(p.a)(a)),a.changeonelinerel=a.changeonelinerel.bind(Object(p.a)(a)),a.changesecondlinerel=a.changesecondlinerel.bind(Object(p.a)(a)),a.changetypeofrel=a.changetypeofrel.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"changetypeofrel",value:function(e){"\u041e\u0434\u043d\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u044f\u044f"===this.state.typeofrel?this.setState({typeofrel:"\u0414\u0432\u0443\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u044f\u044f"}):this.setState({typeofrel:"\u041e\u0434\u043d\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u044f\u044f"})}},{key:"changeonelinerel",value:function(e){this.setState({firstrel:e.target.value})}},{key:"changesecondlinerel",value:function(e){this.setState({secondrel:e.target.value})}},{key:"changedirection",value:function(e){this.state.defaultdirection?this.setState({defaultdirection:!1}):this.setState({defaultdirection:!0})}},{key:"CloseWindow",value:function(){this.props.onClose(),this.setState({isneedupdate:!0})}},{key:"GetFoldersAndElements",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){n=e})).catch((function(e){return console.log(e)}));case 2:return e.next=4,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){a=e})).catch((function(e){return console.log(e)}));case 4:this.setState({folders:n,elements:a});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.show){e.next=5;break}if(!0!==this.state.isneedupdate){e.next=5;break}return this.setState({path:{Name:"",Id:null},defaultdirection:!0,isneedupdate:!1,folders:null,elements:null,breadCrumbs:this.props.prevpages.slice(0,-1)}),e.next=5,this.GetFoldersAndElements(this.state.breadCrumbs[this.state.breadCrumbs.length-1].body.Id);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.show&&this.state.breadCrumbs&&this.state.folders&&this.state.elements?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsx)("div",{className:"modal-title",children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0432\u044f\u0437\u0438"})}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("label",{className:"formlabel",children:"\u0421\u0432\u044f\u0437\u0430\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0441:"}),Object(f.jsx)("div",{className:"selectedpath",children:Object(f.jsx)("label",{children:""!==this.state.path.Name?Object(f.jsx)("div",{children:this.state.path.Name}):Object(f.jsx)("div",{children:"\u042d\u043b\u0435\u043c\u0435\u043d\u0442 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d"})})}),Object(f.jsx)("div",{className:"place",children:Object(f.jsxs)("div",{className:"parentwindowforselectingpath",children:[Object(f.jsx)("div",{className:"modalbreadcrumbs",children:this.state.breadCrumbs.slice(1).map((function(t){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)("button",{className:"BreadCrumb withoutframe",onClick:e.changedirectory({Id:t.body.Id,Name:t.body.Name}),children:t.title}),"\u2002\u2192\u2002"]},t.title)}))}),Object(f.jsxs)("div",{className:"windowforselectingpath",children:[this.state.folders.length>0?Object(f.jsx)("div",{className:"modalfolders",children:this.state.folders.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonfolder",onClick:e.changedirectory({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))}):null,this.state.elements.length>0?Object(f.jsx)("div",{className:"modalfolders",children:this.state.elements.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"modalbuttonelement",onClick:e.Selecttelement({Id:t.Id,Name:t.Name}),children:Object(f.jsx)("div",{children:t.Name})})},t.Id)}))}):null]})]})}),""!==this.state.path.Name?Object(f.jsxs)("div",{className:"Relations",children:[this.state.defaultdirection?Object(f.jsxs)("label",{className:"formlabel",children:["\u0421\u0432\u044f\u0437\u044c ",this.props.element.Name," \u0441 ",this.state.path.Name]}):Object(f.jsxs)("label",{className:"formlabel",children:["\u0421\u0432\u044f\u0437\u044c ",this.state.path.Name," \u0441 ",this.props.element.Name]}),Object(f.jsx)("button",{className:"button arrow",onClick:this.changedirection,children:"\u2194"}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.firstrel,onChange:this.changeonelinerel}),"\u0414\u0432\u0443\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u044f\u044f"===this.state.typeofrel?Object(f.jsxs)("div",{children:[this.state.defaultdirection?Object(f.jsxs)("label",{className:"formlabel",children:["\u0421\u0432\u044f\u0437\u044c ",this.state.path.Name," \u0441 ",this.props.element.Name]}):Object(f.jsxs)("label",{className:"formlabel",children:["\u0421\u0432\u044f\u0437\u044c ",this.props.element.Name," \u0441 ",this.state.path.Name]}),Object(f.jsx)("input",{className:"forminput",type:"text",value:this.state.secondrel,onChange:this.changesecondlinerel})]}):null,Object(f.jsxs)("div",{className:"selectedpath",children:[Object(f.jsxs)("label",{className:"formlabel",children:["\u0422\u0438\u043f \u0441\u0432\u044f\u0437\u0438: ",this.state.typeofrel]}),Object(f.jsx)("button",{className:"button arrow",onClick:this.changetypeofrel,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]})]}):null]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button SaveButton",onClick:this.handleSubmit,children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(f.jsx)("button",{className:"button CloseButton",onClick:this.CloseWindow,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component);function Pe(e){var t=Object(a.useState)(!1),n=Object(x.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(!1),o=Object(x.a)(c,2),i=o[0],l=o[1],u=Object(a.useState)(!1),d=Object(x.a)(u,2),h=d[0],p=d[1],b=Object(a.useState)(!1),m=Object(x.a)(b,2),j=m[0],O=m[1],v=Object(a.useState)(!1),N=Object(x.a)(v,2),g=N[0],y=N[1],w=Object(a.useState)(!1),C=Object(x.a)(w,2),k=C[0],A=C[1];return Object(f.jsx)("div",{className:"ToolbarRelative",children:Object(f.jsxs)("div",{className:"Toolbar",children:[Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return r(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),Object(f.jsx)(pe,{element:e.parent,prevpages:e.previouspages,onClose:function(){return r(!1)},show:s}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return l(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0441"}),Object(f.jsx)(je,{element:e.parent,prevpages:e.previouspages,onClose:function(){return l(!1)},show:i}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return A(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0432\u044f\u0437\u044c"}),Object(f.jsx)(Te,{element:e.parent,prevpages:e.previouspages,onClose:function(){return A(!1)},show:k}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return p(!0)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442"}),Object(f.jsx)(xe,{prevpages:e.previouspages,element:e.parent,onClose:function(){return p(!1)},show:h}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return y(!0)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442"}),Object(f.jsx)(ve,{element:e.parent,prevpages:e.previouspages,onClose:function(){return y(!1)},show:g}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return O(!0)},children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430"}),Object(f.jsx)(Ce,{element:e.parent,prevpages:e.previouspages,onClose:function(){return O(!1)},show:j})]})})}n(53);var Ee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAxYAAAAoCAYAAABjJmznAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPESURBVHgB7d2xbhN3HMDx3/8SOWVq3qDmCZqlE6rkhE4VQ/IEOCPQChiSsgFbm1ZKhkLGJk9AO7QSC3YHJLbyBvgR0i3Q5v69MyKiwQ4YuxVwn8/m+50jK4Plr+7+908BAAA0RufadrtonbmaU17KTw/X+jvXD2IGUgAAAB+8zsb2UlF8dDVy7r44VsXA46NnT5dnERdFAAAAH7witVZfjopajliaay30qqsYizElYQEAAA1QFsVeFRKDk8dnFRduhQIAgIbo3NhtpzL3qghon5xNe1uUsAAAgAap46Ioyz+qFBh1hWJQPo+LQUzIrVAAANAg/W8vDcocyxF51JWJdvH8tqh2TEhYAABAw/S/v/K4LMu1MeO3igthAQAADdT/4et+mfP6mPHEcSEsAACgoaorF3sR+faY8URxMRcAAEBjPXn4W//suS9TROqMGC+mufnVTz774pfBo/unPi3KU6EAAIBY2bizEyldHTMelDmv1Wszxr1fWAAAAEPLmz/upSgujhkfVHGxPC4uhAUAAHDs/MZuL6fcGTcvI7r9rcv7J49bvA0AABw7+utwLUeMveWpCoi9lc3dmyePW7wNAAAcGzy6f9j+/ML9yLGaIhbHnNY5e+5CPHn46+8vDqSVjTvdUWemlA6OyqNTV37DG/t7fhAwtcOD/s5130sA8D/o3NhtpzL3qrhojz8r3XqwdWn4uNq0snk3BwA0Sq4CNYlUppZzGgTMQPXjfRDvoBS5nVN0XnPSzoPvLl8XFgAAwHRy3rN4GwAAmE5KXWEBAABMpX6KlLAAAADeWh0V+dmZ5fkAAIBXvD8POah+2B4U+T35rKn6v74nn7XyZxTxceTcPeWcn6uoWO/vrB/YeRsAAHhF59p2u2gt9GLM42ZzlPu9ra+6L14LCwAA4F8mjYqaNRYAAMCxKioW51oL92KCqKgJCwAA4FgVFb0csTR6mm+PioqasAAAAIZWvrnz02lR8WDryq1x7xUWAABArGzu3oycuqOnp0dFzeJtAABouGFURL41evr6qKgJCwAAaLBZREVNWAAAQEN1Nu9eLCL2Rk/fPCpqwgIAABro/Obd1Rxxb/R0sqioCQsAAGiYzsb2UpFavSoHFl+dTh4VtfkAAAAaY7irdhpugDezqKi5YgEAAA0xjIrWQnWlYtSu2m8fFTVhAQAADXBaVOQo98ftqP2mbJAHAAANULRa3fiPomL49wMAAPjglUWxlyP2Xz5WvX48i6iouRUKAAAapHNjt53K4YZ4n+ZnZ5b7O+sHMQP/AMBKP3wl6wERAAAAAElFTkSuQmCC",ze=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).ChangeShow=function(e){return function(t){a.setState({showcharacreristics:e})}},a.state={templatecharacteristics:null,breadCrumbs:null,characteristics:null,showcharacreristics:!0,relations:null},a}return Object(h.a)(n,[{key:"GetTemplateCharacteristics",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.location.state.breadCrumbs,-1===(a=n.map((function(e){return e.body.Id})).indexOf(this.props.location.state.body.Id))?n.push({title:this.props.location.state.body.Name,path:"/element",body:{Name:this.props.location.state.body.Name,Id:this.props.location.state.body.Id}}):n.length=a+1,console.log("https://creapediawebapi20210507000107.azurewebsites.net/characteristics"+"?idelement=".concat(t)),e.next=6,fetch("https://creapediawebapi20210507000107.azurewebsites.net/characteristics"+"?idelement=".concat(t)).then((function(e){return e.json()})).then((function(e){s.setState({templatecharacteristics:e,breadCrumbs:n})})).catch((function(e){return console.log(e)}));case 6:console.log(this.state);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetCharacteristics",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/characteristics"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){n.setState({characteristics:e})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetRelations",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/relations"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){n.setState({relations:e})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.GetTemplateCharacteristics(this.props.location.state.body.Id);case 2:return e.next=4,this.GetCharacteristics(this.props.location.state.body.Id);case 4:return e.next=6,this.GetRelations(this.props.location.state.body.Id);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.templatecharacteristics||!this.state.characteristics)return Object(f.jsx)("div",{});var e=this.state,t=e.templatecharacteristics,n=e.characteristics,a=e.breadCrumbs,s=e.showcharacreristics,r=e.relations,o=t.map((function(e){return{idparent:e.IdParent,name:e.NameParent}})),i=new Set,l=o.reduce((function(e,t){return i.has(t.idparent)||(i.add(t.idparent,t),e.push(t)),e}),[]);return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"Header",children:[Object(f.jsx)("div",{className:"BreadCrumbs",children:a.map((function(e){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)(c.b,{className:"BreadCrumb",to:{pathname:e.path,state:{body:e.body,breadCrumbs:a}},children:e.title}),"\u2002\u2192\u2002"]},e.title)}))}),Object(f.jsxs)("div",{className:"settingsinheader",children:[Object(f.jsx)(c.b,{to:{pathname:"/library",state:{breadCrumbs:a}},children:Object(f.jsx)("button",{className:"btn_logout",children:"\u043e\u0431\u0449\u0430\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430"})}),Object(f.jsx)(c.b,{to:{pathname:"/settings"},children:Object(f.jsx)("button",{className:"btn_logout",children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),Object(f.jsx)("button",{className:"btn_logout",onClick:this.handleClick,children:"\u0432\u044b\u0445\u043e\u0434"}),Object(f.jsx)("img",{className:"logo",src:j,alt:"toolbaritem"})]})]}),Object(f.jsxs)("div",{className:"ElementBody",children:[Object(f.jsxs)("div",{className:"Characteristics",children:[s?Object(f.jsxs)("div",{className:"ShowMenu",children:[Object(f.jsx)("button",{className:"button current",children:"\u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),Object(f.jsx)("button",{className:"button",onClick:this.ChangeShow(!1),children:"\u0441\u0432\u044f\u0437\u0438"})]}):Object(f.jsxs)("div",{className:"ShowMenu",children:[Object(f.jsx)("button",{className:"button",onClick:this.ChangeShow(!0),children:"\u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),Object(f.jsx)("button",{className:"button current",children:"\u0441\u0432\u044f\u0437\u0438"})]}),s?Object(f.jsxs)("div",{children:[l.map((function(e){return Object(f.jsxs)("div",{className:"ParentElement",children:[e.name,t.filter((function(t){return t.IdParent===e.idparent})).map((function(e){return Object(f.jsxs)("div",{className:"ParentCharacteristic",children:[e.NameCharacter,": ",e.ValueCharacter]},e.IdCharacter)}))]},e.idparent)})),n.map((function(e){return Object(f.jsxs)("div",{children:[e.Name,": ",e.Value]},e.Id)}))]}):Object(f.jsx)("div",{className:"relations",children:r.map((function(e){return Object(f.jsx)("div",{children:null==e.Rel2to1?Object(f.jsxs)("div",{className:"onerelation",children:[e.NameFirstElement,Object(f.jsxs)("div",{className:"relation",children:[Object(f.jsx)("div",{className:"firstelement",children:e.Rel1to2}),Object(f.jsx)("img",{src:Ee,className:"imagearrow",alt:"toolbaritem"})]}),e.NameSecondElement]}):Object(f.jsxs)("div",{className:"onerelation",children:[e.NameFirstElement,Object(f.jsxs)("div",{className:"relation",children:[Object(f.jsx)("div",{className:"firstelement",children:e.Rel1to2}),Object(f.jsx)("img",{src:Ee,className:"imagearrow",alt:"toolbaritem"}),Object(f.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAxYAAAAoCAYAAABjJmznAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOsSURBVHgB7d2xbxtVHMDx37sUp2z+Dwj/QTowsdiGBSb4D9wxCYh0aMrWdKtcpGRJOyaMTO2ExBJ7QWIjbGz4T8jYVuDHXUmhLTk7sQNqcp/PFN+9WCdHivzVu/cuxQXpbO60l1rLw5zS0eTZ03uj3VvjAAAAGiHFBflo6+HPOWL1n3dOBwIDAACaoYgL0Luzt/9aVFRy7hetVj8AAIAr71osqIqKyKn/5vEyNMa5KA4CAAC48haasehtPbpbHxWpO7q/Ng4AAODKm3uNxYuoiLz95nFRAQAAzbMUc6iLivLYcc7xyWiw/msAAACNce41FvVRUU1/pJujB+tHAQAANMq5wmJaVExyLqNi40kAAACNc+bF29Oiojx+r4yKgwAAABrpTIu3Z0XF4WBjOwAAgMaaGRaiAgAAmGVqWEyLihyTb4eDL/oBAAA0Xm1YTI+KOBoO1m8EAABA1OwK1buztx859087V0VFfv5uNwAAAE78a1eov6Ii9U8bfPJU7c9HuzePAwAA4MRrt0KdISq6o/tr4wAAAHjFi7DobO60i9byfvnjZ/Uj00EZHceRczsug5TbOadLca1Fda0Rl+Nzjervfzk+VwAA/j+pioql1vKw/GK7GgAAAHMoRAUAALCoQlQAAACLKqoH3QUAAMACXize7t3e242Uvpo2MOc0KgeP4y1UXtdKwAXIKa8ELMwmBwA0z9/bzfa29rbLl3enjB1Pnj/rjnZvjQMA+M91NvfLQH0qUlnctd9XAi5CjnZRFKf+X3r9ORbiAgAAmMPSqy9++/H70fsffpqqXWhrxreLpWud9z74+LvxTz88DQAAgFLx5oHDwcb2JOebdb9Q7SKV3rn+OAAAAE6kuhOd23urRYph7QLEnA8OH2zUBggAANAcRd2J0YONo0mObq7bCSqlfu/Ow50AAAAar5h2soqLXKT6uMix2dt6NG2xNwAA0ADpLIM6Xz9aSZM8rH9eRNo+HKzdCwAAoJHOFBaVWXExieiPBuue4g0AAA105rCozIyLyR/d0TdfjgIAAGiUc4VFZUZcHE9y7lZrMwIAAGiMc4dFZWZcPH92w9O5AQCgOYqYw+j+2jiX8ZAjTpuZaBet5WFnc2clAACARphrxuKlMh7aqYyI8k1WTzk9LmcuumYuAADg6ptrxuKlMhqOy5mLbs3MxUrRavUDAAC48hYKi0ptXKR0MMnxJAAAgCtvoVuhXlXdFrW0fP1xnsQvk6XYrdZhBAAA0Ah/AtYESHtuzTU8AAAAAElFTkSuQmCC",className:"imagearrow",alt:"toolbaritem"}),Object(f.jsx)("div",{className:"secondelement",children:e.Rel2to1})]}),e.NameSecondElement]})},e.IdFirst)}))})]}),Object(f.jsx)("img",{className:"ImageElement",src:"data:image/jpeg;base64,".concat(this.props.location.state.body.Image)})]}),Object(f.jsx)(Pe,{previouspages:a,parent:this.props.location.state.body})]})}}]),n}(a.Component),Be=n(33),De=n.n(Be),Me=n(34),Re=n.n(Me);function Fe(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements"+"/".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ve=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"folder"!==a.props.typeofcomponent){e.next=6;break}return e.next=4,Fe(a.props.component.Id);case 4:e.next=8;break;case 6:return e.next=8,Le(a.props.component.Id);case 8:a.props.onClose(),a.setState({isdeleted:!0});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),console.log(a.props),a.state={isdeleted:null},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"render",value:function(){if(console.log("\u0440\u0435\u043d\u0434\u0435\u0440 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f"),this.state.isdeleted){var e=this.props.prevpages;return e.length=e.length-1,this.setState({isdeleted:!1}),console.log("\u042f \u0432 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438"),Object(f.jsx)(o.a,{to:{pathname:e[e.length-1].path,state:{body:e[e.length-1].body,breadCrumbs:e}}})}return this.props.show?(console.log(this.props),Object(f.jsx)("div",{className:"ModalPage",onClick:this.props.onClose,children:Object(f.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("div",{className:"modal-header",children:Object(f.jsxs)("h4",{className:"modal-title",children:["\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 ",this.props.component.Name]})}),Object(f.jsx)("div",{className:"modal-body",children:Object(f.jsxs)("label",{className:"formlabel",children:[" \u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c ","template"===this.props.typeofcomponent?"\u043f\u0430\u043f\u043a\u0443":"\u044d\u043b\u0435\u043c\u0435\u043d\u0442"," ",this.props.component.Name,"?"]})}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{className:"button",onClick:this.handleSubmit,children:"\u0414\u0430"}),Object(f.jsx)("button",{className:"button",onClick:this.props.onClose,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})):null}}]),n}(a.Component),We=n(35),qe=n.n(We),He=n(36),Ke=n.n(He);function Qe(e){var t=Object(a.useState)(!1),n=Object(x.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(!1),o=Object(x.a)(c,2),i=o[0],l=o[1],u=Object(a.useState)(!1),d=Object(x.a)(u,2),h=d[0],p=d[1],b=Object(a.useState)(!1),m=Object(x.a)(b,2),j=m[0],O=m[1],v=Object(a.useState)(!1),N=Object(x.a)(v,2),g=N[0],y=N[1];return Object(f.jsx)("div",{className:"ToolbarRelative",children:Object(f.jsxs)("div",{className:"Toolbar",children:[Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return r(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),Object(f.jsx)(De.a,{element:e.parent,prevpages:e.previouspages,onClose:function(){return r(!1)},show:s}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return l(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0441"}),Object(f.jsx)(Re.a,{element:e.parent,prevpages:e.previouspages,onClose:function(){return l(!1)},show:i}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return p(!0)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0441"}),Object(f.jsx)(Ve,{prevpages:e.previouspages,component:e.parent,onClose:function(){return p(!1)},show:h}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return y(!0)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0441"}),Object(f.jsx)(qe.a,{element:e.parent,prevpages:e.previouspages,onClose:function(){return y(!1)},show:g}),Object(f.jsx)("button",{className:"Toolbarbutton",onClick:function(){return O(!0)},children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u043a\u043b\u0430\u0441\u0441\u0430"}),Object(f.jsx)(Ke.a,{component:e.parent,typeofcomponent:e.typeof_parentel,onClose:function(){return O(!1)},show:j})]})})}n(54);var Ye=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={templatecharacteristics:null,breadCrumbs:null,characteristics:null,savepath:null},a.handleClick=a.handleClick.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.history.push("/"),localStorage.clear(),window.location.reload()}},{key:"GetTemplateCharacteristics",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.location.state.breadCrumbs,-1===(a=n.map((function(e){return"/telement"===e.path?e.body.Id:0})).indexOf(this.props.location.state.body.Id))?n.push({title:this.props.location.state.body.Name,path:"/telement",body:{Name:this.props.location.state.body.Name,Id:this.props.location.state.body.Id}}):n.length=a+1,console.log("https://creapediawebapi20210507000107.azurewebsites.net/templatecharacteristics"+"?idelement=".concat(t)),e.next=6,fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatecharacteristics"+"?idelement=".concat(t)).then((function(e){return e.json()})).then((function(e){s.setState({templatecharacteristics:e,breadCrumbs:n})})).catch((function(e){return console.log(e)}));case 6:console.log(this.state);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetCharacteristics",value:function(e){var t=this;fetch("https://creapediawebapi20210507000107.azurewebsites.net/templatecharacteristics"+"/".concat(e)).then((function(e){return e.json()})).then((function(e){t.setState({characteristics:e})})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.GetTemplateCharacteristics(this.props.location.state.body.Id);case 2:return e.next=4,this.GetCharacteristics(this.props.location.state.body.Id);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("\u042f \u0432 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0442\u0435\u043c\u043f\u043b\u044d\u0439\u0442\u0430"),t.location.state.body.path===this.props.location.state.body.path){e.next=6;break}return e.next=4,this.GetTemplateCharacteristics(this.props.location.state.body.Id);case 4:return e.next=6,this.GetCharacteristics(this.props.location.state.body.Id);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;if(!this.state.templatecharacteristics||!this.state.characteristics)return Object(f.jsx)("div",{});var t=this.state,n=t.templatecharacteristics,a=t.characteristics,s=t.breadCrumbs,r=n.map((function(e){return{idparent:e.IdParent,name:e.NameParent}})),o=new Set,i=r.reduce((function(e,t){return o.has(t.idparent)||(o.add(t.idparent,t),e.push(t)),e}),[]);return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"header2",children:null===(e=s[s.length-1])||void 0===e?void 0:e.title}),Object(f.jsx)("div",{className:"BreadCrumbs",children:s.map((function(e){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)(c.b,{className:"BreadCrumb",to:{pathname:e.path,state:{body:e.body,breadCrumbs:s}},children:e.title}),"\u2002\u2192\u2002"]},e.title)}))}),Object(f.jsx)(Qe,{previouspages:s,typeof_parentel:"templateelement",parent:this.props.location.state.body}),Object(f.jsxs)("div",{className:"Characteristics",children:[i.map((function(e){return Object(f.jsxs)("div",{className:"Element",children:[e.name,n.filter((function(t){return t.IdParent===e.idparent})).map((function(e){return Object(f.jsxs)("div",{className:"Characteristic",children:[e.NameCharacter,": ",e.ValueCharacter]},e.IdCharacter)}))]},e.idparent)})),a.map((function(e){return Object(f.jsxs)("div",{children:[e.Name,": ",e.Value]},e.Id)}))]})]})}}]),n}(a.Component);n(55);function Xe(e,t){return Je.apply(this,arguments)}function Je(){return(Je=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://creapediawebapi20210507000107.azurewebsites.net/users"+"?mail=".concat(t,"&pass=").concat(n),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(e){var t=e.setToken,n=Object(a.useState)(),s=Object(x.a)(n,2),r=s[0],i=s[1],d=Object(a.useState)(),h=Object(x.a)(d,2),p=h[0],b=h[1],m=Object(o.g)(),O=function(){var e=Object(u.a)(l.a.mark((function e(n){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,Xe(r,p);case 3:a=e.sent,s={Mail:a.Mail,Password:a.Password},m.push({pathname:"/"}),console.log(s),t(s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{className:"body",children:Object(f.jsx)("div",{className:"border",children:Object(f.jsxs)("form",{className:"login-wrapper",onSubmit:O,children:[Object(f.jsx)("img",{className:"logologin",src:j,alt:"toolbaritem"}),Object(f.jsx)("div",{className:"header",children:"Creapedia"}),Object(f.jsxs)("label",{className:"form-row",children:[Object(f.jsx)("p",{children:"\u043f\u043e\u0447\u0442\u0430"}),Object(f.jsx)("input",{type:"text",placeholder:"exapmle@email.com",onChange:function(e){return i(e.target.value)}})]}),Object(f.jsxs)("label",{className:"form-row",children:[Object(f.jsx)("p",{children:"\u043f\u0430\u0440\u043e\u043b\u044c"}),Object(f.jsx)("input",{type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",onChange:function(e){return b(e.target.value)}})]}),Object(f.jsxs)("div",{className:"loginlinks",children:[Object(f.jsx)(c.b,{className:"RegistrationLink",to:{pathname:"/registration",state:{body:null}},children:"\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(f.jsx)(c.b,{className:"ForgotPass",to:{pathname:"/registration",state:{body:null}},children:"\u0437\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})]}),Object(f.jsx)("label",{className:"form-row",children:Object(f.jsx)("button",{type:"submit",children:"\u0432\u043e\u0439\u0442\u0438"})})]})})})}function _e(e,t){return $e.apply(this,arguments)}function $e(){return($e=Object(u.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={Mail:t,Password:n},e.next=3,fetch("https://creapediawebapi20210507000107.azurewebsites.net/users",{method:"POST",body:JSON.stringify(a),headers:{"Access-Control-Request-Method":"POST",Origin:"http://localhost:3000",Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var et=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,_e(a.state.mail,a.state.password);case 3:alert("\u0412\u044b \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c! \u0414\u043b\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u0430\u0434\u0440\u0435\u0441\u0430, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435, \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u0443\u044e \u0432\u0430\u043c \u043d\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443"),a.setState({ifregister:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={mail:"",password:"",ifregister:null},a.onChangeMail=a.onChangeMail.bind(Object(p.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"onChangeMail",value:function(e){var t=e.target.value;this.setState({mail:t})}},{key:"onChangePassword",value:function(e){var t=e.target.value;this.setState({password:t})}},{key:"render",value:function(){return this.state.ifregister?Object(f.jsx)(o.a,{to:{pathname:"/",state:{body:null}}}):Object(f.jsx)("div",{className:"body",children:Object(f.jsx)("div",{className:"border",children:Object(f.jsxs)("form",{className:"login-wrapper",onSubmit:this.handleSubmit,children:[Object(f.jsx)("img",{className:"logologin",src:j,alt:"toolbaritem"}),Object(f.jsx)("div",{className:"header",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(f.jsxs)("label",{className:"form-row",children:[Object(f.jsx)("p",{children:"\u043f\u043e\u0447\u0442\u0430"}),Object(f.jsx)("input",{type:"text",value:this.state.mail,onChange:this.onChangeMail,placeholder:"exapmle@email.com"})]}),Object(f.jsxs)("label",{className:"form-row",children:[Object(f.jsx)("p",{children:"\u043f\u0430\u0440\u043e\u043b\u044c"}),Object(f.jsx)("input",{type:"password",value:this.state.password,onChange:this.onChangePassword,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]}),Object(f.jsx)("div",{className:"loginlinks",children:Object(f.jsx)(c.b,{className:"RegistrationLink",to:{pathname:"/login",state:{body:null}},children:"\u043d\u0430\u0437\u0430\u0434"})}),Object(f.jsx)("label",{className:"form-row",children:Object(f.jsx)("button",{type:"submit",children:"\u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]})})})}}]),n}(a.Component);function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:({Mail:t,Password:n});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var at=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).DeleteAcc=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,tt(a.state.mail,a.state.password);case 3:alert("\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,tt(a.state.mail,a.state.password);case 3:alert("\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={mail:a.props.body.Mail,password:a.props.body.Password},a.onChangeMail=a.onChangeMail.bind(Object(p.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.DeleteAcc=a.DeleteAcc.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"onChangeMail",value:function(e){var t=e.target.value;this.setState({mail:t})}},{key:"onChangePassword",value:function(e){var t=e.target.value;this.setState({password:t})}},{key:"render",value:function(){return Object(f.jsx)("div",{className:"body",children:Object(f.jsx)("div",{className:"border",children:Object(f.jsxs)("form",{className:"login-wrapper",onSubmit:this.handleSubmit,children:[Object(f.jsx)("img",{className:"logo",src:j,alt:"toolbaritem"}),Object(f.jsx)("div",{className:"header",children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(f.jsxs)("label",{className:"form-row",children:[Object(f.jsx)("p",{children:"\u043f\u043e\u0447\u0442\u0430"}),Object(f.jsx)("input",{type:"text",value:this.state.mail,onChange:this.onChangeMail,placeholder:"exapmle@email.com"})]}),Object(f.jsxs)("label",{className:"form-row",children:[Object(f.jsx)("p",{children:"\u043f\u0430\u0440\u043e\u043b\u044c"}),Object(f.jsx)("input",{type:"password",value:this.state.password,onChange:this.onChangePassword,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]}),Object(f.jsx)("label",{className:"form-row",children:Object(f.jsx)("button",{type:"submit",children:"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})}),Object(f.jsx)("label",{className:"form-row",children:Object(f.jsx)("button",{onClick:this.DeleteAcc,children:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(f.jsx)("div",{className:"loginlinks",children:Object(f.jsx)(c.b,{className:"RegistrationLink",to:{pathname:"/main",state:{body:{Mail:this.state.mail,Password:this.state.password}}},children:"\u043d\u0430\u0437\u0430\u0434"})})]})})})}}]),n}(a.Component),st=(n(56),function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={showelements:!0,components:null,breadCrumbs:null},a.handleClick=a.handleClick.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.history.push("/"),localStorage.clear(),window.location.reload()}},{key:"GetFolders",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.location.state.breadCrumbs,-1===(a=n.map((function(e){return e.body.Id})).indexOf(this.props.location.state.body.Id))?n.push({title:this.props.location.state.body.Name,path:"/projects",body:{Name:this.props.location.state.body.Name,Id:this.props.location.state.body.Id}}):n.length=a+1,e.next=5,fetch("https://https://creapediawebapi20210507000107.azurewebsites.net/folders"+"/".concat(t)).then((function(e){return e.json()})).then((function(e){s.setState({folders:e,breadCrumbs:n})})).catch((function(e){return console.log(e)}));case 5:console.log(this.state);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetElements",value:function(e){var t=this;fetch("https://creapediawebapi20210507000107.azurewebsites.net/elements"+"/".concat(e)).then((function(e){return e.json()})).then((function(e){t.setState({elements:e})})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.GetFolders(this.props.location.state.body.Id);case 2:return e.next=4,this.GetElements(this.props.location.state.body.Id);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("\u042f \u0432 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0442\u0435\u043c\u043f\u043b\u044d\u0439\u0442\u0430"),t.location.state.body.Id===this.props.location.state.body.Id){e.next=6;break}return e.next=4,this.GetFolders(this.props.location.state.body.Id);case 4:return e.next=6,this.GetElements(this.props.location.state.body.Id);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.folders||!this.state.elements)return Object(f.jsx)("div",{});var e=this.state,t=e.folders,n=e.elements,a=e.breadCrumbs;return Object(f.jsxs)("div",{className:"folderPage",children:[Object(f.jsxs)("div",{className:"Header",children:[Object(f.jsx)("div",{className:"BreadCrumbs",children:a.map((function(e){return Object(f.jsxs)("div",{className:"gt",children:[Object(f.jsx)(c.b,{className:"BreadCrumb",to:{pathname:e.path,state:{body:e.body,breadCrumbs:a}},children:e.title}),"\u2002\u2192\u2002"]},e.title)}))}),Object(f.jsxs)("div",{className:"settingsinheader",children:[Object(f.jsx)("button",{className:"btn_logout",onClick:this.handleClick,children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(f.jsx)("button",{className:"btn_logout",onClick:this.handleClick,children:"\u0432\u044b\u0445\u043e\u0434"}),Object(f.jsx)("img",{className:"logo",src:j,alt:"toolbaritem"})]})]}),Object(f.jsxs)("div",{className:"listview",children:[t.map((function(e){return Object(f.jsx)("div",{children:Object(f.jsx)(c.b,{className:"folderinlist",to:{pathname:"/projects",state:{breadCrumbs:a,body:e}},children:Object(f.jsx)("div",{className:"NameElementOfList",children:e.Name})})},e.Id)})),n.map((function(e){return Object(f.jsx)("div",{children:Object(f.jsxs)(c.b,{className:"elementinlist",to:{pathname:"/element",state:{breadCrumbs:a,body:e}},children:[Object(f.jsx)("img",{className:"elementimage",src:"data:image/jpeg;base64,".concat(e.Image)}),Object(f.jsx)("div",{className:"NameElementOfList",children:e.Name})]})},e.Id)}))]}),Object(f.jsx)("div",{className:"foldercomponents",children:Object(f.jsx)(ie,{previouspages:a,parent:this.props.location.state.body})})]})}}]),n}(a.Component));n(57);var rt=Object(o.h)((function(e){var t=function(){var e=Object(a.useState)(function(){var e=localStorage.getItem("token"),t=JSON.parse(e);return console.log(t),t}()),t=Object(x.a)(e,2),n=t[0],s=t[1];return{setToken:function(e){localStorage.setItem("token",JSON.stringify(e)),s(e)},token:n}}(),n=t.token,s=t.setToken;return n?Object(f.jsx)(c.a,{children:Object(f.jsxs)(o.d,{children:[Object(f.jsx)(o.b,{path:"/main",component:O}),Object(f.jsx)(o.b,{path:"/template",component:L}),Object(f.jsx)(o.b,{path:"/projects",component:le}),Object(f.jsx)(o.b,{path:"/element",component:ze}),Object(f.jsx)(o.b,{path:"/telement",component:Ye}),Object(f.jsx)(o.b,{path:"/library",component:st}),Object(f.jsx)(o.b,{path:"/settings",component:at}),Object(f.jsx)(o.a,{from:"/",to:{pathname:"/main",state:{body:n}}})]})}):Object(f.jsx)(c.a,{children:Object(f.jsxs)(o.d,{children:[Object(f.jsx)(o.b,{path:"/registration",component:et}),Object(f.jsx)(o.b,{path:"/login",children:Object(f.jsx)(Ze,{setToken:s})}),Object(f.jsx)(o.a,{from:"/",to:{pathname:"/login"}})]})})})),ct=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))};r.a.render(Object(f.jsx)(c.a,{children:Object(f.jsx)(rt,{})}),document.getElementById("root")),ct()}],[[58,1,2]]]);
//# sourceMappingURL=main.d8e1b8e3.chunk.js.map